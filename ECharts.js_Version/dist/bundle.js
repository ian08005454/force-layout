!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=23)}([function(t,e,i){var n;
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */!function(e,i){"use strict";"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,l=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},u=o.push,h=o.indexOf,c={},d=c.toString,p=c.hasOwnProperty,f=p.toString,g=f.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},_=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,i){var n,r,o=(i=i||_).createElement("script");if(o.text=t,e)for(n in b)(r=e[n]||e.getAttribute&&e.getAttribute(n))&&o.setAttribute(n,r);i.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[d.call(t)]||"object":typeof t}var S=function(t,e){return new S.fn.init(t,e)};function C(t){var e=!!t&&"length"in t&&t.length,i=w(t);return!v(t)&&!y(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:"3.5.1",constructor:S,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var t,e,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=t[e],"__proto__"!==e&&a!==n&&(u&&n&&(S.isPlainObject(n)||(r=Array.isArray(n)))?(i=a[e],o=r&&!Array.isArray(i)?[]:r||S.isPlainObject(i)?i:{},r=!1,a[e]=S.extend(u,o,n)):void 0!==n&&(a[e]=n));return a},S.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==d.call(t))&&(!(e=a(t))||"function"==typeof(i=p.call(e,"constructor")&&e.constructor)&&f.call(i)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){x(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(C(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(C(Object(t))?S.merge(i,"string"==typeof t?[t]:t):u.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:h.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,a=!i;r<o;r++)!e(t[r],r)!==a&&n.push(t[r]);return n},map:function(t,e,i){var n,r,o=0,a=[];if(C(t))for(n=t.length;o<n;o++)null!=(r=e(t[o],o,i))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&a.push(r);return l(a)},guid:1,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){c["[object "+e+"]"]=e.toLowerCase()}));var k=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(t){var e,i,n,r,o,a,s,l,u,h,c,d,p,f,g,m,v,y,_,b="sizzle"+1*new Date,x=t.document,w=0,S=0,C=lt(),k=lt(),T=lt(),D=lt(),M=function(t,e){return t===e&&(c=!0),0},I={}.hasOwnProperty,A=[],P=A.pop,O=A.push,L=A.push,E=A.slice,N=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+z+"*("+B+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+z+"*\\]",F=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",W=new RegExp(z+"+","g"),V=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),j=new RegExp("^"+z+"*,"+z+"*"),q=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),$=new RegExp(z+"|>"),Y=new RegExp(F),U=new RegExp("^"+B+"$"),G={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\([^\\r\\n\\f])","g"),it=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},at=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{L.apply(A=E.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(t){L={apply:A.length?function(t,e){O.apply(t,E.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function st(t,e,n,r){var o,s,u,h,c,f,v,y=e&&e.ownerDocument,x=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return n;if(!r&&(d(e),e=e||p,g)){if(11!==x&&(c=J.exec(t)))if(o=c[1]){if(9===x){if(!(u=e.getElementById(o)))return n;if(u.id===o)return n.push(u),n}else if(y&&(u=y.getElementById(o))&&_(e,u)&&u.id===o)return n.push(u),n}else{if(c[2])return L.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&i.getElementsByClassName&&e.getElementsByClassName)return L.apply(n,e.getElementsByClassName(o)),n}if(i.qsa&&!D[t+" "]&&(!m||!m.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===x&&($.test(t)||q.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&i.scope||((h=e.getAttribute("id"))?h=h.replace(nt,rt):e.setAttribute("id",h=b)),s=(f=a(t)).length;s--;)f[s]=(h?"#"+h:":scope")+" "+_t(f[s]);v=f.join(",")}try{return L.apply(n,y.querySelectorAll(v)),n}catch(e){D(t,!0)}finally{h===b&&e.removeAttribute("id")}}}return l(t.replace(V,"$1"),e,n,r)}function lt(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function ut(t){return t[b]=!0,t}function ht(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ut((function(e){return e=+e,ut((function(i,n){for(var r,o=t([],i.length,e),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=st.support={},o=st.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!X.test(e||i&&i.nodeName||"HTML")},d=st.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:x;return a!=p&&9===a.nodeType&&a.documentElement?(f=(p=a).documentElement,g=!o(p),x!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),i.scope=ht((function(t){return f.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),i.attributes=ht((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=ht((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=Q.test(p.getElementsByClassName),i.getById=ht((function(t){return f.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(i.qsa=Q.test(p.querySelectorAll))&&(ht((function(t){var e;f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+z+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+z+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+z+"*name"+z+"*="+z+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ht((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+z+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(i.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ht((function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",F)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=Q.test(f.compareDocumentPosition),_=e||Q.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},M=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t==p||t.ownerDocument==x&&_(x,t)?-1:e==p||e.ownerDocument==x&&_(x,e)?1:h?N(h,t)-N(h,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t==p?-1:e==p?1:r?-1:o?1:h?N(h,t)-N(h,e):0;if(r===o)return dt(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)s.unshift(i);for(;a[n]===s[n];)n++;return n?dt(a[n],s[n]):a[n]==x?-1:s[n]==x?1:0},p):p},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(d(t),i.matchesSelector&&g&&!D[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){D(e,!0)}return st(e,p,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=p&&d(t),_(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=p&&d(t);var r=n.attrHandle[e.toLowerCase()],o=r&&I.call(n.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:i.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(nt,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,n=[],r=0,o=0;if(c=!i.detectDuplicates,h=!i.sortStable&&t.slice(0),t.sort(M),c){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return h=null,t},r=st.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=st.selectors={cacheLength:50,createPseudo:ut,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&Y.test(i)&&(e=a(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+z+")"+t+"("+z+"|$)"))&&C(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var r=st.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(W," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,h,c,d,p,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(_=(p=(u=(h=(c=(d=m)[b]||(d[b]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]||[])[0]===w&&u[1])&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){h[t]=[w,p,_];break}}else if(y&&(_=p=(u=(h=(c=(d=e)[b]||(d[b]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]||[])[0]===w&&u[1]),!1===_)for(;(d=++p&&d&&d[g]||(_=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&((h=(c=d[b]||(d[b]={}))[d.uniqueID]||(c[d.uniqueID]={}))[t]=[w,_]),d!==e)););return(_-=r)===n||_%n==0&&_/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ut((function(t,i){for(var n,o=r(t,e),a=o.length;a--;)t[n=N(t,o[a])]=!(i[n]=o[a])})):function(t){return r(t,0,i)}):r}},pseudos:{not:ut((function(t){var e=[],i=[],n=s(t.replace(V,"$1"));return n[b]?ut((function(t,e,i,r){for(var o,a=n(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,r,o){return e[0]=t,n(e,null,o,i),e[0]=null,!i.pop()}})),has:ut((function(t){return function(e){return st(t,e).length>0}})),contains:ut((function(t){return t=t.replace(et,it),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ut((function(t){return U.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt((function(){return[0]})),last:mt((function(t,e){return[e-1]})),eq:mt((function(t,e,i){return[i<0?i+e:i]})),even:mt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:mt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:mt((function(t,e,i){for(var n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:mt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function yt(){}function _t(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function bt(t,e,i){var n=e.dir,r=e.next,o=r||n,a=i&&"parentNode"===o,s=S++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,r);return!1}:function(e,i,l){var u,h,c,d=[w,s];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(h=(c=e[b]||(e[b]={}))[e.uniqueID]||(c[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((u=h[o])&&u[0]===w&&u[1]===s)return d[2]=u[2];if(h[o]=d,d[2]=t(e,i,l))return!0}return!1}}function xt(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function wt(t,e,i,n,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(i&&!i(o,n,r)||(a.push(o),u&&e.push(s)));return a}function St(t,e,i,n,r,o){return n&&!n[b]&&(n=St(n)),r&&!r[b]&&(r=St(r,o)),ut((function(o,a,s,l){var u,h,c,d=[],p=[],f=a.length,g=o||function(t,e,i){for(var n=0,r=e.length;n<r;n++)st(t,e[n],i);return i}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:wt(g,d,t,s,l),v=i?r||(o?t:f||n)?[]:a:m;if(i&&i(m,v,s,l),n)for(u=wt(v,p),n(u,[],s,l),h=u.length;h--;)(c=u[h])&&(v[p[h]]=!(m[p[h]]=c));if(o){if(r||t){if(r){for(u=[],h=v.length;h--;)(c=v[h])&&u.push(m[h]=c);r(null,v=[],u,l)}for(h=v.length;h--;)(c=v[h])&&(u=r?N(o,c):d[h])>-1&&(o[u]=!(a[u]=c))}}else v=wt(v===a?v.splice(f,v.length):v),r?r(null,a,v,l):L.apply(a,v)}))}function Ct(t){for(var e,i,r,o=t.length,a=n.relative[t[0].type],s=a||n.relative[" "],l=a?1:0,h=bt((function(t){return t===e}),s,!0),c=bt((function(t){return N(e,t)>-1}),s,!0),d=[function(t,i,n){var r=!a&&(n||i!==u)||((e=i).nodeType?h(t,i,n):c(t,i,n));return e=null,r}];l<o;l++)if(i=n.relative[t[l].type])d=[bt(xt(d),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<o&&!n.relative[t[r].type];r++);return St(l>1&&xt(d),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(V,"$1"),i,l<r&&Ct(t.slice(l,r)),r<o&&Ct(t=t.slice(r)),r<o&&_t(t))}d.push(i)}return xt(d)}return yt.prototype=n.filters=n.pseudos,n.setFilters=new yt,a=st.tokenize=function(t,e){var i,r,o,a,s,l,u,h=k[t+" "];if(h)return e?0:h.slice(0);for(s=t,l=[],u=n.preFilter;s;){for(a in i&&!(r=j.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=q.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(V," ")}),s=s.slice(i.length)),n.filter)!(r=G[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return e?s.length:s?st.error(t):k(t,l).slice(0)},s=st.compile=function(t,e){var i,r=[],o=[],s=T[t+" "];if(!s){for(e||(e=a(t)),i=e.length;i--;)(s=Ct(e[i]))[b]?r.push(s):o.push(s);(s=T(t,function(t,e){var i=e.length>0,r=t.length>0,o=function(o,a,s,l,h){var c,f,m,v=0,y="0",_=o&&[],b=[],x=u,S=o||r&&n.find.TAG("*",h),C=w+=null==x?1:Math.random()||.1,k=S.length;for(h&&(u=a==p||a||h);y!==k&&null!=(c=S[y]);y++){if(r&&c){for(f=0,a||c.ownerDocument==p||(d(c),s=!g);m=t[f++];)if(m(c,a||p,s)){l.push(c);break}h&&(w=C)}i&&((c=!m&&c)&&v--,o&&_.push(c))}if(v+=y,i&&y!==v){for(f=0;m=e[f++];)m(_,b,a,s);if(o){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=P.call(l));b=wt(b)}L.apply(l,b),h&&!o&&b.length>0&&v+e.length>1&&st.uniqueSort(l)}return h&&(w=C,u=x),_};return i?ut(o):o}(o,r))).selector=t}return s},l=st.select=function(t,e,i,r){var o,l,u,h,c,d="function"==typeof t&&t,p=!r&&a(t=d.selector||t);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&g&&n.relative[l[1].type]){if(!(e=(n.find.ID(u.matches[0].replace(et,it),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=G.needsContext.test(t)?0:l.length;o--&&(u=l[o],!n.relative[h=u.type]);)if((c=n.find[h])&&(r=c(u.matches[0].replace(et,it),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&_t(l)))return L.apply(i,r),i;break}}return(d||s(t,p))(r,e,!g,i,!e||tt.test(t)&&vt(e.parentNode)||e),i},i.sortStable=b.split("").sort(M).join("")===b,i.detectDuplicates=!!c,d(),i.sortDetached=ht((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ht((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ct("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&ht((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ct("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ht((function(t){return null==t.getAttribute("disabled")}))||ct(R,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),st}(i);S.find=k,S.expr=k.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=k.uniqueSort,S.text=k.getText,S.isXMLDoc=k.isXML,S.contains=k.contains,S.escapeSelector=k.escape;var T=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&S(t).is(i))break;n.push(t)}return n},D=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},M=S.expr.match.needsContext;function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,i){return v(e)?S.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?S.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?S.grep(t,(function(t){return h.call(e,t)>-1!==i})):S.filter(e,t,i)}S.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?S.find.matchesSelector(n,t)?[n]:[]:S.find.matches(t,S.grep(e,(function(t){return 1===t.nodeType})))},S.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(S(t).filter((function(){for(e=0;e<n;e++)if(S.contains(r[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)S.find(t,r[e],i);return n>1?S.uniqueSort(i):i},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&M.test(t)?S(t):t||[],!1).length}});var O,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||O,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:_,!0)),A.test(n[1])&&S.isPlainObject(e))for(n in e)v(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=_.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==i.ready?i.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,O=S(_);var E=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(S.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,r=this.length,o=[],a="string"!=typeof t&&S(t);if(!M.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&S.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(S(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return T(t,"parentNode")},parentsUntil:function(t,e,i){return T(t,"parentNode",i)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return T(t,"nextSibling")},prevAll:function(t){return T(t,"previousSibling")},nextUntil:function(t,e,i){return T(t,"nextSibling",i)},prevUntil:function(t,e,i){return T(t,"previousSibling",i)},siblings:function(t){return D((t.parentNode||{}).firstChild,t)},children:function(t){return D(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(I(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},(function(t,e){S.fn[t]=function(i,n){var r=S.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=S.filter(n,r)),this.length>1&&(N[t]||S.uniqueSort(r),E.test(t)&&r.reverse()),this.pushStack(r)}}));var z=/[^\x20\t\r\n\f]+/g;function B(t){return t}function H(t){throw t}function F(t,e,i,n){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(i):t&&v(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(z)||[],(function(t,i){e[i]=!0})),e}(t):S.extend({},t);var e,i,n,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,n=e=!0;a.length;s=-1)for(i=a.shift();++s<o.length;)!1===o[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},u={add:function(){return o&&(i&&!e&&(s=o.length-1,a.push(i)),function e(i){S.each(i,(function(i,n){v(n)?t.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==w(n)&&e(n)}))}(arguments),i&&!e&&l()),this},remove:function(){return S.each(arguments,(function(t,e){for(var i;(i=S.inArray(e,o,i))>-1;)o.splice(i,1),i<=s&&s--})),this},has:function(t){return t?S.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return S.Deferred((function(i){S.each(e,(function(e,n){var r=v(t[n[4]])&&t[n[4]];o[n[1]]((function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,r){var o=0;function a(t,e,n,r){return function(){var s=this,l=arguments,u=function(){var i,u;if(!(t<o)){if((i=n.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(u)?r?u.call(i,a(o,e,B,r),a(o,e,H,r)):(o++,u.call(i,a(o,e,B,r),a(o,e,H,r),a(o,e,B,e.notifyWith))):(n!==B&&(s=void 0,l=[i]),(r||e.resolveWith)(s,l))}},h=r?u:function(){try{u()}catch(i){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(i,h.stackTrace),t+1>=o&&(n!==H&&(s=void 0,l=[i]),e.rejectWith(s,l))}};t?h():(S.Deferred.getStackHook&&(h.stackTrace=S.Deferred.getStackHook()),i.setTimeout(h))}}return S.Deferred((function(i){e[0][3].add(a(0,i,v(r)?r:B,i.notifyWith)),e[1][3].add(a(0,i,v(t)?t:B)),e[2][3].add(a(0,i,v(n)?n:H))})).promise()},promise:function(t){return null!=t?S.extend(t,r):r}},o={};return S.each(e,(function(t,i){var a=i[2],s=i[5];r[i[1]]=a.add,s&&a.add((function(){n=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=s.call(arguments),o=S.Deferred(),a=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?s.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(F(t,o.done(a(i)).resolve,o.reject,!e),"pending"===o.state()||v(r[i]&&r[i].then)))return o.then();for(;i--;)F(r[i],a(i),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&W.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){i.setTimeout((function(){throw t}))};var V=S.Deferred();function j(){_.removeEventListener("DOMContentLoaded",j),i.removeEventListener("load",j),S.ready()}S.fn.ready=function(t){return V.then(t).catch((function(t){S.readyException(t)})),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||V.resolveWith(_,[S]))}}),S.ready.then=V.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?i.setTimeout(S.ready):(_.addEventListener("DOMContentLoaded",j),i.addEventListener("load",j));var q=function(t,e,i,n,r,o,a){var s=0,l=t.length,u=null==i;if("object"===w(i))for(s in r=!0,i)q(t,e,s,i[s],!0,o,a);else if(void 0!==n&&(r=!0,v(n)||(a=!0),u&&(a?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(S(t),i)})),e))for(;s<l;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return r?t:u?e.call(t):l?e(t[0],i):o},$=/^-ms-/,Y=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function G(t){return t.replace($,"ms-").replace(Y,U)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=S.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[G(e)]=i;else for(n in e)r[G(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(G):(e=G(e))in n?[e]:e.match(z)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||S.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var K=new Z,Q=new Z,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:J.test(t)?JSON.parse(t):t)}(i)}catch(t){}Q.set(t,e,i)}else i=void 0;return i}S.extend({hasData:function(t){return Q.hasData(t)||K.hasData(t)},data:function(t,e,i){return Q.access(t,e,i)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,i){return K.access(t,e,i)},_removeData:function(t,e){K.remove(t,e)}}),S.fn.extend({data:function(t,e){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Q.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=G(n.slice(5)),et(o,n,r[n]));K.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){Q.set(this,t)})):q(this,(function(e){var i;if(o&&void 0===e)return void 0!==(i=Q.get(o,t))||void 0!==(i=et(o,t))?i:void 0;this.each((function(){Q.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Q.remove(this,t)}))}}),S.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=K.get(t,e),i&&(!n||Array.isArray(i)?n=K.access(t,e,S.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=S.queue(t,e),n=i.length,r=i.shift(),o=S._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,(function(){S.dequeue(t,e)}),o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return K.get(t,i)||K.access(t,i,{empty:S.Callbacks("once memory").add((function(){K.remove(t,[e+"queue",i])}))})}}),S.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?S.queue(this[0],t):void 0===e?this:this.each((function(){var i=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&S.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){S.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=S.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=K.get(o[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],ot=_.documentElement,at=function(t){return S.contains(t.ownerDocument,t)},st={composed:!0};ot.getRootNode&&(at=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===S.css(t,"display")};function ut(t,e,i,n){var r,o,a=20,s=n?function(){return n.cur()}:function(){return S.css(t,e,"")},l=s(),u=i&&i[3]||(S.cssNumber[e]?"":"px"),h=t.nodeType&&(S.cssNumber[e]||"px"!==u&&+l)&&nt.exec(S.css(t,e));if(h&&h[3]!==u){for(l/=2,u=u||h[3],h=+l||1;a--;)S.style(t,e,h+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),h/=o;h*=2,S.style(t,e,h+u),i=i||[]}return i&&(h=+h||+l||0,r=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=h,n.end=r)),r}var ht={};function ct(t){var e,i=t.ownerDocument,n=t.nodeName,r=ht[n];return r||(e=i.body.appendChild(i.createElement(n)),r=S.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ht[n]=r,r)}function dt(t,e){for(var i,n,r=[],o=0,a=t.length;o<a;o++)(n=t[o]).style&&(i=n.style.display,e?("none"===i&&(r[o]=K.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&lt(n)&&(r[o]=ct(n))):"none"!==i&&(r[o]="none",K.set(n,"display",i)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}S.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){lt(this)?S(this).show():S(this).hide()}))}});var pt,ft,gt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;pt=_.createDocumentFragment().appendChild(_.createElement("div")),(ft=_.createElement("input")).setAttribute("type","radio"),ft.setAttribute("checked","checked"),ft.setAttribute("name","t"),pt.appendChild(ft),m.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",m.option=!!pt.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _t(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&I(t,e)?S.merge([t],i):i}function bt(t,e){for(var i=0,n=t.length;i<n;i++)K.set(t[i],"globalEval",!e||K.get(e[i],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,m.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var xt=/<|&#?\w+;/;function wt(t,e,i,n,r){for(var o,a,s,l,u,h,c=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===w(o))S.merge(d,o.nodeType?[o]:o);else if(xt.test(o)){for(a=a||c.appendChild(e.createElement("div")),s=(mt.exec(o)||["",""])[1].toLowerCase(),l=yt[s]||yt._default,a.innerHTML=l[1]+S.htmlPrefilter(o)+l[2],h=l[0];h--;)a=a.lastChild;S.merge(d,a.childNodes),(a=c.firstChild).textContent=""}else d.push(e.createTextNode(o));for(c.textContent="",p=0;o=d[p++];)if(n&&S.inArray(o,n)>-1)r&&r.push(o);else if(u=at(o),a=_t(c.appendChild(o),"script"),u&&bt(a),i)for(h=0;o=a[h++];)vt.test(o.type||"")&&i.push(o);return c}var St=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Dt(){return!1}function Mt(t,e){return t===function(){try{return _.activeElement}catch(t){}}()==("focus"===e)}function It(t,e,i,n,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof i&&(n=n||i,i=void 0),e)It(t,s,i,n,e[s],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Dt;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return S().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),t.each((function(){S.event.add(this,e,r,n,i)}))}function At(t,e,i){i?(K.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var n,r,o=K.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),K.set(this,e,o),n=i(this,e),this[e](),o!==(r=K.get(this,e))||n?K.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(K.set(this,e,{value:S.event.trigger(S.extend(o[0],S.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===K.get(t,e)&&S.event.add(t,e,Tt)}S.event={global:{},add:function(t,e,i,n,r){var o,a,s,l,u,h,c,d,p,f,g,m=K.get(t);if(X(t))for(i.handler&&(i=(o=i).handler,r=o.selector),r&&S.find.matchesSelector(ot,r),i.guid||(i.guid=S.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(z)||[""]).length;u--;)p=g=(s=kt.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),p&&(c=S.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=S.event.special[p]||{},h=S.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,n,f,a)||t.addEventListener&&t.addEventListener(p,a)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),S.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,a,s,l,u,h,c,d,p,f,g,m=K.hasData(t)&&K.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(z)||[""]).length;u--;)if(p=g=(s=kt.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),p){for(c=S.event.special[p]||{},d=l[p=(n?c.delegateType:c.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)h=d[o],!r&&g!==h.origType||i&&i.guid!==h.guid||s&&!s.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(o,1),h.selector&&d.delegateCount--,c.remove&&c.remove.call(t,h));a&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,f,m.handle)||S.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)S.event.remove(t,p+e[u],i,n,!0);S.isEmptyObject(l)&&K.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,a,s=new Array(arguments.length),l=S.event.fix(t),u=(K.get(this,"events")||Object.create(null))[l.type]||[],h=S.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){for(a=S.event.handlers.call(this,l,u),e=0;(r=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(n=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,n,r,o,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],a={},i=0;i<l;i++)void 0===a[r=(n=e[i]).selector+" "]&&(a[r]=n.needsContext?S(r,this).index(u)>-1:S.find(r,this,null,[u]).length),a[r]&&o.push(n);o.length&&s.push({elem:u,handlers:o})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&I(e,"input")&&At(e,"click",Tt),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&I(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&I(e,"input")&&K.get(e,"click")||I(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Dt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Dt,isPropagationStopped:Dt,isImmediatePropagationStopped:Dt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&St.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(t,e){S.event.special[t]={setup:function(){return At(this,t,Mt),!1},trigger:function(){return At(this,t),!0},delegateType:e}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||S.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}})),S.fn.extend({on:function(t,e,i,n){return It(this,t,e,i,n)},one:function(t,e,i,n){return It(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,S(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Dt),this.each((function(){S.event.remove(this,t,i,e)}))}});var Pt=/<script|<style|<link/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Et(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Rt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function zt(t,e){var i,n,r,o,a,s;if(1===e.nodeType){if(K.hasData(t)&&(s=K.get(t).events))for(r in K.remove(e,"handle events"),s)for(i=0,n=s[r].length;i<n;i++)S.event.add(e,r,s[r][i]);Q.hasData(t)&&(o=Q.access(t),a=S.extend({},o),Q.set(e,a))}}function Bt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&gt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function Ht(t,e,i,n){e=l(e);var r,o,a,s,u,h,c=0,d=t.length,p=d-1,f=e[0],g=v(f);if(g||d>1&&"string"==typeof f&&!m.checkClone&&Ot.test(f))return t.each((function(r){var o=t.eq(r);g&&(e[0]=f.call(this,r,o.html())),Ht(o,e,i,n)}));if(d&&(o=(r=wt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=o),o||n)){for(s=(a=S.map(_t(r,"script"),Nt)).length;c<d;c++)u=r,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,_t(u,"script"))),i.call(t[c],u,c);if(s)for(h=a[a.length-1].ownerDocument,S.map(a,Rt),c=0;c<s;c++)u=a[c],vt.test(u.type||"")&&!K.access(u,"globalEval")&&S.contains(h,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},h):x(u.textContent.replace(Lt,""),u,h))}return t}function Ft(t,e,i){for(var n,r=e?S.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||S.cleanData(_t(n)),n.parentNode&&(i&&at(n)&&bt(_t(n,"script")),n.parentNode.removeChild(n));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,r,o,a,s=t.cloneNode(!0),l=at(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(a=_t(s),n=0,r=(o=_t(t)).length;n<r;n++)Bt(o[n],a[n]);if(e)if(i)for(o=o||_t(t),a=a||_t(s),n=0,r=o.length;n<r;n++)zt(o[n],a[n]);else zt(t,s);return(a=_t(s,"script")).length>0&&bt(a,!l&&_t(t,"script")),s},cleanData:function(t){for(var e,i,n,r=S.event.special,o=0;void 0!==(i=t[o]);o++)if(X(i)){if(e=i[K.expando]){if(e.events)for(n in e.events)r[n]?S.event.remove(i,n):S.removeEvent(i,n,e.handle);i[K.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Ft(this,t,!0)},remove:function(t){return Ft(this,t)},text:function(t){return q(this,(function(t){return void 0===t?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ht(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Et(this,t).appendChild(t)}))},prepend:function(){return Ht(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Et(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ht(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ht(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(_t(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return S.clone(this,t,e)}))},html:function(t){return q(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!yt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(S.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ht(this,arguments,(function(e){var i=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(_t(this)),i&&i.replaceChild(e,this))}),t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){S.fn[t]=function(t){for(var i,n=[],r=S(t),o=r.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),S(r[a])[e](i),u.apply(n,i.get());return this.pushStack(n)}}));var Wt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Vt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},jt=function(t,e,i){var n,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in n=i.call(t),e)t.style[r]=o[r];return n},qt=new RegExp(rt.join("|"),"i");function $t(t,e,i){var n,r,o,a,s=t.style;return(i=i||Vt(t))&&(""!==(a=i.getPropertyValue(e)||i[e])||at(t)||(a=S.style(t,e)),!m.pixelBoxStyles()&&Wt.test(a)&&qt.test(e)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(h){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(u).appendChild(h);var t=i.getComputedStyle(h);n="1%"!==t.top,l=12===e(t.marginLeft),h.style.right="60%",a=36===e(t.right),r=36===e(t.width),h.style.position="absolute",o=12===e(h.offsetWidth/3),ot.removeChild(u),h=null}}function e(t){return Math.round(parseFloat(t))}var n,r,o,a,s,l,u=_.createElement("div"),h=_.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===h.style.backgroundClip,S.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,n,r;return null==s&&(t=_.createElement("table"),e=_.createElement("tr"),n=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",n.style.height="9px",ot.appendChild(t).appendChild(e).appendChild(n),r=i.getComputedStyle(e),s=parseInt(r.height)>3,ot.removeChild(t)),s}}))}();var Ut=["Webkit","Moz","ms"],Gt=_.createElement("div").style,Xt={};function Zt(t){var e=S.cssProps[t]||Xt[t];return e||(t in Gt?t:Xt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Ut.length;i--;)if((t=Ut[i]+e)in Gt)return t}(t)||t)}var Kt=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,Jt={position:"absolute",visibility:"hidden",display:"block"},te={letterSpacing:"0",fontWeight:"400"};function ee(t,e,i){var n=nt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function ie(t,e,i,n,r,o){var a="width"===e?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=S.css(t,i+rt[a],!0,r)),n?("content"===i&&(l-=S.css(t,"padding"+rt[a],!0,r)),"margin"!==i&&(l-=S.css(t,"border"+rt[a]+"Width",!0,r))):(l+=S.css(t,"padding"+rt[a],!0,r),"padding"!==i?l+=S.css(t,"border"+rt[a]+"Width",!0,r):s+=S.css(t,"border"+rt[a]+"Width",!0,r));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l}function ne(t,e,i){var n=Vt(t),r=(!m.boxSizingReliable()||i)&&"border-box"===S.css(t,"boxSizing",!1,n),o=r,a=$t(t,e,n),s="offset"+e[0].toUpperCase()+e.slice(1);if(Wt.test(a)){if(!i)return a;a="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&I(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===S.css(t,"boxSizing",!1,n),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+ie(t,e,i||(r?"border":"content"),o,n,a)+"px"}function re(t,e,i,n,r){return new re.prototype.init(t,e,i,n,r)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=$t(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=G(e),l=Qt.test(e),u=t.style;if(l||(e=Zt(s)),a=S.cssHooks[e]||S.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(t,!1,n))?r:u[e];"string"===(o=typeof i)&&(r=nt.exec(i))&&r[1]&&(i=ut(t,e,r),o="number"),null!=i&&i==i&&("number"!==o||l||(i+=r&&r[3]||(S.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?u.setProperty(e,i):u[e]=i))}},css:function(t,e,i,n){var r,o,a,s=G(e);return Qt.test(e)||(e=Zt(s)),(a=S.cssHooks[e]||S.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,i)),void 0===r&&(r=$t(t,e,n)),"normal"===r&&e in te&&(r=te[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),S.each(["height","width"],(function(t,e){S.cssHooks[e]={get:function(t,i,n){if(i)return!Kt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,e,n):jt(t,Jt,(function(){return ne(t,e,n)}))},set:function(t,i,n){var r,o=Vt(t),a=!m.scrollboxSize()&&"absolute"===o.position,s=(a||n)&&"border-box"===S.css(t,"boxSizing",!1,o),l=n?ie(t,e,n,s,o):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ie(t,e,"border",!1,o)-.5)),l&&(r=nt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=S.css(t,e)),ee(0,i,l)}}})),S.cssHooks.marginLeft=Yt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat($t(t,"marginLeft"))||t.getBoundingClientRect().left-jt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(t,e){S.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+rt[n]+e]=o[n]||o[n-2]||o[0];return r}},"margin"!==t&&(S.cssHooks[t+e].set=ee)})),S.fn.extend({css:function(t,e){return q(this,(function(t,e,i){var n,r,o={},a=0;if(Array.isArray(e)){for(n=Vt(t),r=e.length;a<r;a++)o[e[a]]=S.css(t,e[a],!1,n);return o}return void 0!==i?S.style(t,e,i):S.css(t,e)}),t,e,arguments.length>1)}}),S.Tween=re,re.prototype={constructor:re,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(S.cssNumber[i]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,i=re.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=re.prototype.init,S.fx.step={};var oe,ae,se=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function ue(){ae&&(!1===_.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ue):i.setTimeout(ue,S.fx.interval),S.fx.tick())}function he(){return i.setTimeout((function(){oe=void 0})),oe=Date.now()}function ce(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=rt[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function de(t,e,i){for(var n,r=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,e,t))return n}function pe(t,e,i){var n,r,o=0,a=pe.prefilters.length,s=S.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=oe||he(),i=Math.max(0,u.startTime+u.duration-e),n=1-(i/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(n);return s.notifyWith(t,[u,n,i]),n<1&&a?i:(a||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},i),originalProperties:e,originalOptions:i,startTime:oe||he(),duration:i.duration,tweens:[],createTween:function(e,i){var n=S.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),h=u.props;for(!function(t,e){var i,n,r,o,a;for(i in t)if(r=e[n=G(i)],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(a=S.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}(h,u.opts.specialEasing);o<a;o++)if(n=pe.prefilters[o].call(u,t,h,u.opts))return v(n.stop)&&(S._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return S.map(h,de,u),v(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),S.fx.timer(S.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}S.Animation=S.extend(pe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ut(i.elem,t,nt.exec(e),i),i}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(z);for(var i,n=0,r=t.length;n<r;n++)i=t[n],pe.tweeners[i]=pe.tweeners[i]||[],pe.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,o,a,s,l,u,h,c="width"in e||"height"in e,d=this,p={},f=t.style,g=t.nodeType&&lt(t),m=K.get(t,"fxshow");for(n in i.queue||(null==(a=S._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,S.queue(t,"fx").length||a.empty.fire()}))}))),e)if(r=e[n],se.test(r)){if(delete e[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||S.style(t,n)}if((l=!S.isEmptyObject(e))||!S.isEmptyObject(p))for(n in c&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=m&&m.display)&&(u=K.get(t,"display")),"none"===(h=S.css(t,"display"))&&(u?h=u:(dt([t],!0),u=t.style.display||u,h=S.css(t,"display"),dt([t]))),("inline"===h||"inline-block"===h&&null!=u)&&"none"===S.css(t,"float")&&(l||(d.done((function(){f.display=u})),null==u&&(h=f.display,u="none"===h?"":h)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=K.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&dt([t],!0),d.done((function(){for(n in g||dt([t]),K.remove(t,"fxshow"),p)S.style(t,n,p[n])}))),l=de(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),S.speed=function(t,e,i){var n=t&&"object"==typeof t?S.extend({},t):{complete:i||!i&&e||v(t)&&t,duration:t,easing:i&&e||e&&!v(e)&&e};return S.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in S.fx.speeds?n.duration=S.fx.speeds[n.duration]:n.duration=S.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&S.dequeue(this,n.queue)},n},S.fn.extend({fadeTo:function(t,e,i,n){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=S.isEmptyObject(t),o=S.speed(e,i,n),a=function(){var e=pe(this,S.extend({},t),o);(r||K.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=S.timers,a=K.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&le.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||S.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=K.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=S.timers,a=n?n.length:0;for(i.finish=!0,S.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),S.each(["toggle","show","hide"],(function(t,e){var i=S.fn[e];S.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ce(e,!0),t,n,r)}})),S.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){S.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),S.timers=[],S.fx.tick=function(){var t,e=0,i=S.timers;for(oe=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||S.fx.stop(),oe=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ae||(ae=!0,ue())},S.fx.stop=function(){ae=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},function(){var t=_.createElement("input"),e=_.createElement("select").appendChild(_.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=_.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var fe,ge=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return q(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){S.removeAttr(this,t)}))}}),S.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,i):(1===o&&S.isXMLDoc(t)||(r=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?fe:void 0)),void 0!==i?null===i?void S.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=S.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&I(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(z);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),fe={set:function(t,e,i){return!1===e?S.removeAttr(t,i):t.setAttribute(i,i),i}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=ge[e]||S.find.attr;ge[e]=function(t,e,n){var r,o,a=e.toLowerCase();return n||(o=ge[a],ge[a]=r,r=null!=i(t,e,n)?a:null,ge[a]=o),r}}));var me=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function ye(t){return(t.match(z)||[]).join(" ")}function _e(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(z)||[]}S.fn.extend({prop:function(t,e){return q(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[S.propFix[t]||t]}))}}),S.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,r=S.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(t){var e,i,n,r,o,a,s,l=0;if(v(t))return this.each((function(e){S(this).addClass(t.call(this,e,_e(this)))}));if((e=be(t)).length)for(;i=this[l++];)if(r=_e(i),n=1===i.nodeType&&" "+ye(r)+" "){for(a=0;o=e[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(s=ye(n))&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,r,o,a,s,l=0;if(v(t))return this.each((function(e){S(this).removeClass(t.call(this,e,_e(this)))}));if(!arguments.length)return this.attr("class","");if((e=be(t)).length)for(;i=this[l++];)if(r=_e(i),n=1===i.nodeType&&" "+ye(r)+" "){for(a=0;o=e[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(s=ye(n))&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(i){S(this).toggleClass(t.call(this,i,_e(this),e),e)})):this.each((function(){var e,r,o,a;if(n)for(r=0,o=S(this),a=be(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=_e(this))&&K.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":K.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+ye(_e(i))+" ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g;S.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=v(t),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,S(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=S.map(r,(function(t){return null==t?"":t+""}))),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=S.valHooks[r.type]||S.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(xe,""):null==i?"":i:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:ye(S.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(n=o<0?l:a?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!I(i.parentNode,"optgroup"))){if(e=S(i).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=S.makeArray(e),a=r.length;a--;)((n=r[a]).selected=S.inArray(S.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},m.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in i;var we=/^(?:focusinfocus|focusoutblur)$/,Se=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,n,r){var o,a,s,l,u,h,c,d,f=[n||_],g=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(a=d=s=n=n||_,3!==n.nodeType&&8!==n.nodeType&&!we.test(g+S.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[S.expando]?t:new S.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:S.makeArray(e,[t]),c=S.event.special[g]||{},r||!c.trigger||!1!==c.trigger.apply(n,e))){if(!r&&!c.noBubble&&!y(n)){for(l=c.delegateType||g,we.test(l+g)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||_)&&f.push(s.defaultView||s.parentWindow||i)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)d=a,t.type=o>1?l:c.bindType||g,(h=(K.get(a,"events")||Object.create(null))[t.type]&&K.get(a,"handle"))&&h.apply(a,e),(h=u&&a[u])&&h.apply&&X(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(f.pop(),e)||!X(n)||u&&v(n[g])&&!y(n)&&((s=n[u])&&(n[u]=null),S.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,Se),n[g](),t.isPropagationStopped()&&d.removeEventListener(g,Se),S.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(t,e,i){var n=S.extend(new S.Event,i,{type:t,isSimulated:!0});S.event.trigger(n,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return S.event.trigger(t,e,i,!0)}}),m.focusin||S.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,r=K.access(n,e);r||n.addEventListener(t,i,!0),K.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=K.access(n,e)-1;r?K.access(n,e,r):(n.removeEventListener(t,i,!0),K.remove(n,e))}}}));var Ce=i.location,ke={guid:Date.now()},Te=/\?/;S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var De=/\[\]$/,Me=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,i,n){var r;if(Array.isArray(e))S.each(e,(function(e,r){i||De.test(t)?n(t,r):Pe(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)}));else if(i||"object"!==w(e))n(t,e);else for(r in e)Pe(t+"["+r+"]",e[r],i,n)}S.param=function(t,e){var i,n=[],r=function(t,e){var i=v(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){r(this.name,this.value)}));else for(i in t)Pe(i,t[i],e,r);return n.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Ae.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var i=S(this).val();return null==i?null:Array.isArray(i)?S.map(i,(function(t){return{name:e.name,value:t.replace(Me,"\r\n")}})):{name:e.name,value:i.replace(Me,"\r\n")}})).get()}});var Oe=/%20/g,Le=/#.*$/,Ee=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Re=/^(?:GET|HEAD)$/,ze=/^\/\//,Be={},He={},Fe="*/".concat("*"),We=_.createElement("a");function Ve(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(z)||[];if(v(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function je(t,e,i,n){var r={},o=t===He;function a(s){var l;return r[s]=!0,S.each(t[s]||[],(function(t,s){var u=s(e,i,n);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),a(u),!1)})),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function qe(t,e){var i,n,r=S.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&S.extend(!0,t,n),t}We.href=Ce.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,S.ajaxSettings),e):qe(S.ajaxSettings,t)},ajaxPrefilter:Ve(Be),ajaxTransport:Ve(He),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,a,s,l,u,h,c,d,p=S.ajaxSetup({},e),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?S(f):S.event,m=S.Deferred(),v=S.Callbacks("once memory"),y=p.statusCode||{},b={},x={},w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Ne.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)C.always(t[C.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||w;return n&&n.abort(e),k(0,e),this}};if(m.promise(C),p.url=((t||p.url||Ce.href)+"").replace(ze,Ce.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(z)||[""],null==p.crossDomain){l=_.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=We.protocol+"//"+We.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=S.param(p.data,p.traditional)),je(Be,p,e,C),u)return C;for(c in(h=S.event&&p.global)&&0==S.active++&&S.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Re.test(p.type),r=p.url.replace(Le,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Oe,"+")):(d=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Te.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Ee,"$1"),d=(Te.test(r)?"&":"?")+"_="+ke.guid+++d),p.url=r+d),p.ifModified&&(S.lastModified[r]&&C.setRequestHeader("If-Modified-Since",S.lastModified[r]),S.etag[r]&&C.setRequestHeader("If-None-Match",S.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Fe+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(!1===p.beforeSend.call(f,C,p)||u))return C.abort();if(w="abort",v.add(p.complete),C.done(p.success),C.fail(p.error),n=je(He,p,e,C)){if(C.readyState=1,h&&g.trigger("ajaxSend",[C,p]),u)return C;p.async&&p.timeout>0&&(s=i.setTimeout((function(){C.abort("timeout")}),p.timeout));try{u=!1,n.send(b,k)}catch(t){if(u)throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,e,a,l){var c,d,_,b,x,w=e;u||(u=!0,s&&i.clearTimeout(s),n=void 0,o=l||"",C.readyState=t>0?4:0,c=t>=200&&t<300||304===t,a&&(b=function(t,e,i){for(var n,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}(p,C,a)),!c&&S.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),b=function(t,e,i,n){var r,o,a,s,l,u={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=h.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],h.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,b,C,c),c?(p.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(S.lastModified[r]=x),(x=C.getResponseHeader("etag"))&&(S.etag[r]=x)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=b.state,d=b.data,c=!(_=b.error))):(_=w,!t&&w||(w="error",t<0&&(t=0))),C.status=t,C.statusText=(e||w)+"",c?m.resolveWith(f,[d,w,C]):m.rejectWith(f,[C,w,_]),C.statusCode(y),y=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?d:_]),v.fireWith(f,[C,w]),h&&(g.trigger("ajaxComplete",[C,p]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,i){return S.get(t,e,i,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,i,n,r){return v(i)&&(r=r||n,n=i,i=void 0),S.ajax(S.extend({url:t,type:e,dataType:r,data:i,success:n},S.isPlainObject(t)&&t))}})),S.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),S._evalUrl=function(t,e,i){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,i)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){S(this).wrapInner(t.call(this,e))})):this.each((function(){var e=S(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(i){S(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var $e={0:200,1223:204},Ye=S.ajaxSettings.xhr();m.cors=!!Ye&&"withCredentials"in Ye,m.ajax=Ye=!!Ye,S.ajaxTransport((function(t){var e,n;if(m.cors||Ye&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o($e[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),S.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,r){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),_.head.appendChild(e[0])},abort:function(){i&&i()}}}));var Ue,Ge=[],Xe=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||S.expando+"_"+ke.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(t,e,n){var r,o,a,s=!1!==t.jsonp&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xe,"$1"+r):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||S.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===o?S(i).removeProp(r):i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ge.push(r)),a&&v(o)&&o(a[0]),a=o=void 0})),"script"})),m.createHTMLDocument=((Ue=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ue.childNodes.length),S.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(m.createHTMLDocument?((n=(e=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,e.head.appendChild(n)):e=_),o=!i&&[],(r=A.exec(t))?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&S(o).remove(),S.merge([],r.childNodes)));var n,r,o},S.fn.load=function(t,e,i){var n,r,o,a=this,s=t.indexOf(" ");return s>-1&&(n=ye(t.slice(s)),t=t.slice(0,s)),v(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&S.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,a.html(n?S("<div>").append(S.parseHTML(t)).find(n):t)})).always(i&&function(t,e){a.each((function(){i.apply(this,o||[t.responseText,e,t])}))}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,(function(e){return t===e.elem})).length},S.offset={setOffset:function(t,e,i){var n,r,o,a,s,l,u=S.css(t,"position"),h=S(t),c={};"static"===u&&(t.style.position="relative"),s=h.offset(),o=S.css(t,"top"),l=S.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(a=(n=h.position()).top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),v(e)&&(e=e.call(t,i,S.extend({},s))),null!=e.top&&(c.top=e.top-s.top+a),null!=e.left&&(c.left=e.left-s.left+r),"using"in e?e.using.call(t,c):("number"==typeof c.top&&(c.top+="px"),"number"==typeof c.left&&(c.left+="px"),h.css(c))}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){S.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===S.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),r.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-S.css(n,"marginTop",!0),left:e.left-r.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||ot}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;S.fn[t]=function(n){return q(this,(function(t,n,r){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r}),t,n,arguments.length)}})),S.each(["top","left"],(function(t,e){S.cssHooks[e]=Yt(m.pixelPosition,(function(t,i){if(i)return i=$t(t,e),Wt.test(i)?S(t).position()[e]+"px":i}))})),S.each({Height:"height",Width:"width"},(function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){S.fn[n]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===o?"margin":"border");return q(this,(function(e,i,r){var o;return y(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?S.css(e,i,s):S.style(e,i,r,s)}),e,a?r:void 0,a)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}})),S.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){S.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}));var Ze=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),v(t))return n=s.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(s.call(arguments)))}).guid=t.guid=t.guid||S.guid++,r},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=I,S.isFunction=v,S.isWindow=y,S.camelCase=G,S.type=w,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Ze,"")},void 0===(n=function(){return S}.apply(e,[]))||(t.exports=n);var Ke=i.jQuery,Qe=i.$;return S.noConflict=function(t){return i.$===S&&(i.$=Qe),t&&i.jQuery===S&&(i.jQuery=Ke),S},void 0===r&&(i.jQuery=i.$=S),S}))},function(t,e,i){const n=i(8);t.exports=function(t){return function(e,i){let r=i&&i.indent||0,o=i&&void 0!==i.join?i.join:"\n",a=Array(r+1).join(" "),s=[];for(let i=0;i<t;++i){let t=n(i),r=0===i?"":a;s.push(r+e.replace(/{var}/g,t))}return s.join(o)}}},function(t,e,i){"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),a=[];function s(t){for(var e=-1,i=0;i<a.length;i++)if(a[i].identifier===t){e=i;break}return e}function l(t,e){for(var i={},n=[],r=0;r<t.length;r++){var o=t[r],l=e.base?o[0]+e.base:o[0],u=i[l]||0,h="".concat(l," ").concat(u);i[l]=u+1;var c=s(h),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==c?(a[c].references++,a[c].updater(d)):a.push({identifier:h,updater:m(d,e),references:1}),n.push(h)}return n}function u(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var r=i.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var h,c=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function d(t,e,i,n){var r=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=c(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,i){var n=i.css,r=i.media,o=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f=null,g=0;function m(t,e){var i,n,r;if(e.singleton){var o=g++;i=f||(f=u(e)),n=d.bind(null,i,o,!1),r=d.bind(null,i,o,!0)}else i=u(e),n=p.bind(null,i,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var i=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var r=s(i[n]);a[r].references--}for(var o=l(t,e),u=0;u<i.length;u++){var h=s(i[u]);0===a[h].references&&(a[h].updater(),a.splice(h,1))}i=o}}}},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&r[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},function(t,e){t.exports=function(t){!function(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],i=0;i<e.length;++i)if(t.hasOwnProperty(e[i]))throw new Error("Subject cannot be eventified, since it already has property '"+e[i]+"'")}(t);var e=function(t){var e=Object.create(null);return{on:function(i,n,r){if("function"!=typeof n)throw new Error("callback is expected to be a function");var o=e[i];return o||(o=e[i]=[]),o.push({callback:n,ctx:r}),t},off:function(i,n){if(void 0===i)return e=Object.create(null),t;if(e[i])if("function"!=typeof n)delete e[i];else for(var r=e[i],o=0;o<r.length;++o)r[o].callback===n&&r.splice(o,1);return t},fire:function(i){var n,r=e[i];if(!r)return t;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var o=0;o<r.length;++o){var a=r[o];a.callback.apply(a.ctx,n)}return t}}}(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t}},function(t,e,i){"use strict";var n=i(3),r=i.n(n)()((function(t){return t[1]}));r.push([t.i,"/* wrap */\r\n.wrap {\r\n    overflow: hidden;\r\n}\r\np,h1,h2,h3,h4,h5,h6,summary,option,select{font-family: 'Noto Sans TC', sans-serif;}\r\n/* canvas */\r\n#main {\r\n    z-index: 0;\r\n    position: relative;\r\n}\r\n/* sidebar */\r\n.sidebar {\r\n    position : fixed;\r\n    top : 10px;\r\n    left : 5px;\r\n    background-color: rgb(243, 243, 243);\r\n    width: 220px;\r\n    padding : 15px 15px;\r\n    border-radius: 10px;\r\n    z-index: 1;\r\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n}\r\n#road{\r\n    position : fixed;\r\n    top : 10px;\r\n    left : 250px;\r\n    width: 200px;\r\n    padding : 20px 15px;\r\n    border-radius: 10px;\r\n    z-index: 1;\r\n}\r\n.slider {\r\n    overflow-y: hidden;\r\n    overflow-x: hidden;\r\n}\r\n.slider_describe {\r\n    display: inline-block;\r\n}\r\n.slider_item > input {\r\n    background-color: rgb(243, 243, 243);\r\n    width: 80px;\r\n    border: 0px;\r\n}\r\n.slider_slider {\r\n    margin: 10px;\r\n}\r\n.ui-slider .ui-slider-handle {\r\n    width: 0.9em;\r\n}\r\n.ui-slider-horizontal {\r\n    width : 180px;\r\n    margin-left: 10px;\r\n}\r\n.ui-widget.ui-widget-content, .ui-widget-content {\r\n    border: 0px;\r\n}\r\n\r\n/* keyword_search */\r\n.keyword_search {\r\n    width: 160px;\r\n    height: 100px;\r\n    margin-top : 10px; \r\n    margin-bottom: 65px;\r\n}\r\n#keyword_search_field {\r\n    width : 100px;\r\n    height: 20px;\r\n    padding-left: 5px;\r\n    border-color: rgb(231, 231, 231);\r\n}#keyword_search_field2 {\r\n    width : 100px;\r\n    height: 20px;\r\n    padding-left: 5px;\r\n    border-color: rgb(231, 231, 231);\r\n}\r\n.keyword {\r\n    margin-top: 10px;\r\n    width: 200px;\r\n    height: 100px;\r\n    background-color: rgb(231, 229, 229);\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n}\r\n.nodeSelected {\r\n    margin-top: 10px;\r\n    width: 200px;\r\n    height: 80px;\r\n    background-color: rgb(231, 229, 229);\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n}\r\n.lineSelected {\r\n    margin-top: 10px;\r\n    width: 200px;\r\n    height: 80px;\r\n    background-color: rgb(231, 229, 229);\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n}\r\n.lineSelected_item{\r\n    clear:left;\r\n    float : left;\r\n    margin: 0px 0px;\r\n    padding-left: 5px;\r\n}\r\n.keyword_item {\r\n    margin: 0px 0px;\r\n    padding-left: 5px;\r\n}\r\n.keyword_name {\r\n    display: inline;\r\n    margin-right: 5px;\r\n}\r\n.keyword_delete {\r\n    width: 45px;\r\n}\r\n.choose_color{\r\n    margin-top:10px;\r\n}\r\n.radio{\r\n    margin-top:15px;\r\n}\r\n.current_relation{\r\n    margin-top:3px;\r\n    margin-bottom:3px;\r\n}\r\n.current_node{\r\n    margin-top:3px;\r\n    margin-bottom:3px;\r\n}\r\nlabel{\r\n\tfont-family: 'Noto Sans TC', sans-serif;\r\n    margin-top: 0px;\r\n    margin-bottom: 0px;\r\n}\r\n.color-lump{\r\n    margin-top: 5px;\r\n    width: 25px;\r\n    height: 15px;\r\n    margin-right: 40px;\r\n    float : right;\r\n    border: 2px;\r\n    border-color: white;\r\n    border-style: solid;\r\n    border-radius: 4px;\r\n}\r\n/* switch sstyle setting */\r\n.switch-left-right .switch-label {\r\n\toverflow: hidden;\r\n}\r\n.switch-left-right .switch-label:before, .switch-left-right .switch-label:after {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\ttop: 4px;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tpadding: 11px 0 0 0;\r\n\ttext-indent: -12px;\r\n\tborder-radius: 20px;\r\n\tbox-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.2), inset 0 0 3px rgba(0, 0, 0, 0.1);\r\n}\r\n.switch-left-right .switch-label:before {\r\n\tbackground: #2fe90a;\r\n    text-align: left;\r\n    text-indent: -50px;\r\n\tpadding-left: 80px;\r\n\topacity: 1;\r\n\twidth: 100%;\r\n}\r\n.switch-left-right .switch-label:after {\r\n\ttext-align: left;\r\n\ttext-indent: 9px;\r\n\tbackground: #FF7F50;\r\n\tleft: -100px;\r\n\topacity: 1;\r\n\twidth: 100%;\r\n}\r\n.switch-left-right .switch-input:checked ~ .switch-label:before {\r\n\topacity: 1;\r\n\tleft: 100px;\r\n}\r\n.switch-left-right .switch-input:checked ~ .switch-label:after {\r\n\tleft: 0;\r\n}\r\n.switch-left-right .switch-input:checked ~ .switch-label {\r\n\tbackground: inherit;\r\n}\r\n/* common switch */\r\n.switch {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\tvertical-align: top;\r\n\twidth: 100px;\r\n\theight: 30px;\r\n\tpadding: 3px;\r\n\tmargin: 0 10px 10px 0;\r\n\tbackground: linear-gradient(to bottom, #eeeeee, #FFFFFF 25px);\r\n\tbackground-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF 25px);\r\n\tborder-radius: 18px;\r\n\tbox-shadow: inset 0 -1px white, inset 0 1px 1px rgba(0, 0, 0, 0.05);\r\n\tcursor: pointer;\r\n\tbox-sizing:content-box;\r\n}\r\n.switch-input {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\topacity: 0;\r\n\tbox-sizing:content-box;\r\n}\r\n.switch-label {\r\n\tfont-family: 'Noto Sans TC', sans-serif;\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\theight: inherit;\r\n\tfont-size: 13px;\r\n\ttext-transform: uppercase;\r\n\tbackground: #eceeef;\r\n\tborder-radius: inherit;\r\n\tbox-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.15);\r\n\tbox-sizing:content-box;\r\n}\r\n.switch-label:before, .switch-label:after {\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tmargin-top: -.5em;\r\n\tline-height: 1;\r\n\t-webkit-transition: inherit;\r\n\t-moz-transition: inherit;\r\n\t-o-transition: inherit;\r\n\ttransition: inherit;\r\n\tbox-sizing:content-box;\r\n}\r\n.switch-label:before {\r\n\tfont-family: 'Noto Sans TC', sans-serif;\r\n\tcontent: attr(data-off);\r\n\tright: 110px;\r\n\tcolor: #ffffff;\r\n\ttext-shadow: 0 1px rgba(255, 255, 255, 0.5);\r\n}\r\n.switch-label:after {\r\n\tfont-family: 'Noto Sans TC', sans-serif;\r\n\tcontent: attr(data-on);\r\n\tleft: 11px;\r\n\tcolor: #FFFFFF;\r\n\ttext-shadow: 0 1px rgba(0, 0, 0, 0.2);\r\n\topacity: 0;\r\n}\r\n.switch-input:checked ~ .switch-label {\r\n\tbackground: #E1B42B;\r\n\tbox-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15), inset 0 0 3px rgba(0, 0, 0, 0.2);\r\n}\r\n.switch-input:checked ~ .switch-label:before {\r\n\topacity: 0;\r\n}\r\n.switch-input:checked ~ .switch-label:after {\r\n\topacity: 1;\r\n}\r\n.switch-handle {\r\n\tposition: absolute;\r\n\ttop: 4px;\r\n\tleft: 4px;\r\n\twidth: 28px;\r\n\theight: 28px;\r\n\tbackground: linear-gradient(to bottom, #FFFFFF 40%, #f0f0f0);\r\n\tbackground-image: -webkit-linear-gradient(top, #FFFFFF 40%, #f0f0f0);\r\n\tborder-radius: 100%;\r\n\tbox-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n.switch-handle:before {\r\n\tcontent: \"\";\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\tmargin: -6px 0 0 -6px;\r\n\twidth: 12px;\r\n\theight: 12px;\r\n\tbackground: linear-gradient(to bottom, #eeeeee, #FFFFFF);\r\n\tbackground-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF);\r\n\tborder-radius: 6px;\r\n\tbox-shadow: inset 0 1px rgba(0, 0, 0, 0.02);\r\n}\r\n.switch-input:checked ~ .switch-handle {\r\n\tleft: 74px;\r\n\tbox-shadow: -1px 1px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n \r\n/* Transition\r\n========================== */\r\n.switch-label, .switch-handle {\r\n\ttransition: All 0.3s ease;\r\n\t-webkit-transition: All 0.3s ease;\r\n\t-moz-transition: All 0.3s ease;\r\n\t-o-transition: All 0.3s ease;\r\n}\r\n[role=\"button\"] {\r\n\twidth: 30px;\r\n    height: 18px;\r\n    padding: 0,0,0,5px;\r\n    border: 2px solid #ffffff;\r\n}\r\n\r\nbutton[aria-pressed=\"true\"],\r\n[role=\"button\"][aria-pressed=\"true\"] {\r\n    border: 4px solid #000;\r\n}",""]),e.a=r},function(t,e,i){"use strict";var n=i(3),r=i.n(n)()((function(t){return t[1]}));r.push([t.i,'/*! Pickr 1.8.0 MIT | https://github.com/Simonwep/pickr */.pickr{position:relative;overflow:visible;transform:translateY(0)}.pickr *{box-sizing:border-box;outline:none;border:none;-webkit-appearance:none}.pickr .pcr-button{position:relative;height:2em;width:2em;padding:.5em;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;border-radius:.15em;background:url(\'data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" stroke="%2342445A" stroke-width="5px" stroke-linecap="round"><path d="M45,45L5,5"></path><path d="M45,5L5,45"></path></svg>\') no-repeat 50%;background-size:0;transition:all .3s}.pickr .pcr-button:before{background:url(\'data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>\');background-size:.5em;z-index:-1;z-index:auto}.pickr .pcr-button:after,.pickr .pcr-button:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;border-radius:.15em}.pickr .pcr-button:after{transition:background .3s;background:currentColor}.pickr .pcr-button.clear{background-size:70%}.pickr .pcr-button.clear:before{opacity:0}.pickr .pcr-button.clear:focus{box-shadow:0 0 0 1px hsla(0,0%,100%,.85),0 0 0 3px currentColor}.pickr .pcr-button.disabled{cursor:not-allowed}.pcr-app *,.pickr *{box-sizing:border-box;outline:none;border:none;-webkit-appearance:none}.pcr-app button.pcr-active,.pcr-app button:focus,.pcr-app input.pcr-active,.pcr-app input:focus,.pickr button.pcr-active,.pickr button:focus,.pickr input.pcr-active,.pickr input:focus{box-shadow:0 0 0 1px hsla(0,0%,100%,.85),0 0 0 3px currentColor}.pcr-app .pcr-palette,.pcr-app .pcr-slider,.pickr .pcr-palette,.pickr .pcr-slider{transition:box-shadow .3s}.pcr-app .pcr-palette:focus,.pcr-app .pcr-slider:focus,.pickr .pcr-palette:focus,.pickr .pcr-slider:focus{box-shadow:0 0 0 1px hsla(0,0%,100%,.85),0 0 0 3px rgba(0,0,0,.25)}.pcr-app{position:fixed;display:flex;flex-direction:column;z-index:10000;border-radius:.1em;background:#fff;opacity:0;visibility:hidden;transition:opacity .3s,visibility 0s .3s;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;box-shadow:0 .15em 1.5em 0 rgba(0,0,0,.1),0 0 1em 0 rgba(0,0,0,.03);left:0;top:0}.pcr-app.visible{transition:opacity .3s;visibility:visible;opacity:1}.pcr-app .pcr-swatches{display:flex;flex-wrap:wrap;margin-top:.75em}.pcr-app .pcr-swatches.pcr-last{margin:0}@supports (display:grid){.pcr-app .pcr-swatches{display:grid;align-items:center;grid-template-columns:repeat(auto-fit,1.75em)}}.pcr-app .pcr-swatches>button{font-size:1em;position:relative;width:calc(1.75em - 5px);height:calc(1.75em - 5px);border-radius:.15em;cursor:pointer;margin:2.5px;flex-shrink:0;justify-self:center;transition:all .15s;overflow:hidden;background:transparent;z-index:1}.pcr-app .pcr-swatches>button:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url(\'data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>\');background-size:6px;border-radius:.15em;z-index:-1}.pcr-app .pcr-swatches>button:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;border:1px solid rgba(0,0,0,.05);border-radius:.15em;box-sizing:border-box}.pcr-app .pcr-swatches>button:hover{filter:brightness(1.05)}.pcr-app .pcr-swatches>button:not(.pcr-active){box-shadow:none}.pcr-app .pcr-interaction{display:flex;flex-wrap:wrap;align-items:center;margin:0 -.2em}.pcr-app .pcr-interaction>*{margin:0 .2em}.pcr-app .pcr-interaction input{letter-spacing:.07em;font-size:.75em;text-align:center;cursor:pointer;color:#75797e;background:#f1f3f4;border-radius:.15em;transition:all .15s;padding:.45em .5em;margin-top:.75em}.pcr-app .pcr-interaction input:hover{filter:brightness(.975)}.pcr-app .pcr-interaction input:focus{box-shadow:0 0 0 1px hsla(0,0%,100%,.85),0 0 0 3px rgba(66,133,244,.75)}.pcr-app .pcr-interaction .pcr-result{color:#75797e;text-align:left;flex:1 1 8em;min-width:8em;transition:all .2s;border-radius:.15em;background:#f1f3f4;cursor:text}.pcr-app .pcr-interaction .pcr-result::-moz-selection{background:#4285f4;color:#fff}.pcr-app .pcr-interaction .pcr-result::selection{background:#4285f4;color:#fff}.pcr-app .pcr-interaction .pcr-type.active{color:#fff;background:#4285f4}.pcr-app .pcr-interaction .pcr-cancel,.pcr-app .pcr-interaction .pcr-clear,.pcr-app .pcr-interaction .pcr-save{width:auto;color:#fff}.pcr-app .pcr-interaction .pcr-cancel:hover,.pcr-app .pcr-interaction .pcr-clear:hover,.pcr-app .pcr-interaction .pcr-save:hover{filter:brightness(.925)}.pcr-app .pcr-interaction .pcr-save{background:#4285f4}.pcr-app .pcr-interaction .pcr-cancel,.pcr-app .pcr-interaction .pcr-clear{background:#f44250}.pcr-app .pcr-interaction .pcr-cancel:focus,.pcr-app .pcr-interaction .pcr-clear:focus{box-shadow:0 0 0 1px hsla(0,0%,100%,.85),0 0 0 3px rgba(244,66,80,.75)}.pcr-app .pcr-selection .pcr-picker{position:absolute;height:18px;width:18px;border:2px solid #fff;border-radius:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pcr-app .pcr-selection .pcr-color-chooser,.pcr-app .pcr-selection .pcr-color-opacity,.pcr-app .pcr-selection .pcr-color-palette{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column;cursor:grab;cursor:-webkit-grab}.pcr-app .pcr-selection .pcr-color-chooser:active,.pcr-app .pcr-selection .pcr-color-opacity:active,.pcr-app .pcr-selection .pcr-color-palette:active{cursor:grabbing;cursor:-webkit-grabbing}.pcr-app[data-theme=nano]{width:14.25em;max-width:95vw}.pcr-app[data-theme=nano] .pcr-swatches{margin-top:.6em;padding:0 .6em}.pcr-app[data-theme=nano] .pcr-interaction{padding:0 .6em .6em}.pcr-app[data-theme=nano] .pcr-selection{display:grid;grid-gap:.6em;grid-template-columns:1fr 4fr;grid-template-rows:5fr auto auto;align-items:center;height:10.5em;width:100%;align-self:flex-start}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-preview{grid-area:2/1/4/1;height:100%;width:100%;display:flex;flex-direction:row;justify-content:center;margin-left:.6em}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-preview .pcr-last-color{display:none}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-preview .pcr-current-color{position:relative;background:currentColor;width:2em;height:2em;border-radius:50em;overflow:hidden}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-preview .pcr-current-color:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url(\'data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>\');background-size:.5em;border-radius:.15em;z-index:-1}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-palette{grid-area:1/1/2/3;width:100%;height:100%;z-index:1}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-palette .pcr-palette{border-radius:.15em;width:100%;height:100%}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-palette .pcr-palette:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url(\'data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>\');background-size:.5em;border-radius:.15em;z-index:-1}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-chooser{grid-area:2/2/2/2}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-opacity{grid-area:3/2/3/2}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-chooser,.pcr-app[data-theme=nano] .pcr-selection .pcr-color-opacity{height:.5em;margin:0 .6em}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-chooser .pcr-picker,.pcr-app[data-theme=nano] .pcr-selection .pcr-color-opacity .pcr-picker{top:50%;transform:translateY(-50%)}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-chooser .pcr-slider,.pcr-app[data-theme=nano] .pcr-selection .pcr-color-opacity .pcr-slider{flex-grow:1;border-radius:50em}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-chooser .pcr-slider{background:linear-gradient(90deg,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}.pcr-app[data-theme=nano] .pcr-selection .pcr-color-opacity .pcr-slider{background:linear-gradient(90deg,transparent,#000),url(\'data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>\');background-size:100%,.25em}',""]),e.a=r},function(t,e,i){t.exports=function(t){var e=i(20),h=i(21),c=i(4);if(t){if(void 0!==t.springCoeff)throw new Error("springCoeff was renamed to springCoefficient");if(void 0!==t.dragCoeff)throw new Error("dragCoeff was renamed to dragCoefficient")}t=h(t,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var d=u[t.dimensions];if(!d){var p=t.dimensions;d={Body:n(p,t.debug),createQuadTree:r(p),createBounds:o(p),createDragForce:a(p),createSpringForce:s(p),integrate:l(p)},u[p]=d}var f=d.Body,g=d.createQuadTree,m=d.createBounds,v=d.createDragForce,y=d.createSpringForce,_=d.integrate,b=i(22).random(42),x=[],w=[],S=g(t,b),C=m(x,t,b),k=y(t,b),T=v(t),D=[],M=new Map,I=0;O("nbody",(function(t){if(0===x.length)return;S.insertBodies(x);var e=x.length;for(;e--;){var i=x[e];i.isPinned||(i.reset(),S.updateBodyForce(i),T.update(i))}})),O("spring",(function(){var t=w.length;for(;t--;)k.update(w[t])}));var A={bodies:x,quadTree:S,springs:w,settings:t,addForce:O,removeForce:function(t){var e=D.indexOf(M.get(t));if(e<0)return;D.splice(e,1)},getForces:function(){return M},step:function(){for(var e=0;e<D.length;++e)D[e](I);var i=_(x,t.timeStep,t.adaptiveTimeStepWeight);return I+=1,i},addBody:function(t){if(!t)throw new Error("Body is required");return x.push(t),t},addBodyAt:function(t){if(!t)throw new Error("Body position is required");var e=(t=>new f(t))(t);return x.push(e),e},removeBody:function(t){if(t){var e=x.indexOf(t);if(!(e<0))return x.splice(e,1),0===x.length&&C.reset(),!0}},addSpring:function(t,i,n,r){if(!t||!i)throw new Error("Cannot add null spring to force simulator");"number"!=typeof n&&(n=-1);var o=new e(t,i,n,r>=0?r:-1);return w.push(o),o},getTotalMovement:function(){return 0},removeSpring:function(t){if(t){var e=w.indexOf(t);return e>-1?(w.splice(e,1),!0):void 0}},getBestNewBodyPosition:function(t){return C.getBestNewPosition(t)},getBBox:P,getBoundingBox:P,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(e){return void 0!==e?(t.gravity=e,S.options({gravity:e}),this):t.gravity},theta:function(e){return void 0!==e?(t.theta=e,S.options({theta:e}),this):t.theta}};return function(t,e){for(var i in t)L(t,e,i)}(t,A),c(A),A;function P(){return C.update(),C.box}function O(t,e){if(M.has(t))throw new Error("Force "+t+" is already added");M.set(t,e),D.push(e)}function L(t,e,i){if(t.hasOwnProperty(i)&&"function"!=typeof e[i]){var n=Number.isFinite(t[i]);e[i]=n?function(n){if(void 0!==n){if(!Number.isFinite(n))throw new Error("Value of "+i+" should be a valid number.");return t[i]=n,e}return t[i]}:function(n){return void 0!==n?(t[i]=n,e):t[i]}}}};var n=i(14),r=i(15),o=i(16),a=i(17),s=i(18),l=i(19),u={}},function(t,e){t.exports=function(t){return 0===t?"x":1===t?"y":2===t?"z":"c"+(t+1)}},function(t,e,i){t.exports=function(t){"uniqueLinkId"in(t=t||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),t.multigraph=t.uniqueLinkId);void 0===t.multigraph&&(t.multigraph=!1);if("function"!=typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,i=[],u={},h=0,c=t.multigraph?function(t,e,i){var n=l(t,e),r=u.hasOwnProperty(n);if(r||T(t,e)){r||(u[n]=0);var o="@"+ ++u[n];n=l(t+o,e+o)}return new s(t,e,i,n)}:function(t,e,i){var n=l(t,e);return new s(t,e,i,n)},d=[],p=D,f=D,g=D,m=D,v={addNode:b,addLink:function(t,e,n){g();var r=x(t)||b(t),o=x(e)||b(e),s=c(t,e,n);i.push(s),a(r,s),t!==e&&a(o,s);return p(s,"add"),m(),s},removeLink:k,removeNode:w,getNode:x,getNodeCount:S,getLinkCount:C,getLinksCount:C,getNodesCount:S,getLinks:function(t){var e=x(t);return e?e.links:null},forEachNode:A,forEachLinkedNode:function(t,i,n){var r=x(t);if(r&&r.links&&"function"==typeof i)return n?function(t,i,n){for(var r=0;r<t.length;++r){var o=t[r];if(o.fromId===i&&n(e.get(o.toId),o))return!0}}(r.links,t,i):function(t,i,n){for(var r=0;r<t.length;++r){var o=t[r],a=o.fromId===i?o.toId:o.fromId;if(n(e.get(a),o))return!0}}(r.links,t,i)},forEachLink:function(t){var e,n;if("function"==typeof t)for(e=0,n=i.length;e<n;++e)t(i[e])},beginUpdate:g,endUpdate:m,clear:function(){g(),A((function(t){w(t.id)})),m()},hasLink:T,hasNode:x,getLink:T};return n(v),function(){var t=v.on;v.on=function(){return v.beginUpdate=g=M,v.endUpdate=m=I,p=y,f=_,v.on=t,t.apply(v,arguments)}}(),v;function y(t,e){d.push({link:t,changeType:e})}function _(t,e){d.push({node:t,changeType:e})}function b(t,i){if(void 0===t)throw new Error("Invalid node identifier");g();var n=x(t);return n?(n.data=i,f(n,"update")):(n=new o(t,i),f(n,"add")),e.set(t,n),m(),n}function x(t){return e.get(t)}function w(t){var i=x(t);if(!i)return!1;g();var n=i.links;if(n){i.links=null;for(var r=0;r<n.length;++r)k(n[r])}return e.delete(t),f(i,"remove"),m(),!0}function S(){return e.size}function C(){return i.length}function k(t){if(!t)return!1;var e=r(t,i);if(e<0)return!1;g(),i.splice(e,1);var n=x(t.fromId),o=x(t.toId);return n&&(e=r(t,n.links))>=0&&n.links.splice(e,1),o&&(e=r(t,o.links))>=0&&o.links.splice(e,1),p(t,"remove"),m(),!0}function T(t,e){var i,n=x(t);if(!n||!n.links)return null;for(i=0;i<n.links.length;++i){var r=n.links[i];if(r.fromId===t&&r.toId===e)return r}return null}function D(){}function M(){h+=1}function I(){0===(h-=1)&&d.length>0&&(v.fire("changed",d),d.length=0)}function A(t){if("function"!=typeof t)throw new Error("Function is expected to iterate over graph nodes. You passed "+t);for(var i=e.values(),n=i.next();!n.done;){if(t(n.value))return!0;n=i.next()}}};var n=i(4);function r(t,e){if(!e)return-1;if(e.indexOf)return e.indexOf(t);var i,n=e.length;for(i=0;i<n;i+=1)if(e[i]===t)return i;return-1}function o(t,e){this.id=t,this.links=null,this.data=e}function a(t,e){t.links?t.links.push(e):t.links=[e]}function s(t,e,i,n){this.fromId=t,this.toId=e,this.data=i,this.id=n}function l(t,e){return t.toString()+"ð "+e.toString()}},function(t,e,i){
/*! Pickr 1.8.0 MIT | https://github.com/Simonwep/pickr */
window,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n={};function r(t,e,i,n,r={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);for(const o of e)for(const e of i)o[t](e,n,{capture:!1,...r});return Array.prototype.slice.call(arguments,1)}i.r(n),i.d(n,"on",(function(){return o})),i.d(n,"off",(function(){return a})),i.d(n,"createElementFromString",(function(){return s})),i.d(n,"createFromTemplate",(function(){return l})),i.d(n,"eventPath",(function(){return u})),i.d(n,"resolveElement",(function(){return h})),i.d(n,"adjustableInputNumbers",(function(){return c}));const o=r.bind(null,"addEventListener"),a=r.bind(null,"removeEventListener");function s(t){const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild}function l(t){const e=(t,e)=>{const i=t.getAttribute(e);return t.removeAttribute(e),i},i=(t,n={})=>{const r=e(t,":obj"),o=e(t,":ref"),a=r?n[r]={}:n;o&&(n[o]=t);for(const n of Array.from(t.children)){const t=e(n,":arr"),r=i(n,t?{}:a);t&&(a[t]||(a[t]=[])).push(Object.keys(r).length?r:n)}return n};return i(s(t))}function u(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let i=t.target.parentElement;for(e=[t.target,i];i=i.parentElement;)e.push(i);return e.push(document,window),e}function h(t){return t instanceof Element?t:"string"==typeof t?t.split(/>>/g).reduce((t,e,i,n)=>(t=t.querySelector(e),i<n.length-1?t.shadowRoot:t),document):null}function c(t,e=(t=>t)){function i(i){const n=[.001,.01,.1][Number(i.shiftKey||2*i.ctrlKey)]*(i.deltaY<0?1:-1);let r=0,o=t.selectionStart;t.value=t.value.replace(/[\d.]+/g,(t,i)=>i<=o&&i+t.length>=o?(o=i,e(Number(t),n,r)):(r++,t)),t.focus(),t.setSelectionRange(o,o),i.preventDefault(),t.dispatchEvent(new Event("input"))}o(t,"focus",()=>o(window,"wheel",i,{passive:!1})),o(t,"blur",()=>a(window,"wheel",i))}const{min:d,max:p,floor:f,round:g}=Math;function m(t,e,i){e/=100,i/=100;const n=f(t=t/360*6),r=t-n,o=i*(1-e),a=i*(1-r*e),s=i*(1-(1-r)*e),l=n%6;return[255*[i,a,o,o,s,i][l],255*[s,i,i,a,o,o][l],255*[o,o,s,i,i,a][l]]}function v(t,e,i){const n=(2-(e/=100))*(i/=100)/2;return 0!==n&&(e=1===n?0:n<.5?e*i/(2*n):e*i/(2-2*n)),[t,100*e,100*n]}function y(t,e,i){const n=d(t/=255,e/=255,i/=255),r=p(t,e,i),o=r-n;let a,s;if(0===o)a=s=0;else{s=o/r;const n=((r-t)/6+o/2)/o,l=((r-e)/6+o/2)/o,u=((r-i)/6+o/2)/o;t===r?a=u-l:e===r?a=1/3+n-u:i===r&&(a=2/3+l-n),a<0?a+=1:a>1&&(a-=1)}return[360*a,100*s,100*r]}function _(t,e,i,n){return e/=100,i/=100,[...y(255*(1-d(1,(t/=100)*(1-(n/=100))+n)),255*(1-d(1,e*(1-n)+n)),255*(1-d(1,i*(1-n)+n)))]}function b(t,e,i){e/=100;const n=2*(e*=(i/=100)<.5?i:1-i)/(i+e)*100,r=100*(i+e);return[t,isNaN(n)?0:n,r]}function x(t){return y(...t.match(/.{2}/g).map(t=>parseInt(t,16)))}function w(t=0,e=0,i=0,n=1){const r=(t,e)=>(i=-1)=>e(~i?t.map(t=>Number(t.toFixed(i))):t),o={h:t,s:e,v:i,a:n,toHSVA(){const t=[o.h,o.s,o.v,o.a];return t.toString=r(t,t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${o.a})`),t},toHSLA(){const t=[...v(o.h,o.s,o.v),o.a];return t.toString=r(t,t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${o.a})`),t},toRGBA(){const t=[...m(o.h,o.s,o.v),o.a];return t.toString=r(t,t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${o.a})`),t},toCMYK(){const t=function(t,e,i){const n=m(t,e,i),r=n[0]/255,o=n[1]/255,a=n[2]/255,s=d(1-r,1-o,1-a);return[100*(1===s?0:(1-r-s)/(1-s)),100*(1===s?0:(1-o-s)/(1-s)),100*(1===s?0:(1-a-s)/(1-s)),100*s]}(o.h,o.s,o.v);return t.toString=r(t,t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`),t},toHEXA(){const t=function(t,e,i){return m(t,e,i).map(t=>g(t).toString(16).padStart(2,"0"))}(o.h,o.s,o.v),e=o.a>=1?"":Number((255*o.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return e&&t.push(e),t.toString=()=>"#"+t.join("").toUpperCase(),t},clone:()=>w(o.h,o.s,o.v,o.a)};return o}const S=t=>Math.max(Math.min(t,1),0);function C(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:i}=e,{type:n,key:r}=t;if(document.activeElement===i.wrapper){const{lock:i}=e.options,o="ArrowUp"===r,a="ArrowRight"===r,s="ArrowDown"===r,l="ArrowLeft"===r;if("keydown"===n&&(o||a||s||l)){let n=0,r=0;"v"===i?n=o||a?1:-1:"h"===i?n=o||a?-1:1:(r=o?-1:s?1:0,n=l?-1:a?1:0),e.update(S(e.cache.x+.01*n),S(e.cache.y+.01*r)),t.preventDefault()}else r.startsWith("Arrow")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){o(document,["mouseup","touchend","touchcancel"],e._tapstop),o(document,["mousemove","touchmove"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:i,cache:n}=e,{lock:r,element:o,wrapper:a}=i,s=a.getBoundingClientRect();let l=0,u=0;if(t){const e=t&&t.touches&&t.touches[0];l=t?(e||t).clientX:0,u=t?(e||t).clientY:0,l<s.left?l=s.left:l>s.left+s.width&&(l=s.left+s.width),u<s.top?u=s.top:u>s.top+s.height&&(u=s.top+s.height),l-=s.left,u-=s.top}else n&&(l=n.x*s.width,u=n.y*s.height);"h"!==r&&(o.style.left=`calc(${l/s.width*100}% - ${o.offsetWidth/2}px)`),"v"!==r&&(o.style.top=`calc(${u/s.height*100}% - ${o.offsetHeight/2}px)`),e.cache={x:l/s.width,y:u/s.height};const h=S(l/s.width),c=S(u/s.height);switch(r){case"v":return i.onchange(h);case"h":return i.onchange(c);default:return i.onchange(h,c)}},_tapstop(){e.options.onstop(),a(document,["mouseup","touchend","touchcancel"],e._tapstop),a(document,["mousemove","touchmove"],e._tapmove)},trigger(){e._tapmove()},update(t=0,i=0){const{left:n,top:r,width:o,height:a}=e.options.wrapper.getBoundingClientRect();"h"===e.options.lock&&(i=t),e._tapmove({clientX:n+o*t,clientY:r+a*i})},destroy(){const{options:t,_tapstart:i,_keyboard:n}=e;a(document,["keydown","keyup"],n),a([t.wrapper,t.element],"mousedown",i),a([t.wrapper,t.element],"touchstart",i,{passive:!1})}},{options:i,_tapstart:n,_keyboard:r}=e;return o([i.wrapper,i.element],"mousedown",n),o([i.wrapper,i.element],"touchstart",n,{passive:!1}),o(document,["keydown","keyup"],r),e}function k(t={}){t=Object.assign({onchange:()=>0,className:"",elements:[]},t);const e=o(t.elements,"click",e=>{t.elements.forEach(i=>i.classList[e.target===i?"add":"remove"](t.className)),t.onchange(e),e.stopPropagation()});return{destroy:()=>a(...e)}}
/*! NanoPop 2.1.0 MIT | https://github.com/Simonwep/nanopop */const T={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8};function D(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class M{constructor(t){D(this,"_initializingActive",!0),D(this,"_recalc",!0),D(this,"_nanopop",null),D(this,"_root",null),D(this,"_color",w()),D(this,"_lastColor",w()),D(this,"_swatchColors",[]),D(this,"_setupAnimationFrame",null),D(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=t=Object.assign({...M.DEFAULT_OPTIONS},t);const{swatches:e,components:i,theme:n,sliders:r,lockOpacity:o,padding:a}=t;["nano","monolith"].includes(n)&&!r&&(t.sliders="h"),i.interaction||(i.interaction={});const{preview:s,opacity:l,hue:u,palette:h}=i;i.opacity=!o&&l,i.palette=h||s||l||u,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach(t=>this.addSwatch(t));const{button:c,app:d}=this._root;this._nanopop=((t,e,i)=>{const n="object"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...i}:t;return{update(t=n){const{reference:e,popper:i}=Object.assign(n,t);if(!i||!e)throw new Error("Popper- or reference-element missing.");return((t,e,i)=>{const{container:n,margin:r,position:o,variantFlipOrder:a,positionFlipOrder:s}={container:document.documentElement.getBoundingClientRect(),...T,...i},{left:l,top:u}=e.style;e.style.left="0",e.style.top="0";const h=t.getBoundingClientRect(),c=e.getBoundingClientRect(),d={t:h.top-c.height-r,b:h.bottom+r,r:h.right+r,l:h.left-c.width-r},p={vs:h.left,vm:h.left+h.width/2+-c.width/2,ve:h.left+h.width-c.width,hs:h.top,hm:h.bottom-h.height/2-c.height/2,he:h.bottom-c.height},[f,g="middle"]=o.split("-"),m=s[f],v=a[g],{top:y,left:_,bottom:b,right:x}=n;for(const t of m){const i="t"===t||"b"===t,n=d[t],[r,o]=i?["top","left"]:["left","top"],[a,s]=i?[c.height,c.width]:[c.width,c.height],[l,u]=i?[b,x]:[x,b],[h,f]=i?[y,_]:[_,y];if(!(n<h||n+a>l))for(const a of v){const l=p[(i?"v":"h")+a];if(!(l<f||l+s>u))return e.style[o]=l-c[o]+"px",e.style[r]=n-c[r]+"px",t+a}}return e.style.left=l,e.style.top=u,null})(e,i,n)}}})(c,d,{margin:a}),c.setAttribute("role","button"),c.setAttribute("aria-label",this._t("btn:toggle"));const p=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!d.offsetWidth)return requestAnimationFrame(e);p.setColor(t.default),p._rePositioningPicker(),t.defaultRepresentation&&(p._representation=t.defaultRepresentation,p.setColorRepresentation(p._representation)),t.showAlways&&p.show(),p._initializingActive=!1,p._emit("init")}))}_preBuild(){const{options:t}=this;for(const e of["el","container"])t[e]=h(t[e]);this._root=(t=>{const{components:e,useAsButton:i,inline:n,appClass:r,theme:o,lockOpacity:a}=t.options,s=t=>t?"":'style="display:none" hidden',u=e=>t._t(e),h=l(`\n      <div :ref="root" class="pickr">\n\n        ${i?"":'<button type="button" :ref="button" class="pcr-button"></button>'}\n\n        <div :ref="app" class="pcr-app ${r||""}" data-theme="${o}" ${n?'style="position: unset"':""} aria-label="${u("ui:dialog")}" role="window">\n          <div class="pcr-selection" ${s(e.palette)}>\n            <div :obj="preview" class="pcr-color-preview" ${s(e.preview)}>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${u("btn:last-color")}"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${u("aria:palette")}" role="listbox"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ${s(e.hue)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${u("aria:hue")}" role="slider"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ${s(e.opacity)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${u("aria:opacity")}" role="slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ${e.palette?"":"pcr-last"}" :ref="swatches"></div>\n\n          <div :obj="interaction" class="pcr-interaction" ${s(Object.keys(e.interaction).length)}>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${s(e.interaction.input)} aria-label="${u("aria:input")}">\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="${a?"HEX":"HEXA"}" type="button" ${s(e.interaction.hex)}>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="${a?"RGB":"RGBA"}" type="button" ${s(e.interaction.rgba)}>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="${a?"HSL":"HSLA"}" type="button" ${s(e.interaction.hsla)}>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="${a?"HSV":"HSVA"}" type="button" ${s(e.interaction.hsva)}>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${s(e.interaction.cmyk)}>\n\n            <input :ref="save" class="pcr-save" value="${u("btn:save")}" type="button" ${s(e.interaction.save)} aria-label="${u("aria:btn:save")}">\n            <input :ref="cancel" class="pcr-cancel" value="${u("btn:cancel")}" type="button" ${s(e.interaction.cancel)} aria-label="${u("aria:btn:cancel")}">\n            <input :ref="clear" class="pcr-clear" value="${u("btn:clear")}" type="button" ${s(e.interaction.clear)} aria-label="${u("aria:btn:clear")}">\n          </div>\n        </div>\n      </div>\n    `),c=h.interaction;return c.options.find(t=>!t.hidden&&!t.classList.add("active")),c.type=()=>c.options.find(t=>t.classList.contains("active")),h})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const i=t.el.parentElement;t.el.nextSibling?i.insertBefore(e.app,t.el.nextSibling):i.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition="none",t.useAsButton||(e.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const t=this,e=this.options.components,i=(t.options.sliders||"v").repeat(2),[n,r]=i.match(/^[vh]+$/g)?i:[],o=()=>this._color||(this._color=this._lastColor.clone()),a={palette:C({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit("changestop","slider",t),onchange(i,n){if(!e.palette)return;const r=o(),{_root:a,options:s}=t,{lastColor:l,currentColor:u}=a.preview;t._recalc&&(r.s=100*i,r.v=100-100*n,r.v<0&&(r.v=0),t._updateOutput("slider"));const h=r.toRGBA().toString(0);this.element.style.background=h,this.wrapper.style.background=`\n                        linear-gradient(to top, rgba(0, 0, 0, ${r.a}), transparent),\n                        linear-gradient(to left, hsla(${r.h}, 100%, 50%, ${r.a}), rgba(255, 255, 255, ${r.a}))\n                    `,s.comparison?s.useAsButton||t._lastColor||(l.style.color=h):(a.button.style.color=h,a.button.classList.remove("clear"));const c=r.toHEXA().toString();for(const{el:e,color:i}of t._swatchColors)e.classList[c===i.toHEXA().toString()?"add":"remove"]("pcr-active");u.style.color=h}}),hue:C({lock:"v"===r?"h":"v",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit("changestop","slider",t),onchange(i){if(!e.hue||!e.palette)return;const n=o();t._recalc&&(n.h=360*i),this.element.style.backgroundColor=`hsl(${n.h}, 100%, 50%)`,a.palette.trigger()}}),opacity:C({lock:"v"===n?"h":"v",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit("changestop","slider",t),onchange(i){if(!e.opacity||!e.palette)return;const n=o();t._recalc&&(n.a=Math.round(100*i)/100),this.element.style.background=`rgba(0, 0, 0, ${n.a})`,a.palette.trigger()}}),selectable:k({elements:t._root.interaction.options,className:"active",onchange(e){t._representation=e.target.getAttribute("data-type").toUpperCase(),t._recalc&&t._updateOutput("swatch")}})};this._components=a}_bindEvents(){const{_root:t,options:e}=this,i=[o(t.interaction.clear,"click",()=>this._clearColor()),o([t.interaction.cancel,t.preview.lastColor],"click",()=>{this._emit("cancel"),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),o(t.interaction.save,"click",()=>{!this.applyColor()&&!e.showAlways&&this.hide()}),o(t.interaction.result,["keyup","input"],t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),t.stopImmediatePropagation()}),o(t.interaction.result,["focus","blur"],t=>{this._recalc="blur"===t.type,this._recalc&&this._updateOutput(null)}),o([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!e.showAlways){const n=e.closeWithKey;i.push(o(t.button,"click",()=>this.isOpen()?this.hide():this.show()),o(document,"keyup",t=>this.isOpen()&&(t.key===n||t.code===n)&&this.hide()),o(document,["touchstart","mousedown"],e=>{this.isOpen()&&!u(e).some(e=>e===t.app||e===t.button)&&this.hide()},{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};c(t.interaction.result,(t,i,n)=>{const r=e[this.getColorRepresentation().toLowerCase()];if(r){const e=r[n],o=t+(e>=100?1e3*i:i);return o<=0?0:Number((o<e?o:e).toPrecision(3))}return t})}if(e.autoReposition&&!e.inline){let t=null;const n=this;i.push(o(window,["scroll","resize"],()=>{n.isOpen()&&(e.closeOnScroll&&n.hide(),null===t?(t=setTimeout(()=>t=null,100),requestAnimationFrame((function e(){n._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout(()=>t=null,100)))},{capture:!0}))}this._eventBindings=i}_rePositioningPicker(){const{options:t}=this;if(!t.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+"px",t.style.left=(window.innerWidth-e.width)/2+"px"}}_updateOutput(t){const{_root:e,_color:i,options:n}=this;if(e.interaction.type()){const t="to"+e.interaction.type().getAttribute("data-type");e.interaction.result.value="function"==typeof i[t]?i[t]().toString(n.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",i,t,this)}_clearColor(t=!1){const{_root:e,options:i}=this;i.useAsButton||(e.button.style.color="rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),i.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(t){const{values:e,type:i,a:n}=function(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if("black"===t.toLowerCase())return"#000";const e=document.createElement("canvas").getContext("2d");return e.fillStyle=t,"#000"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},i=t=>t.map(t=>/^(|\d+)\.\d+|\d+$/.test(t)?Number(t):void 0);let n;t:for(const r in e){if(!(n=e[r].exec(t)))continue;const o=t=>!!n[2]==("number"==typeof t);switch(r){case"cmyk":{const[,t,e,o,a]=i(n);if(t>100||e>100||o>100||a>100)break t;return{values:_(t,e,o,a),type:r}}case"rgba":{const[,,,t,e,a,s]=i(n);if(t>255||e>255||a>255||s<0||s>1||!o(s))break t;return{values:[...y(t,e,a),s],a:s,type:r}}case"hexa":{let[,t]=n;4!==t.length&&3!==t.length||(t=t.split("").map(t=>t+t).join(""));const e=t.substring(0,6);let i=t.substring(6);return i=i?parseInt(i,16)/255:void 0,{values:[...x(e),i],a:i,type:r}}case"hsla":{const[,,,t,e,a,s]=i(n);if(t>360||e>100||a>100||s<0||s>1||!o(s))break t;return{values:[...b(t,e,a),s],a:s,type:r}}case"hsva":{const[,,,t,e,a,s]=i(n);if(t>360||e>100||a>100||s<0||s>1||!o(s))break t;return{values:[t,e,a,s],a:s,type:r}}}}return{values:null,type:null}}(t),{lockOpacity:r}=this.options,o=void 0!==n&&1!==n;return e&&3===e.length&&(e[3]=void 0),{values:!e||r&&o?null:e,type:i}}_t(t){return this.options.i18n[t]||M.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const i=this._eventListener[t]||[],n=i.indexOf(e);return~n&&i.splice(n,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:i}=this,n=w(...e),r=s(`<button type="button" style="color: ${n.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return i.swatches.appendChild(r),t.push({el:r,color:n}),this._eventBindings.push(o(r,"click",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit("swatchselect",n),this._emit("change",n,"swatch",this)})),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:i}=e;return this._root.swatches.removeChild(i),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:i}=this._root,n=this._color.toRGBA().toString(0);return e.lastColor.style.color=n,this.options.useAsButton||(i.style.color=n),i.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(t=>a(...t)),Object.keys(this._components).forEach(t=>this._components[t].destroy())}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach(t=>this[t]=null)}hide(){return this._root.app.classList.remove("visible"),this._emit("hide"),this}show(){return this.options.disabled||(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color)),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(t=360,e=0,i=0,n=1,r=!1){const o=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||i<0||i>100||n<0||n>1)return!1;this._color=w(t,e,i,n);const{hue:a,opacity:s,palette:l}=this._components;return a.update(t/360),s.update(n),l.update(e/100,1-i/100),r||this.applyColor(),o&&this._updateOutput(),this._recalc=o,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:i,type:n}=this._parseLocalColor(t);if(i){const t=n.toUpperCase(),{options:r}=this._root.interaction,o=r.find(e=>e.getAttribute("data-type")===t);if(o&&!o.hidden)for(const t of r)t.classList[t===o?"add":"remove"]("active");return!!this.setHSVA(...i,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find(e=>e.getAttribute("data-type").startsWith(t)&&!e.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}D(M,"utils",n),D(M,"version","1.8.0"),D(M,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),D(M,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),D(M,"create",t=>new M(t)),e.default=M}]).default},,function(t,e,i){var n,r,o;
/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */r=[i(0)],void 0===(o="function"==typeof(n=function(t){function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",i,n)}function n(){t.datepicker._isDisabledDatepicker(d.inline?d.dpDiv.parent()[0]:d.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){for(var n in t.extend(e,i),i)null==i[n]&&(e[n]=i[n]);return e}function o(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var a=0,s=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{(n=t._data(r,"events"))&&n.remove&&t(r).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,a,s={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(n,(function(e,n){return t.isFunction(n)?void(s[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(s[e]=n)})),o.prototype=t.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||e},s,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,(function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)})),delete r._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,r=s.call(arguments,1),o=0,a=r.length;a>o;o++)for(i in r[o])n=r[o][i],r[o].hasOwnProperty(i)&&void 0!==n&&(e[i]=t.isPlainObject(n)?t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=s.call(arguments,1),l=this;return o?this.length||"instance"!==r?this.each((function(){var i,o=t.data(this,n);return"instance"===r?(l=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(i=o[r].apply(o,a))!==o&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")})):l=void 0:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each((function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},n=e.split("."),e=n.shift(),n.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;n.length-1>o;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&r&&r.length&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,s;for(s=0;i.length>s;s++)a=r.classesElementLookup[i[s]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),r.classesElementLookup[i[s]]=a,n.push(i[s]),o&&e.classes[i[s]]&&n.push(e.classes[i[s]])}var n=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(n,r){-1!==t.inArray(e.target,r)&&(i.classesElementLookup[n]=t(r.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof t||null===t,o={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,(function(n,a){function s(){return e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?r.on(u,h,s):i.on(u,s)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,o,a=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?i:r.effect||i:e;"number"==typeof(r=r||{})&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),a&&t.effects&&t.effects.effect[s]?n[e](r):s!==e&&n[s]?n[s](r.duration,r.easing,o):n.queue((function(i){t(this)[e](),o&&o.call(n[0]),i()}))}})),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,o=Math.max,a=Math.abs,s=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,c=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),e=o.offsetWidth,n.css("overflow","scroll"),e===(i=o.offsetWidth)&&(i=n[0].clientWidth),n.remove(),r=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:n||r?{left:0,top:0}:t(e).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return d.apply(this,arguments);r=t.extend({},r);var c,p,f,g,m,v,y=t(r.of),_=t.position.getWithinInfo(r.within),b=t.position.getScrollInfo(_),x=(r.collision||"flip").split(" "),w={};return v=n(y),y[0].preventDefault&&(r.at="left top"),p=v.width,f=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],(function(){var t,e,i=(r[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=u.exec(i[0]),e=u.exec(i[1]),w[this]=[t?t[0]:0,e?e[0]:0],r[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===r.at[0]?m.left+=p:"center"===r.at[0]&&(m.left+=p/2),"bottom"===r.at[1]?m.top+=f:"center"===r.at[1]&&(m.top+=f/2),c=e(w.at,p,f),m.left+=c[0],m.top+=c[1],this.each((function(){var n,s,l=t(this),u=l.outerWidth(),h=l.outerHeight(),d=i(this,"marginLeft"),v=i(this,"marginTop"),S=u+d+i(this,"marginRight")+b.width,C=h+v+i(this,"marginBottom")+b.height,k=t.extend({},m),T=e(w.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?k.left-=u:"center"===r.my[0]&&(k.left-=u/2),"bottom"===r.my[1]?k.top-=h:"center"===r.my[1]&&(k.top-=h/2),k.left+=T[0],k.top+=T[1],n={marginLeft:d,marginTop:v},t.each(["left","top"],(function(e,i){t.ui.position[x[e]]&&t.ui.position[x[e]][i](k,{targetWidth:p,targetHeight:f,elemWidth:u,elemHeight:h,collisionPosition:n,collisionWidth:S,collisionHeight:C,offset:[c[0]+T[0],c[1]+T[1]],my:r.my,at:r.at,within:_,elem:l})})),r.using&&(s=function(t){var e=g.left-k.left,i=e+p-u,n=g.top-k.top,s=n+f-h,c={target:{element:y,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:k.left,top:k.top,width:u,height:h},horizontal:0>i?"left":e>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};u>p&&p>a(e+i)&&(c.horizontal="center"),h>f&&f>a(n+s)&&(c.vertical="middle"),c.important=o(a(e),a(i))>o(a(n),a(s))?"horizontal":"vertical",r.using.call(this,t,c)}),l.offset(t.extend(k,{using:s}))}))},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,s=t.left-e.collisionPosition.marginLeft,l=r-s,u=s+e.collisionWidth-a-r;e.collisionWidth>a?l>0&&0>=u?(i=t.left+l+e.collisionWidth-a-r,t.left+=l-i):t.left=u>0&&0>=l?r:l>u?r+a-e.collisionWidth:r:l>0?t.left+=l:u>0?t.left-=u:t.left=o(t.left-s,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,l=r-s,u=s+e.collisionHeight-a-r;e.collisionHeight>a?l>0&&0>=u?(i=t.top+l+e.collisionHeight-a-r,t.top+=l-i):t.top=u>0&&0>=l?r:l>u?r+a-e.collisionHeight:r:l>0?t.top+=l:u>0?t.top-=u:t.top=o(t.top-s,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,h=u-l,c=u+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>h?(0>(i=t.left+d+p+f+e.collisionWidth-s-o)||a(h)>i)&&(t.left+=d+p+f):c>0&&((n=t.left-e.collisionPosition.marginLeft+d+p+f-l)>0||c>a(n))&&(t.left+=d+p+f)},top:function(t,e){var i,n,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,h=u-l,c=u+e.collisionHeight-s-l,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];0>h?(0>(n=t.top+d+p+f+e.collisionHeight-s-o)||a(h)>n)&&(t.top+=d+p+f):c>0&&((i=t.top-e.collisionPosition.marginTop+d+p+f-l)>0||c>a(i))&&(t.top+=d+p+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,n){return!!t.data(e,n[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",(function(t){t.preventDefault()}))}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var l="ui-effects-",u="ui-effects-style",h="ui-effects-animated",c=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var n=h[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=l(),r=n._rgba=[];return i=i.toLowerCase(),p(s,(function(t,o){var a,s=o.re.exec(i),l=s&&o.parse(s),h=o.space||"rgba";return l?(a=n[h](l),n[u[h].cache]=a[u[h].cache],r=n._rgba=a._rgba,!1):e})),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),n):o[i]}function r(t,e,i){return 1>6*(i=(i+1)%1)?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(u,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),l.fn=t.extend(l.prototype,{parse:function(r,a,s,h){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(a),a=e);var c=this,d=t.type(r),f=this._rgba=[];return a!==e&&(r=[r,a,s,h],d="array"),"string"===d?this.parse(n(r)||o._default):"array"===d?(p(u.rgba.props,(function(t,e){f[e.idx]=i(r[e.idx],e)})),this):"object"===d?(p(u,r instanceof l?function(t,e){r[e.cache]&&(c[e.cache]=r[e.cache].slice())}:function(e,n){var o=n.cache;p(n.props,(function(t,e){if(!c[o]&&n.to){if("alpha"===t||null==r[t])return;c[o]=n.to(c._rgba)}c[o][e.idx]=i(r[t],e,!0)})),c[o]&&0>t.inArray(null,c[o].slice(0,3))&&(c[o][3]=1,n.from&&(c._rgba=n.from(c[o])))}),this):e},is:function(t){var i=l(t),n=!0,r=this;return p(u,(function(t,o){var a,s=i[o.cache];return s&&(a=r[o.cache]||o.to&&o.to(r._rgba)||[],p(o.props,(function(t,i){return null!=s[i.idx]?n=s[i.idx]===a[i.idx]:e}))),n})),n},_space:function(){var t=[],e=this;return p(u,(function(i,n){e[n.cache]&&t.push(i)})),t.pop()},transition:function(t,e){var n=l(t),r=n._space(),o=u[r],a=0===this.alpha()?l("transparent"):this,s=a[o.cache]||o.to(a._rgba),c=s.slice();return n=n[o.cache],p(o.props,(function(t,r){var o=r.idx,a=s[o],l=n[o],u=h[r.type]||{};null!==l&&(null===a?c[o]=l:(u.mod&&(l-a>u.mod/2?a+=u.mod:a-l>u.mod/2&&(a-=u.mod)),c[o]=i((l-a)*e+a,r)))})),this[r](c)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=l(e)._rgba;return l(t.map(i,(function(t,e){return(1-n)*r[e]+n*t})))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t}));return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(n,r,o),l=Math.min(n,r,o),u=s-l,h=s+l,c=.5*h;return e=l===s?0:n===s?60*(r-o)/u+360:r===s?60*(o-n)/u+120:60*(n-r)/u+240,i=0===u?0:.5>=c?u/h:u/(2-h),[Math.round(e)%360,i,c,null==a?1:a]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],a=.5>=n?n*(1+i):n+i-n*i,s=2*n-a;return[Math.round(255*r(s,a,e+1/3)),Math.round(255*r(s,a,e)),Math.round(255*r(s,a,e-1/3)),o]},p(u,(function(n,r){var o=r.props,s=r.cache,u=r.to,h=r.from;l.fn[n]=function(n){if(u&&!this[s]&&(this[s]=u(this._rgba)),n===e)return this[s].slice();var r,a=t.type(n),c="array"===a||"object"===a?n:arguments,d=this[s].slice();return p(o,(function(t,e){var n=c["object"===a?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)})),h?((r=l(h(d)))[s]=d,r):l(d)},p(o,(function(e,i){l.fn[e]||(l.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":n,u=this[l](),h=u[i.idx];return"undefined"===s?h:("function"===s&&(r=r.call(this,h),s=t.type(r)),null==r&&i.empty?this:("string"===s&&(o=a.exec(r))&&(r=h+parseFloat(o[2])*("+"===o[1]?1:-1)),u[i.idx]=r,this[l](u)))})}))})),l.hook=function(e){var i=e.split(" ");p(i,(function(e,i){t.cssHooks[i]={set:function(e,r){var o,a,s="";if("transparent"!==r&&("string"!==t.type(r)||(o=n(r)))){if(r=l(o||r),!c.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(t){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{e.style[i]=r}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}))},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],(function(i,n){e["border"+n+"Color"]=t})),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(c),function(){function e(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)"string"==typeof r[i=r[n]]&&(o[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}function i(e,i){var n,o,a={};for(n in i)o=i[n],e[n]!==o&&(r[n]||(t.fx.step[n]||!isNaN(parseFloat(o)))&&(a[n]=o));return a}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(c.style(t.elem,i,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,a,s){var l=t.speed(o,a,s);return this.queue((function(){var o,a=t(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map((function(){return{el:t(this),start:e(this)}})),(o=function(){t.each(n,(function(t,e){r[e]&&a[e+"Class"](r[e])}))})(),u=u.map((function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this})),a.attr("class",s),u=u.map((function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()})),t.when.apply(t,u.get()).done((function(){o(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),l.complete.call(a[0])}))}))},t.fn.extend({addClass:function(e){return function(i,n,r,o){return n?t.effects.animateClass.call(this,{add:i},n,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,r,o,a){return"boolean"==typeof n||void 0===n?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,r,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,o)}})}(),function(){function e(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function n(t,e){var i=e.outerWidth(),n=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,n,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?i:parseFloat(r[2]),bottom:"auto"===r[3]?n:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(h)||e(i)}}(t.expr.filters.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var i=0,n=e.length;n>i;i++)null!==e[i]&&t.data(l+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,n=0,r=e.length;r>n;n++)null!==e[n]&&(i=t.data(l+e[n]),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,n){return n||(n=i,i="effect"),t.effects.effect[e]=n,t.effects.effect[e].mode=i,n},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(e||100)/100:1,r="vertical"!==i?(e||100)/100:1;return{height:t.height()*r,width:t.width()*n,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*n}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var n=t.queue();e>1&&n.splice.apply(n,[1,0].concat(n.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createPlaceholder:function(e){var i,n=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(l+"placeholder",i)),e.css({position:n,left:r.left,top:r.top}),i},removePlaceholder:function(t){var e=l+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,n,r){return r=r||{},t.each(i,(function(t,i){var o=e.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])})),r}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(l)&&l.call(a[0]),t.isFunction(e)&&e()}var a=t(this);n.mode=c.shift(),!1===t.uiBackCompat||o?"none"===n.mode?(a[u](),i()):r.call(a[0],n,(function(){a.removeData(h),t.effects.cleanUp(a),"hide"===n.mode&&a.hide(),i()})):(a.is(":hidden")?"hide"===u:"show"===u)?(a[u](),i()):r.call(a[0],n,i)}var n=e.apply(this,arguments),r=t.effects.effect[n.effect],o=r.mode,a=n.queue,s=a||"fx",l=n.complete,u=n.mode,c=[],d=function(e){var i=t(this),n=t.effects.mode(i,u)||o;i.data(h,!0),c.push(n),o&&("show"===n||n===o&&"hide"===n)&&i.show(),o&&"none"===n||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!r?u?this[u](n.duration,l):this.each((function(){l&&l.call(this)})):!1===a?this.each(d).each(i):this.queue(s,d).queue(s,i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],(function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])})),n},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):n(this.css("clip"),this)},transfer:function(e,i){var n=t(this),r=t(e.to),o="fixed"===r.css("position"),a=t("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,u=r.offset(),h={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},c=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:c.top-s,left:c.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(h,e.duration,e.easing,(function(){d.remove(),t.isFunction(i)&&i()}))}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=n(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,i){e[i]=function(e){return Math.pow(e,t+2)}})),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,(function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}}))}(),t.effects,t.effects.define("blind","hide",(function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",a=r.cssClip(),s={clip:t.extend({},a)},l=t.effects.createPlaceholder(r);s.clip[n[o][0]]=s.clip[n[o][1]],"show"===e.mode&&(r.cssClip(s.clip),l&&l.css(t.effects.clipToBox(s)),s.clip=a),l&&l.animate(t.effects.clipToBox(s),e.duration,e.easing),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("bounce",(function(e,i){var n,r,o,a=t(this),s=e.mode,l="hide"===s,u="show"===s,h=e.direction||"up",c=e.distance,d=e.times||5,p=2*d+(u||l?1:0),f=e.duration/p,g=e.easing,m="up"===h||"down"===h?"top":"left",v="up"===h||"left"===h,y=0,_=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),c||(c=a["top"===m?"outerHeight":"outerWidth"]()/3),u&&((r={opacity:1})[m]=o,a.css("opacity",0).css(m,v?2*-c:2*c).animate(r,f,g)),l&&(c/=Math.pow(2,d-1)),(r={})[m]=o;d>y;y++)(n={})[m]=(v?"-=":"+=")+c,a.animate(n,f,g).animate(r,f,g),c=l?2*c:c/2;l&&((n={opacity:0})[m]=(v?"-=":"+=")+c,a.animate(n,f,g)),a.queue(i),t.effects.unshift(a,_,p+1)})),t.effects.define("clip","hide",(function(e,i){var n,r={},o=t(this),a=e.direction||"vertical",s="both"===a,l=s||"horizontal"===a,u=s||"vertical"===a;n=o.cssClip(),r.clip={top:u?(n.bottom-n.top)/2:n.top,right:l?(n.right-n.left)/2:n.right,bottom:u?(n.bottom-n.top)/2:n.bottom,left:l?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=n),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("drop","hide",(function(e,i){var n,r=t(this),o="show"===e.mode,a=e.direction||"left",s="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a?"-=":"+=",u="+="===l?"-=":"+=",h={opacity:0};t.effects.createPlaceholder(r),n=e.distance||r["top"===s?"outerHeight":"outerWidth"](!0)/2,h[s]=l+n,o&&(r.css(h),h[s]=u+n,h.opacity=1),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("explode","hide",(function(e,i){function n(){v.push(this),v.length===h*c&&(d.css({visibility:"visible"}),t(v).remove(),i())}var r,o,a,s,l,u,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=h,d=t(this),p="show"===e.mode,f=d.show().css("visibility","hidden").offset(),g=Math.ceil(d.outerWidth()/c),m=Math.ceil(d.outerHeight()/h),v=[];for(r=0;h>r;r++)for(s=f.top+r*m,u=r-(h-1)/2,o=0;c>o;o++)a=f.left+o*g,l=o-(c-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:a+(p?l*g:0),top:s+(p?u*m:0),opacity:p?0:1}).animate({left:a+(p?0:l*g),top:s+(p?0:u*m),opacity:p?1:0},e.duration||500,e.easing,n)})),t.effects.define("fade","toggle",(function(e,i){var n="show"===e.mode;t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("fold","hide",(function(e,i){var n=t(this),r=e.mode,o="show"===r,a="hide"===r,s=e.size||15,l=/([0-9]+)%/.exec(s),u=e.horizFirst?["right","bottom"]:["bottom","right"],h=e.duration/2,c=t.effects.createPlaceholder(n),d=n.cssClip(),p={clip:t.extend({},d)},f={clip:t.extend({},d)},g=[d[u[0]],d[u[1]]],m=n.queue().length;l&&(s=parseInt(l[1],10)/100*g[a?0:1]),p.clip[u[0]]=s,f.clip[u[0]]=s,f.clip[u[1]]=0,o&&(n.cssClip(f.clip),c&&c.css(t.effects.clipToBox(f)),f.clip=d),n.queue((function(i){c&&c.animate(t.effects.clipToBox(p),h,e.easing).animate(t.effects.clipToBox(f),h,e.easing),i()})).animate(p,h,e.easing).animate(f,h,e.easing).queue(i),t.effects.unshift(n,m,4)})),t.effects.define("highlight","show",(function(e,i){var n=t(this),r={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),t.effects.define("size",(function(e,i){var n,r,o,a=t(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=e.mode,c="effect"!==h,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),v=e.from||m,y=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===h&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},("box"===d||"both"===d)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(a,l,r.from.y,v),y=t.effects.setTransition(a,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(a,u,r.from.x,v),y=t.effects.setTransition(a,u,r.to.x,y))),("content"===d||"both"===d)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(a,s,r.from.y,v),y=t.effects.setTransition(a,s,r.to.y,y)),p&&(n=t.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*n.y+g.top,v.left=(m.outerWidth-v.outerWidth)*n.x+g.left,y.top=(m.outerHeight-y.outerHeight)*n.y+g.top,y.left=(m.outerWidth-y.outerWidth)*n.x+g.left),a.css(v),("content"===d||"both"===d)&&(l=l.concat(["marginTop","marginBottom"]).concat(s),u=u.concat(["marginLeft","marginRight"]),a.find("*[width]").each((function(){var i=t(this),n=t.effects.scaledDimensions(i),o={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},a={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(i,l,r.from.y,o),a=t.effects.setTransition(i,l,r.to.y,a)),r.from.x!==r.to.x&&(o=t.effects.setTransition(i,u,r.from.x,o),a=t.effects.setTransition(i,u,r.to.x,a)),c&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,(function(){c&&t.effects.restoreStyle(i)}))}))),a.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===y.opacity&&a.css("opacity",v.opacity),c||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})})),t.effects.define("scale",(function(e,i){var n=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==r?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)})),t.effects.define("puff","hide",(function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)})),t.effects.define("pulsate","show",(function(e,i){var n=t(this),r=e.mode,o="show"===r,a=o||"hide"===r,s=2*(e.times||5)+(a?1:0),l=e.duration/s,u=0,h=1,c=n.queue().length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1);s>h;h++)n.animate({opacity:u},l,e.easing),u=1-u;n.animate({opacity:u},l,e.easing),n.queue(i),t.effects.unshift(n,c,s+1)})),t.effects.define("shake",(function(e,i){var n=1,r=t(this),o=e.direction||"left",a=e.distance||20,s=e.times||3,l=2*s+1,u=Math.round(e.duration/l),h="up"===o||"down"===o?"top":"left",c="up"===o||"left"===o,d={},p={},f={},g=r.queue().length;for(t.effects.createPlaceholder(r),d[h]=(c?"-=":"+=")+a,p[h]=(c?"+=":"-=")+2*a,f[h]=(c?"-=":"+=")+2*a,r.animate(d,u,e.easing);s>n;n++)r.animate(p,u,e.easing).animate(f,u,e.easing);r.animate(p,u,e.easing).animate(d,u/2,e.easing).queue(i),t.effects.unshift(r,g,l+1)})),t.effects.define("slide","show",(function(e,i){var n,r,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,c=e.distance||o["top"===u?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),n=o.cssClip(),r=o.position()[u],d[u]=(h?-1:1)*c+r,d.clip=o.cssClip(),d.clip[a[l][1]]=d.clip[a[l][0]],"show"===s&&(o.cssClip(d.clip),o.css(u,d[u]),d.clip=n,d[u]=r),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})),!1!==t.uiBackCompat&&t.effects.define("transfer",(function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(e,i){var n,r,o,a,s,l=e.nodeName.toLowerCase();return"area"===l?(r=(n=e.parentNode).name,!(!e.href||!r||"map"!==n.nodeName.toLowerCase())&&(o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(a=!e.disabled)&&(s=t(e).closest("fieldset")[0])&&(a=!s.disabled):a="a"===l&&e.href||i,a&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout((function(){var i=e.data("ui-form-reset-instances");t.each(i,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],(function(e,i){function n(e,i,n,o){return t.each(r,(function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)})),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each((function(){t(this).css(o,n(this,e)+"px")}))},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?a["outer"+i].call(this,e):this.each((function(){t(this).css(o,n(this,e,!0,r)+"px")}))}})),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,n,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(n=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(n)+"']",r=r.add(o.find(i).addBack(i))),this.pushStack(r))},t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++t)}))}}(),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),r=n.uniqueId().attr("id");e.attr("aria-controls",r),n.attr("aria-labelledby",i)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=r.height(),this.element.siblings(":visible").each((function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))})),this.headers.each((function(){e-=t(this).outerHeight(!0)})),this.headers.next().each((function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each((function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()})).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),(function(t,e){i[e]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,r=this.options,o=this.active,a=t(e.currentTarget),s=a[0]===o[0],l=s&&r.collapsible,u=l?t():a.next(),h=o.next(),c={oldHeader:o,oldPanel:h,newHeader:l?t():a,newPanel:u};e.preventDefault(),s&&!r.collapsible||!1===this._trigger("beforeActivate",e,c)||(r.active=!l&&this.headers.index(a),this.active=s?t():a,this._toggle(c),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.activeHeader)._addClass(i,null,r.icons.header)),s||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=a.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.header)._addClass(n,null,r.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter((function(){return 0===parseInt(t(this).attr("tabIndex"),10)})).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,r,o,a=this,s=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),h=this.options.animate||{},c=u&&h.down||h,d=function(){a._toggleComplete(i)};return"number"==typeof c&&(o=c),"string"==typeof c&&(r=c),r=r||c.easing||h.easing,o=o||c.duration||h.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(s+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,o,r,d):t.animate(this.showProps,o,r,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay((function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each((function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()}))},_keydown:function(e){var i,n,r,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,n=this.previousFilter||"",o=!1,r=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),(i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,n,r,o=this,a=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var e=t(this),i=e.prev(),n=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(n,"ui-menu-icon","ui-icon "+a),i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))})),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),(e=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")})),r=(n=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,n,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,a,s;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(t)}),this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay((function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n}),this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay((function(){this.focus(t,e)})))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return 0>(i=t(this)).offset().top-n-r})),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=t(this)).offset().top-n+r>0})),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return n.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))}))}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(e,i){var n,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",(function(){t(e.target).trigger(e.originalEvent)}))):(r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),void((n=i.item.attr("aria-label")||r.value)&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,i){var n=i.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay((function(){this.previous=r,this.selectedItem=n}))),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay((function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!n)&&(this.selectedItem=null,this.search(null,t))}),this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy((function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,(function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})}))},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,(function(t,i){n._renderItemData(e,i)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,(function(t){return n.test(t.label||t.value||t)}))}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var d,p=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,(function(n,r){var o,a={};return r?"controlgroupLabel"===n?((o=e.element.find(r)).each((function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(o.get()))):void(t.fn[n]&&(a=e["_"+n+"Options"]?e["_"+n+"Options"]("middle"):{classes:{}},e.element.find(r).each((function(){var r=t(this),o=r[n]("instance"),s=t.widget.extend({},a);if("button"!==n||!r.parent(".ui-spinner").length){o||(o=r[n]()[n]("instance")),o&&(s.classes=e._resolveClassesValues(s.classes,o)),r[n](s);var l=r[n]("widget");t.data(l[0],"ui-controlgroup-data",o||r[n]("instance")),i.push(l[0])}})))):void 0})),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each((function(){var i=t(this).data("ui-controlgroup-data");i&&i[e]&&i[e]()}))},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var n={};return t.each(e,(function(r){var o=i.options.classes[r]||"";o=t.trim(o.replace(p,"")),n[r]=(o+" "+e[r]).replace(/\s+/g," ")})),n},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],(function(t,n){var r=e[n]().data("ui-controlgroup-data");if(r&&i["_"+r.widgetName+"Options"]){var o=i["_"+r.widgetName+"Options"](1===e.length?"only":n);o.classes=i._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else i._updateCornerClass(e[n](),n)})),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each((function(){n.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML})),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,i="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(i):t(i).filter((function(){return 0===t(this).form().length}))).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each((function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n="iconPosition"!==e,r=n?this.options.iconPosition:i,o="top"===r||"bottom"===r;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,o;r="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,o,a=this._get(i,"appendText"),s=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),("focus"===(n=this._get(i,"showOn"))||"both"===n)&&e.on("focus",this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](i.trigger),i.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;t.length>r;r++)t[r].length>i&&(i=t[r].length,n=r);return n},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,a){var s,l,u,h,c,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+h,u/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),d===r&&(d=null))},_enableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&((n=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&((n=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var o,a,s,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):u?"all"===i?t.extend({},u.settings):this._get(u,i):null:(o=i||{},"string"==typeof i&&((o={})[i]=n),void(u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),r(u.settings,o),null!==s&&void 0!==o.dateFormat&&void 0===o.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(i=t.datepicker._get(o,"onSelect"))?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(t){}return!0},_showDatepicker:function(e){var i,n,o,a,s,l,u;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(o=(n=t.datepicker._get(i,"beforeShow"))?n.apply(e,[e,i]):{})&&(r(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each((function(){return!(a|="fixed"===t(this).css("position"))})),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),s=t.datepicker._checkOffset(i,s,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),u=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i)))},_updateDatepicker:function(e){this.maxRows=4,d=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,r=this._getNumberOfMonths(e),o=r[1],a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&n.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),e.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout((function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null}),0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-a:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+s?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>u&&u>o?Math.abs(o+s):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,n,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),n,r):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,i,n,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),(n=this._get(o,"onSelect"))?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""==(i="object"==typeof i?""+i:i+""))return null;var r,o,a,s,l=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,_=!1,b=function(t){var i=e.length>r+1&&e.charAt(r+1)===t;return i&&r++,i},x=function(t){var e=b(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),o=i.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},w=function(e,n,r){var o=-1,a=t.map(b(e)?r:n,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(a,(function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(o=e[0],l+=n.length,!1):void 0})),-1!==o)return o+1;throw"Unknown name at position "+l},S=function(){if(i.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;e.length>r;r++)if(_)"'"!==e.charAt(r)||b("'")?S():_=!1;else switch(e.charAt(r)){case"d":v=x("d");break;case"D":w("D",c,d);break;case"o":y=x("o");break;case"m":m=x("m");break;case"M":m=w("M",p,f);break;case"y":g=x("y");break;case"@":g=(s=new Date(x("@"))).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":g=(s=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":b("'")?S():_=!0;break;default:S()}if(i.length>l&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=g?0:-100)),y>-1)for(m=1,v=y;!((o=this._getDaysInMonth(g,m-1))>=v);)m++,v-=o;if((s=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},u=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},h=function(t,e,i,n){return l(t)?n[e]:i[e]},c="",d=!1;if(e)for(n=0;t.length>n;n++)if(d)"'"!==t.charAt(n)||l("'")?c+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":c+=u("d",e.getDate(),2);break;case"D":c+=h("D",e.getDay(),r,o);break;case"o":c+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=u("m",e.getMonth()+1,2);break;case"M":c+=h("M",e.getMonth(),a,s);break;case"y":c+=l("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?c+="'":d=!0;break;default:c+=t.charAt(n)}return c},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(i,n,a)||r}catch(t){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=null==i||""===i?n:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=n.getFullYear(),o=n.getMonth(),a=n.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(i);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o))}l=s.exec(i)}return new Date(r,o,a)}(i):"number"==typeof i?isNaN(i)?n:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return(r=r&&"Invalid Date"==""+r?n:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e,i,n,r,o,a,s,l,u,h,c,d,p,f,g,m,v,y,_,b,x,w,S,C,k,T,D,M,I,A,P,O,L,E,N,R,z,B,H,F=new Date,W=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),V=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),$=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),U=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),X=1!==Y[0]||1!==Y[1],Z=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-U,tt=t.drawYear;if(0>J&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-Y[0]*Y[1]+1,Q.getDate())),e=K&&K>e?K:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)0>--J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=$?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-G,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=$?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+G,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?Z:W,a=$?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(V?"":l)+"</div>":"",h=parseInt(this._get(t,"firstDay"),10),h=isNaN(h)?0:h,c=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",w=0;Y[0]>w;w++){for(S="",this.maxRows=4,C=0;Y[1]>C;C++){if(k=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),T=" ui-corner-all",D="",X){if(D+="<div class='ui-datepicker-group",Y[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first",T=" ui-corner-"+(V?"right":"left");break;case Y[1]-1:D+=" ui-datepicker-group-last",T=" ui-corner-"+(V?"left":"right");break;default:D+=" ui-datepicker-group-middle",T=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?V?o:n:"")+(/all|right/.test(T)&&0===w?V?n:o:"")+this._generateMonthYearHeader(t,J,tt,K,Q,w>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;7>x;x++)M+="<th scope='col'"+((x+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[I=(x+h)%7]+"'>"+p[I]+"</span></th>";for(D+=M+"</tr></thead><tbody>",A=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),P=(this._getFirstDayOfMonth(tt,J)-h+7)%7,O=Math.ceil((P+A)/7),L=X&&this.maxRows>O?this.maxRows:O,this.maxRows=L,E=this._daylightSavingAdjust(new Date(tt,J,1-P)),N=0;L>N;N++){for(D+="<tr>",R=c?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(E)+"</td>":"",x=0;7>x;x++)z=m?m.apply(t.input?t.input[0]:null,[E]):[!0,""],H=(B=E.getMonth()!==J)&&!y||!z[0]||K&&K>E||Q&&E>Q,R+="<td class='"+((x+h+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(E.getTime()===k.getTime()&&J===t.selectedMonth&&t._keyEvent||_.getTime()===E.getTime()&&_.getTime()===k.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+z[1]+(E.getTime()===Z.getTime()?" "+this._currentClass:"")+(E.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(B&&!v||!z[2]?"":" title='"+z[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+E.getMonth()+"' data-year='"+E.getFullYear()+"'")+">"+(B&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+E.getDate()+"</span>":"<a class='ui-state-default"+(E.getTime()===W.getTime()?" ui-state-highlight":"")+(E.getTime()===Z.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+E.getDate()+"</a>")+"</td>",E.setDate(E.getDate()+1),E=this._daylightSavingAdjust(E);D+=R+"</tr>"}++J>11&&(J=0,tt++),S+=D+="</tbody></table>"+(X?"</div>"+(Y[0]>0&&C===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=S}return b+=u,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,r,o,a,s){var l,u,h,c,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(o||!m)b+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,u=r&&r.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!l||h>=n.getMonth())&&(!u||r.getMonth()>=h)&&(b+="<option value='"+h+"'"+(h===e?" selected='selected'":"")+">"+s[h]+"</option>");b+="</select>"}if(y||(_+=b+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(c[0]),g=Math.max(f,p(c[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!o&&m&&v?"":"&#xa0;")+b),_+"</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),r=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&i>e?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),s=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(s+=n)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||s>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each((function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new e,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var f=!1;t(document).on("mouseup",(function(){f=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!f){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),f=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,f=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",e)&&i._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),void((n=(i=t(r.containment))[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each((function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,r))}))},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,(function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))}))},drag:function(e,i,n){t.each(n.sortables,(function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(n.sortables,(function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r}))),r?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",e),n.dropped=o.element,t.each(n.sortables,(function(){this.refreshPositions()})),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,o=!1,a=n.scrollParentNotHidden[0],s=n.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each((function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})}))},drag:function(e,i,n){var r,o,a,s,l,u,h,c,d,p,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,y=i.offset.top,_=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)u=(l=n.snapElements[d].left-n.margins.left)+n.snapElements[d].width,c=(h=n.snapElements[d].top-n.margins.top)+n.snapElements[d].height,l-g>v||m>u+g||h-g>_||y>c+g||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(r=g>=Math.abs(h-_),o=g>=Math.abs(c-y),a=g>=Math.abs(l-v),s=g>=Math.abs(u-m),r&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left)),p=r||o||a||s,"outer"!==f.snapMode&&(r=g>=Math.abs(h-y),o=g>=Math.abs(c-_),a=g>=Math.abs(l-m),s=g>=Math.abs(u-v),r&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(r||o||a||s||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=r||o||a||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,o=n.options,a=t.makeArray(t(o.stack)).sort((function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)}));a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each((function(e){t(this).css("zIndex",r+e)})),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",(function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())})).on("mouseleave",(function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,n,r,o,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;n.length>i;i++)r="ui-resizable-"+(e=t.trim(n[i])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,n,r,o;for(i in e=e||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")})),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,s=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,r,o,a,s,l,u=this.options,h=this;return this._helper&&(r=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:h.sizeDiff.height,o=n?0:h.sizeDiff.width,a={width:h.helper.width()-o,height:h.helper.height()-r},s=parseFloat(h.element.css("left"))+(h.position.left-h.originalPosition.left)||null,l=parseFloat(h.element.css("top"))+(h.position.top-h.originalPosition.top)||null,u.animate||this.element.css(t.extend(a,{top:l,left:s})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&u&&(t.left=s-e.minWidth),n&&u&&(t.left=s-e.maxWidth),a&&h&&(t.top=l-e.minHeight),r&&h&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(r[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-a},u=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,h=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,h&&u?{top:h,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,o,a,s,l=t(this).resizable("instance"),u=l.options,h=l.element,c=u.containment,d=c instanceof t?c.get(0):/parent/.test(c)?h.parent().get(0):c;d&&(l.containerElement=t(d),/document/.test(c)||c===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each((function(t,n){i[t]=l._num(e.css("padding"+n))})),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(d,"left")?d.scrollWidth:o,s=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:n.left,top:n.top,width:a,height:s}))},resize:function(e){var i,n,r,o,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,u=a.position,h=a._aspectRatio||e.shiftKey,c={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-c.left),h&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),h&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-c.left:a.offset.left-l.left)),n=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-c.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,h&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,h&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,u=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-n.left,width:l,height:u}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-n.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each((function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})}))},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,o=n.originalSize,a=n.originalPosition,s={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0};t(r.alsoResize).each((function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,(function(t,e){var i=(n[e]||0)+(s[e]||0);i&&i>=0&&(r[e]=i||null)})),e.css(r)}))},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,a=i.originalPosition,s=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,u=l[0]||1,h=l[1]||1,c=Math.round((r.width-o.width)/u)*u,d=Math.round((r.height-o.height)/h)*h,p=o.width+c,f=o.height+d,g=n.maxWidth&&p>n.maxWidth,m=n.maxHeight&&f>n.maxHeight,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=u),y&&(f+=h),g&&(p-=u),m&&(f-=h),/^(se|s|e)$/.test(s)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.left=a.left-c):((0>=f-h||0>=p-u)&&(e=i._getPaddingPlusBorderDimensions(this)),f-h>0?(i.size.height=f,i.position.top=a.top-d):(f=h-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-u>0?(i.size.width=p,i.position.left=a.left-c):(p=u-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){i._trigger("close",e)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map((function(){return+t(this).css("z-index")})).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){e._focusTabbable(),e._trigger("focus")})),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay((function(){r.trigger("focus")})),e.preventDefault()):(this._delay((function(){n.trigger("focus")})),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(i,(function(i,n){var r,o;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),r=n.click,o={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,t("<button></button>",n).button(o).appendTo(e.uiButtonSet).on("click",(function(){r.apply(e.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(r))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(r,o){var a=o.offset.left-i.document.scrollLeft(),s=o.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,r=n.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,r){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(r))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(r,o){var a=i.uiDialog.offset(),s=a.left-i.document.scrollLeft(),l=a.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,(function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(r[t]=e)})),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,i){var n,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((n=o.is(":data(ui-draggable)"))&&!i&&o.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!i&&o.resizable("destroy"),r&&"string"==typeof i&&o.resizable("option","handles",i),r||!1===i||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay((function(){e=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&g(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(r=!0,!1):void 0})),!r&&!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var g=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,r){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=o+e.helperProportions.width,l=a+e.helperProportions.height,u=i.offset.left,h=i.offset.top,c=u+i.proportions().width,d=h+i.proportions().height;switch(n){case"fit":return o>=u&&c>=s&&a>=h&&d>=l;case"intersect":return o+e.helperProportions.width/2>u&&c>s-e.helperProportions.width/2&&a+e.helperProportions.height/2>h&&d>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,h,i.proportions().height)&&t(r.pageX,u,i.proportions().width);case"touch":return(a>=h&&d>=a||l>=h&&d>=l||h>a&&l>d)&&(o>=u&&c>=o||s>=u&&c>=s||u>o&&s>c);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;o.length>n;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(r=0;s.length>r;r++)if(s[r]===o[n].element[0]){o[n].proportions().height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===a&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&g(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}))},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,o,a=g(e,this,this.options.tolerance,i),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return t(this).droppable("instance").options.scope===r}))).length&&((n=t(o[0]).droppable("instance")).greedyChild="isover"===s)),n&&"isover"===s&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,i),n&&"isout"===s&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}}))},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each((function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))})),t(e.target).parents().addBack().each((function(){var n,r=t.data(this,"selectable-item");return r?(n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,n?"ui-unselecting":"ui-selected")._addClass(r.$element,n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",e,{selecting:r.element}):i._trigger("unselecting",e,{unselecting:r.element}),!1):void 0})))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,o=this.opos[0],a=this.opos[1],s=e.pageX,l=e.pageY;return o>s&&(i=s,s=o,o=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each((function(){var i=t.data(this,"selectable-item"),u=!1,h={};i&&i.element!==n.element[0]&&(h.left=i.left+n.elementPos.left,h.right=i.right+n.elementPos.left,h.top=i.top+n.elementPos.top,h.bottom=i.bottom+n.elementPos.top,"touch"===r.tolerance?u=!(h.left>s||o>h.right||h.top>l||a>h.bottom):"fit"===r.tolerance&&(u=h.left>o&&s>h.right&&h.top>a&&l>h.bottom),u?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))})),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each((function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})})),t(".ui-selecting",this.element[0]).each((function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})})),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){i._rendered||i._refreshMenu()}))},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,(function(i,o){var a;o.optgroup!==r&&(a=t("<li>",{text:o.optgroup}),n._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),r=o.optgroup),n._renderItemData(e,o)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](r).eq(-1):i[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return!1===t?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,n=[];e.each((function(e,r){n.push(i._parseOption(t(r),e))})),this.items=n},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;i>e;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,a,s,l,u=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var i=Math.abs(n-u.values(e));(r>i||r===i&&(e===u._lastChangedValue||u.values(e)===h.min))&&(r=i,o=t(this),a=e)})),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),s=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-s.left-o.width()/2,top:e.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/e)>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,r=this.value(),o=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(n,i):Math.max(n,i)),o[e]=i),i!==r&&!1!==this._trigger("slide",t,this._uiHash(e,i,o))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,r=arguments[0],o=0;n.length>o;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,o,a=this.options.range,s=this.options,l=this,u=!this._animateOff&&s.animate,h={};this._hasMultipleValues()?this.handles.each((function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[u?"animate":"css"](h,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:s.animate}))),e=i})):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](h,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-i+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-i+"%"},s.animate))},_handleEvents:{keydown:function(e){var i,n,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,i=n=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-r)}this._slide(e,o,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each((function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):void 0})),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),!n||this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each((function(){this===e.target&&(r=!0)})),!r)||(this.currentItem=n,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,i,n){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=(n=this.items[i]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){n._clear(e)}))}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each((function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))})),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each((function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")})),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,l=s+t.height,u=this.offset.click.top,h=this.offset.click.left,c="x"===this.options.axis||n+u>s&&l>n+u,d="y"===this.options.axis||e+h>o&&a>e+h,p=c&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!n||!r)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){s.push(this)}var n,r,o,a,s=[],l=[],u=this._connectWith();if(u&&e)for(n=u.length-1;n>=0;n--)for(r=(o=t(u[n],this.document[0])).length-1;r>=0;r--)(a=t.data(o[r],this.widgetFullName))&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,a,s,l,u,h=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=(r=t(d[i],this.document[0])).length-1;n>=0;n--)(o=t.data(r[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(c.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=c.length-1;i>=0;i--)for(a=c[i][1],n=0,u=(s=c[i][0]).length;u>n;n++)(l=t(s[n])).data(this.widgetName+"-item",a),h.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===n?e._createTrPlaceholder(e.currentItem,r):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each((function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)}))},_contactContainers:function(e){var i,n,r,o,a,s,l,u,h,c,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,a=(h=d.floating||this._isFloating(this.currentItem))?"left":"top",s=h?"width":"height",c=h?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[a],u=!1,e[c]-l>this.items[n][s]/2&&(u=!0),r>Math.abs(e[c]-l)&&(r=Math.abs(e[c]-l),o=this.items[n],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!n)}))},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(r.push((function(t){this._trigger("remove",t,this._uiHash())})),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;r.length>n;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],(function(t,n){var r=i.attr(n);null!=r&&r.length&&(e[n]=r)})),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(t)}),100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay((function(){this.previous=n})))}var n;n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,i.call(this)})),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,e,i)}),t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return i=t-(e=null!==n.min?n.min:0),t=e+(i=Math.round(i/n.step)*n.step),t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&n.min>t?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,n,r;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:o((function(t){this._super(t)})),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:o((function(t){this._stepUp(t)})),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:o((function(t){this._stepDown(t)})),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:o((function(t){this._stepUp((t||1)*this.options.page)})),pageDown:o((function(t){this._stepDown((t||1)*this.options.page)})),value:function(t){return arguments.length?void o(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),(function(t){return e.tabs.index(t)})))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each((function(i,r){return t(r).attr("aria-controls")===n?(e=i,!1):void 0})),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",n)}),this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){for(var n=this.tabs.length-1;-1!==t.inArray((e>n&&(e=0),0>e&&(e=n),e),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),(function(t){return i.index(t)})),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return t("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each((function(i,n){var r,o,a,s=t(n).uniqueId().attr("id"),l=t(n).closest("li"),u=l.attr("aria-controls");e._isLocal(n)?(a=(r=n.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(r="#"+(a=l.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(r)).length||(o=e._createPanel(a)).insertAfter(e.panels[i-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)i=t(n),!0===e||-1!==t.inArray(r,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),(function(t,e){i[e]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){i-=t(this).outerHeight(!0)})),this.panels.each((function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each((function(){i=Math.max(i,t(this).height("").height())})).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===n[0],a=o&&i.collapsible,s=a?t():this._getPanelForTab(r),l=n.length?this._getPanelForTab(n):t(),u={oldTab:n,oldPanel:l,newTab:a?t():r,newPanel:s};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",e,u)||(i.active=!a&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),l.length||s.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(r),e),this._toggle(e,u))},_toggle:function(e,i){function n(){o.running=!1,o._trigger("activate",e,i)}function r(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,n):(a.show(),n())}var o=this,a=i.newPanel,s=i.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,(function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()})):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter((function(){return 0===t(this).attr("tabIndex")})).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,(function(t){return t!==e?t:null})):t.map(this.tabs,(function(t,i){return i!==e?i:null}))),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),n._removeClass(r,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done((function(t,e,r){setTimeout((function(){a.html(t),n._trigger("load",i,s),l(r,e)}),1)})).fail((function(t,e){setTimeout((function(){l(t,e)}),1)}))))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),(n=t.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),"content"===e&&t.each(this.tooltips,(function(t,e){n._updateContent(e.element)}))},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,(function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0})))},_enable:function(){this.disabledTitles.each((function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each((function(){var e,n=t(this);n.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))})),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,o=e?e.type:null;return"string"==typeof n||n.nodeType||n.jquery?this._open(e,t,n):void((i=n.call(t[0],(function(i){r._delay((function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))}))})))&&this._open(e,t,i))},_open:function(e,i,n){function r(t){u.of=t,a.is(":hidden")||a.position(u)}var o,a,s,l,u=t.extend({},this.options.position);if(n){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(l=t("<div>").html(a.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval((function(){a.is(":visible")&&(r(u.of),clearInterval(s))}),t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(i=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,(function(){n._removeTooltip(t(this))})),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,(function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]})),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,(function(i,n){var r=t.Event("blur"),o=n.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){t.exports=function(t,e){if(!t)throw new Error("Graph structure cannot be undefined");var o=(e&&e.createSimulator||i(7))(e);if(Array.isArray(e))throw new Error("Physics settings is expected to be an object");var a=function(e){var i=t.getLinks(e);return i?1+i.length/3:1};e&&"function"==typeof e.nodeMass&&(a=e.nodeMass);var s=new Map,l={},u=0,h=o.settings.springTransform||r;u=0,t.forEachNode((function(t){m(t.id),u+=1})),t.forEachLink(y),t.on("changed",g);var c=!1,d={step:function(){if(0===u)return p(!0),!0;var t=o.step();d.lastMove=t,d.fire("step");var e=t/u<=.01;return p(e),e},getNodePosition:function(t){return x(t).pos},setNodePosition:function(t){var e=x(t);e.setPosition.apply(e,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(t){var e=l[t];if(e)return{from:e.from.pos,to:e.to.pos}},getGraphRect:function(){return o.getBBox()},forEachBody:f,pinNode:function(t,e){x(t.id).isPinned=!!e},isNodePinned:function(t){return x(t.id).isPinned},dispose:function(){t.off("changed",g),d.fire("disposed")},getBody:function(t){return s.get(t)},getSpring:function(e,i){var n;if(void 0===i)n="object"!=typeof e?e:e.id;else{var r=t.hasLink(e,i);if(!r)return;n=r.id}return l[n]},getForceVectorLength:function(){var t=0,e=0;return f((function(i){t+=Math.abs(i.force.x),e+=Math.abs(i.force.y)})),Math.sqrt(t*t+e*e)},simulator:o,graph:t,lastMove:0};return n(d),d;function p(t){var e;c!==t&&(c=t,e=t,d.fire("stable",e))}function f(t){s.forEach((function(e,i){t(e,i)}))}function g(e){for(var i=0;i<e.length;++i){var n=e[i];"add"===n.changeType?(n.node&&m(n.node.id),n.link&&y(n.link)):"remove"===n.changeType&&(n.node&&v(n.node),n.link&&_(n.link))}u=t.getNodesCount()}function m(e){var i=s.get(e);if(!i){var n=t.getNode(e);if(!n)throw new Error("initBody() was called with unknown node id");var r=n.position;if(!r){var a=function(t){var e=[];if(!t.links)return e;for(var i=Math.min(t.links.length,2),n=0;n<i;++n){var r=t.links[n],o=r.fromId!==t.id?s.get(r.fromId):s.get(r.toId);o&&o.pos&&e.push(o)}return e}(n);r=o.getBestNewBodyPosition(a)}(i=o.addBodyAt(r)).id=e,s.set(e,i),b(e),function(t){return t&&(t.isPinned||t.data&&t.data.isPinned)}(n)&&(i.isPinned=!0)}}function v(t){var e=t.id,i=s.get(e);i&&(s.delete(e),o.removeBody(i))}function y(t){b(t.fromId),b(t.toId);var e=s.get(t.fromId),i=s.get(t.toId),n=o.addSpring(e,i,t.length);h(t,n),l[t.id]=n}function _(e){var i=l[e.id];if(i){var n=t.getNode(e.fromId),r=t.getNode(e.toId);n&&b(n.id),r&&b(r.id),delete l[e.id],o.removeSpring(i)}}function b(t){var e=s.get(t);if(e.mass=a(t),Number.isNaN(e.mass))throw new Error("Node mass should be a number")}function x(t){var e=s.get(t);return e||(m(t),e=s.get(t)),e}},t.exports.simulator=i(7);var n=i(4);function r(){}},function(t,e,i){const n=i(1);function r(t,e){let i=n(t),r=i("{var}",{join:", "}),o="";return e&&(o=""+i("\n   var v{var};\nObject.defineProperty(this, '{var}', {\n  set: function(v) { \n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\n    v{var} = v; \n  },\n  get: function() { return v{var}; }\n});")),`\nfunction Vector(${r}) {\n${o}\n  if (typeof arguments[0] === 'object') {\n    // could be another vector\n    let v = arguments[0];\n    ${i('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}\n    ${i("this.{var} = v.{var};",{indent:4})}\n  } else {\n    ${i('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}\n  }\n}\n\nVector.prototype.reset = function () {\n  ${i("this.{var} = ",{join:""})}0;\n};\n\nfunction Body(${r}) {\n  this.isPinned = false;\n  this.pos = new Vector(${r});\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (${r}) {\n  ${i("this.pos.{var} = {var} || 0;",{indent:2})}\n};\n\nreturn {Body: Body, Vector: Vector};\n`}t.exports=function(t,e){let i=r(t,e),{Body:n}=new Function(i)();return n},t.exports.generateCreateBodyFunctionBody=r},function(t,e,i){const n=i(1),r=i(8);function o(t){let e=n(t),i=Math.pow(2,t);return`\n\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n\n\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n${o("  this.")}\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ${e("this.mass_{var} = 0;",{indent:2})}\n\n  // bounding box coordinates\n  ${e("this.min_{var} = 0;",{indent:2})}\n  ${e("this.max_{var} = 0;",{indent:2})}\n}\n\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n${o("      node.")}\n      node.body = null;\n      node.mass = ${e("node.mass_{var} = ",{join:""})}0;\n      ${e("node.min_{var} = node.max_{var} = ",{join:""})}0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ${e("var d{var};",{indent:4})}\n    var r; \n    ${e("var f{var} = 0;",{indent:4})}\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ${e("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ${e("f{var} += v * d{var};",{indent:8})}\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ${e("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n        }\n        // If s / r < Î¸, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_${r(0)} - node.min_${r(0)}) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ${e("f{var} += v * d{var};",{indent:10})}\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n${function(){let t=Array(11).join(" "),e=[];for(let n=0;n<i;++n)e.push(t+`if (node.quad${n}) {`),e.push(t+`  queue[pushIdx] = node.quad${n};`),e.push(t+"  queueLength += 1;"),e.push(t+"  pushIdx += 1;"),e.push(t+"}");return e.join("\n")}()}\n        }\n      }\n    }\n\n    ${e("sourceBody.force.{var} += f{var};",{indent:4})}\n  }\n\n  function insertBodies(bodies) {\n    ${e("var {var}min = Number.MAX_VALUE;",{indent:4})}\n    ${e("var {var}max = Number.MIN_VALUE;",{indent:4})}\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ${e("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}\n      ${e("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ${e("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}\n\n    currentInCache = 0;\n    root = newNode();\n    ${e("root.min_{var} = {var}min;",{indent:4})}\n    ${e("root.max_{var} = {var}min + maxSideLength;",{indent:4})}\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ${e("var {var} = body.pos.{var};",{indent:8})}\n        node.mass += body.mass;\n        ${e("node.mass_{var} += body.mass * {var};",{indent:8})}\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ${e("var min_{var} = node.min_{var};",{indent:8})}\n        ${e("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}\n\n${function(e){let i=[],n=Array(e+1).join(" ");for(let e=0;e<t;++e)i.push(n+`if (${r(e)} > max_${r(e)}) {`),i.push(n+`  quadIdx = quadIdx + ${Math.pow(2,e)};`),i.push(n+`  min_${r(e)} = max_${r(e)};`),i.push(n+`  max_${r(e)} = node.max_${r(e)};`),i.push(n+"}");return i.join("\n")}(8)}\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ${e("child.min_{var} = min_{var};",{indent:10})}\n          ${e("child.max_{var} = max_{var};",{indent:10})}\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ${e("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}\n\n            ${e("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\n\nfunction getChild(node, idx) {\n${function(){let t=[];for(let e=0;e<i;++e)t.push(`  if (idx === ${e}) return node.quad${e};`);return t.join("\n")}()}\n  return null;\n}\n\nfunction setChild(node, idx, child) {\n${function(){let t=[];for(let e=0;e<i;++e){let i=0===e?"  ":"  else ";t.push(`${i}if (idx === ${e}) node.quad${e} = child;`)}return t.join("\n")}()}\n}\n\nfunction isSamePosition(point1, point2) {\n  ${e("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}\n\n  return ${e("d{var} < 1e-8",{join:" && "})};\n}\n\nreturn createQuadTree;\n\n`;function o(t){let e=[];for(let n=0;n<i;++n)e.push(`${t}quad${n} = null;`);return e.join("\n")}}t.exports=function(t){let e=o(t);return new Function(e)()},t.exports.generateQuadTreeFunctionBody=o},function(t,e,i){t.exports=function(t){let e=r(t);return new Function("bodies","settings","random",e)},t.exports.generateFunctionBody=r;const n=i(1);function r(t){let e=n(t);return`\n  var boundingBox = {\n    ${e("min_{var}: 0, max_{var}: 0,",{indent:4})}\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ${e("base_{var} = 0",{join:", "})};\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ${e("base_{var} += neighborPos.{var};",{indent:10})}\n        }\n\n        ${e("base_{var} /= neighbors.length;",{indent:8})}\n      } else {\n        ${e("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ${e("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ${e("var max_{var} = Number.MIN_VALUE;",{indent:4})}\n    ${e("var min_{var} = Number.MAX_VALUE;",{indent:4})}\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ${e("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}\n      ${e("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}\n    }\n\n    ${e("boundingBox.min_{var} = min_{var};",{indent:4})}\n    ${e("boundingBox.max_{var} = max_{var};",{indent:4})}\n  }\n\n  function resetBoundingBox() {\n    ${e("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}\n  }\n`}},function(t,e,i){const n=i(1);function r(t){return`\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ${n(t)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}\n    }\n  };\n`}t.exports=function(t){let e=r(t);return new Function("options",e)},t.exports.generateCreateDragForceFunctionBody=r},function(t,e,i){const n=i(1);function r(t){let e=n(t);return`\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ${e("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}\n      var r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n\n      if (r === 0) {\n        ${e("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}\n        r = Math.sqrt(${e("d{var} * d{var}",{join:" + "})});\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ${e("body1.force.{var} += coefficient * d{var}",{indent:6})};\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ${e("body2.force.{var} -= coefficient * d{var}",{indent:6})};\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n`}t.exports=function(t){let e=r(t);return new Function("options","random",e)},t.exports.generateCreateSpringForceFunctionBody=r},function(t,e,i){const n=i(1);function r(t){let e=n(t);return`\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ${e("var d{var} = 0, t{var} = 0;",{indent:2})}\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ${e("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}\n    ${e("var v{var} = body.velocity.{var};",{indent:4})}\n    var v = Math.sqrt(${e("v{var} * v{var}",{join:" + "})});\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ${e("body.velocity.{var} = v{var} / v;",{indent:6})}\n    }\n\n    ${e("d{var} = timeStep * body.velocity.{var};",{indent:4})}\n\n    ${e("body.pos.{var} += d{var};",{indent:4})}\n\n    ${e("t{var} += Math.abs(d{var});",{indent:4})}\n  }\n\n  return (${e("t{var} * t{var}",{join:" + "})})/length;\n`}t.exports=function(t){let e=r(t);return new Function("bodies","timeStep","adaptiveTimeStepWeight",e)},t.exports.generateIntegratorFunctionBody=r},function(t,e){t.exports=function(t,e,i,n){this.from=t,this.to=e,this.length=i,this.coeff=n}},function(t,e){t.exports=function t(e,i){var n;e||(e={});if(i)for(n in i)if(i.hasOwnProperty(n)){var r=e.hasOwnProperty(n),o=typeof i[n];!r||typeof e[n]!==o?e[n]=i[n]:"object"===o&&(e[n]=t(e[n],i[n]))}return e}},function(t,e){function i(t){return new n("number"==typeof t?t:+new Date)}function n(t){this.seed=t}function r(t){return Math.sqrt(2*Math.PI/t)*Math.pow(1/Math.E*(t+1/(12*t-1/(10*t))),t)}function o(){var t=this.seed;return t=4294967295&(3042594569^(t=(t=4294967295&((t=(t=4294967295&(3345072700^(t=t+2127912214+(t<<12)&4294967295)^t>>>19))+374761393+(t<<5)&4294967295)+3550635116^t<<9))+4251993797+(t<<3)&4294967295)^t>>>16),this.seed=t,(268435455&t)/268435456}t.exports=i,t.exports.random=i,t.exports.randomIterator=function(t,e){var n=e||i();if("function"!=typeof n.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(e){var i,r,o;for(i=t.length-1;i>0;--i)r=n.next(i+1),o=t[r],t[r]=t[i],t[i]=o,e(o);t.length&&e(t[0])},shuffle:function(){var e,i,r;for(e=t.length-1;e>0;--e)i=n.next(e+1),r=t[i],t[i]=t[e],t[e]=r;return t}}},n.prototype.next=function(t){return Math.floor(this.nextDouble()*t)},n.prototype.nextDouble=o,n.prototype.uniform=o,n.prototype.gaussian=function(){var t,e,i;do{e=2*this.nextDouble()-1,i=2*this.nextDouble()-1,t=e*e+i*i}while(t>=1||0===t);return e*Math.sqrt(-2*Math.log(t)/t)},n.prototype.levy=function(){var t=Math.pow(r(2.5)*Math.sin(1.5*Math.PI/2)/(1.5*r(1.25)*Math.pow(2,.25)),1/1.5);return this.gaussian()*t/Math.pow(Math.abs(this.gaussian()),1/1.5)}},function(t,e,n){"use strict";n.r(e),n.d(e,"keywordFliter",(function(){return aC})),n.d(e,"event_setOption_function",(function(){return lC})),n.d(e,"lineColorChanger",(function(){return uC}));var r={};n.r(r),n.d(r,"extendShape",(function(){return Sl})),n.d(r,"extendPath",(function(){return kl})),n.d(r,"registerShape",(function(){return Tl})),n.d(r,"getShapeClass",(function(){return Dl})),n.d(r,"makePath",(function(){return Ml})),n.d(r,"makeImage",(function(){return Il})),n.d(r,"mergePath",(function(){return Pl})),n.d(r,"resizePath",(function(){return Ol})),n.d(r,"subPixelOptimizeLine",(function(){return Ll})),n.d(r,"subPixelOptimizeRect",(function(){return El})),n.d(r,"subPixelOptimize",(function(){return Nl})),n.d(r,"updateProps",(function(){return zl})),n.d(r,"initProps",(function(){return Bl})),n.d(r,"removeElement",(function(){return Hl})),n.d(r,"removeElementWithFadeOut",(function(){return Wl})),n.d(r,"isElementRemoved",(function(){return Vl})),n.d(r,"getTransform",(function(){return jl})),n.d(r,"applyTransform",(function(){return ql})),n.d(r,"transformDirection",(function(){return $l})),n.d(r,"groupTransition",(function(){return Ul})),n.d(r,"clipPointsByRect",(function(){return Gl})),n.d(r,"clipRectByRect",(function(){return Xl})),n.d(r,"createIcon",(function(){return Zl})),n.d(r,"linePolygonIntersect",(function(){return Kl})),n.d(r,"lineLineIntersect",(function(){return Ql})),n.d(r,"Group",(function(){return hn})),n.d(r,"Image",(function(){return ra})),n.d(r,"Text",(function(){return Sa})),n.d(r,"Circle",(function(){return ws})),n.d(r,"Ellipse",(function(){return ks})),n.d(r,"Sector",(function(){return Hs})),n.d(r,"Ring",(function(){return Vs})),n.d(r,"Polygon",(function(){return Us})),n.d(r,"Polyline",(function(){return Zs})),n.d(r,"Rect",(function(){return da})),n.d(r,"Line",(function(){return tl})),n.d(r,"BezierCurve",(function(){return ol})),n.d(r,"Arc",(function(){return ll})),n.d(r,"IncrementalDisplayable",(function(){return _l})),n.d(r,"CompoundPath",(function(){return ul})),n.d(r,"LinearGradient",(function(){return cl})),n.d(r,"RadialGradient",(function(){return dl})),n.d(r,"BoundingRect",(function(){return ui})),n.d(r,"OrientedBoundingRect",(function(){return vl})),n.d(r,"Point",(function(){return ti})),n.d(r,"Path",(function(){return Ko}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function a(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}Object.create;function s(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}Object.create;var l=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},u=new function(){this.browser=new l,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(u.wxa=!0,u.canvasSupported=!0,u.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(u.worker=!0,u.canvasSupported=!0):"undefined"==typeof navigator?(u.node=!0,u.canvasSupported=!0,u.svgSupported=!0):function(t,e){var i=e.browser,n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);n&&(i.firefox=!0,i.version=n[1]);r&&(i.ie=!0,i.version=r[1]);o&&(i.edge=!0,i.version=o[1],i.newEdge=+o[1].split(".")[0]>18);a&&(i.weChat=!0);e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,e.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11),e.domSupported="undefined"!=typeof document}(navigator.userAgent,u);var h=u,c={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},d={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},p=Object.prototype.toString,f=Array.prototype,g=f.forEach,m=f.filter,v=f.slice,y=f.map,_=function(){}.constructor,b=_?_.prototype:null,x={};var w=2311;function S(){return w++}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,t)}function k(t){if(null==t||"object"!=typeof t)return t;var e=t,i=p.call(t);if("[object Array]"===i){if(!ot(t)){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=k(t[n])}}else if(d[i]){if(!ot(t)){var o=t.constructor;if(o.from)e=o.from(t);else{e=new o(t.length);for(n=0,r=t.length;n<r;n++)e[n]=k(t[n])}}}else if(!c[i]&&!ot(t)&&!X(t))for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=k(t[a]));return e}function T(t,e,i){if(!Y(e)||!Y(t))return i?k(e):t;for(var n in e)if(e.hasOwnProperty(n)){var r=t[n],o=e[n];!Y(o)||!Y(r)||F(o)||F(r)||X(o)||X(r)||U(o)||U(r)||ot(o)||ot(r)?!i&&n in t||(t[n]=k(e[n])):T(r,o,i)}return t}function D(t,e){if(Object.assign)Object.assign(t,e);else for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function M(t,e,i){for(var n=z(e),r=0;r<n.length;r++){var o=n[r];(i?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var I=function(){return x.createCanvas()};function A(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function P(t,e,i){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r];"constructor"!==o&&(i?null!=e[o]:null==t[o])&&(t[o]=e[o])}else M(t,e,i)}function O(t){return!!t&&("string"!=typeof t&&"number"==typeof t.length)}function L(t,e,i){if(t&&e)if(t.forEach&&t.forEach===g)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function E(t,e,i){if(!t)return[];if(!e)return tt(t);if(t.map&&t.map===y)return t.map(e,i);for(var n=[],r=0,o=t.length;r<o;r++)n.push(e.call(i,t[r],r,t));return n}function N(t,e,i,n){if(t&&e){for(var r=0,o=t.length;r<o;r++)i=e.call(n,i,t[r],r,t);return i}}function R(t,e,i){if(!t)return[];if(!e)return tt(t);if(t.filter&&t.filter===m)return t.filter(e,i);for(var n=[],r=0,o=t.length;r<o;r++)e.call(i,t[r],r,t)&&n.push(t[r]);return n}function z(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}x.createCanvas=function(){return document.createElement("canvas")};var B=b&&W(b.bind)?b.call.bind(b.bind):function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return function(){return t.apply(e,i.concat(v.call(arguments)))}};function H(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return function(){return t.apply(this,e.concat(v.call(arguments)))}}function F(t){return Array.isArray?Array.isArray(t):"[object Array]"===p.call(t)}function W(t){return"function"==typeof t}function V(t){return"string"==typeof t}function j(t){return"[object String]"===p.call(t)}function q(t){return"number"==typeof t}function Y(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function U(t){return!!c[p.call(t)]}function G(t){return!!d[p.call(t)]}function X(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function Z(t){return t!=t}function K(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,n=t.length;i<n;i++)if(null!=t[i])return t[i]}function Q(t,e){return null!=t?t:e}function J(t,e,i){return null!=t?t:null!=e?e:i}function tt(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return v.apply(t,e)}function et(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function it(t,e){if(!t)throw new Error(e)}function nt(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function rt(t){t.__ec_primitive__=!0}function ot(t){return t.__ec_primitive__}var at=function(){function t(e){this.data={};var i=F(e);this.data={};var n=this;function r(t,e){i?n.set(t,e):n.set(e,t)}e instanceof t?e.each(r):e&&L(e,r)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var i in this.data)this.data.hasOwnProperty(i)&&t.call(e,this.data[i],i)},t.prototype.keys=function(){return z(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();function st(t){return new at(t)}function lt(t,e){var i;if(Object.create)i=Object.create(t);else{var n=function(){};n.prototype=t,i=new n}return e&&D(i,e),i}function ut(t,e){return t.hasOwnProperty(e)}function ht(){}function ct(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function dt(t,e){return t[0]=e[0],t[1]=e[1],t}function pt(t){return[t[0],t[1]]}function ft(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function gt(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function mt(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function vt(t){return Math.sqrt(yt(t))}function yt(t){return t[0]*t[0]+t[1]*t[1]}function _t(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function bt(t,e){var i=vt(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function xt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var wt=xt;var St=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};function Ct(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}function kt(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}function Tt(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function Dt(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}var Mt=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},It=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Mt(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,r=i-this._x,o=n-this._y;this._x=i,this._y=n,e.drift(r,o,t),this.handler.dispatchToElement(new Mt(e,t),"drag",t.event);var a=this.handler.findHover(i,n,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new Mt(s,t),"dragleave",t.event),a&&a!==s&&this.handler.dispatchToElement(new Mt(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Mt(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Mt(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),At=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,i,n){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"==typeof e&&(n=i,i=e,e=null),!i||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),r[t]||(r[t]=[]);for(var a=0;a<r[t].length;a++)if(r[t][a].h===i)return this;var s={h:i,query:e,ctx:n||this,callAtLast:i.zrEventfulCallAtLast},l=r[t].length-1,u=r[t][l];return u&&u.callAtLast?r[t].splice(l,0,s):r[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],r=0,o=i[t].length;r<o;r++)i[t][r].h!==e&&n.push(i[t][r]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},t.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var n=this._$handlers[t],r=this._$eventProcessor;if(n)for(var o=e.length,a=n.length,s=0;s<a;s++){var l=n[s];if(!r||!r.filter||null==l.query||r.filter(t,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e)}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){if(!this._$handlers)return this;var e=this._$handlers[t],i=this._$eventProcessor;if(e)for(var n=arguments,r=n.length,o=n[r-1],a=e.length,s=0;s<a;s++){var l=e[s];if(!i||!i.filter||null==l.query||i.filter(t,l.query))switch(r){case 0:l.h.call(o);break;case 1:l.h.call(o,n[0]);break;case 2:l.h.call(o,n[0],n[1]);break;default:l.h.apply(o,n.slice(1,r-1))}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t}(),Pt=Math.log(2);function Ot(t,e,i,n,r,o){var a=n+"-"+r,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var l=Math.round(Math.log((1<<s)-1&~r)/Pt);return t[i][l]}for(var u=n|1<<i,h=i+1;n&1<<h;)h++;for(var c=0,d=0,p=0;d<s;d++){var f=1<<d;f&r||(c+=(p%2?-1:1)*t[i][d]*Ot(t,e-1,h,u,r|f,o),p++)}return o[a]=c,c}function Lt(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},r=Ot(i,8,0,0,0,n);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*Ot(i,7,0===a?1:0,1<<a,1<<s,n)/r*e[a];return function(t,e,i){var n=e*o[6]+i*o[7]+1;t[0]=(e*o[0]+i*o[1]+o[2])/n,t[1]=(e*o[3]+i*o[4]+o[5])/n}}}var Et=[];function Nt(t,e,i,n,r){if(e.getBoundingClientRect&&h.domSupported&&!Rt(e)){var o=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),a=function(t,e,i){for(var n=i?"invTrans":"trans",r=e[n],o=e.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var h=t[u].getBoundingClientRect(),c=2*u,d=h.left,p=h.top;a.push(d,p),l=l&&o&&d===o[c]&&p===o[c+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&r?r:(e.srcCoords=a,e[n]=i?Lt(s,a):Lt(a,s))}(function(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var n=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,l=o%2,u=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",r[u]+":0",n[1-l]+":auto",r[1-u]+":auto",""].join("!important;"),t.appendChild(a),i.push(a)}return i}(e,o),o,r);if(a)return a(t,i,n),!0}return!1}function Rt(t){return"CANVAS"===t.nodeName.toUpperCase()}var zt="undefined"!=typeof window&&!!window.addEventListener,Bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ht=[];function Ft(t,e,i,n){return i=i||{},n||!h.canvasSupported?Wt(t,e,i):h.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):Wt(t,e,i),i}function Wt(t,e,i){if(h.domSupported&&t.getBoundingClientRect){var n=e.clientX,r=e.clientY;if(Rt(t)){var o=t.getBoundingClientRect();return i.zrX=n-o.left,void(i.zrY=r-o.top)}if(Nt(Ht,t,n,r))return i.zrX=Ht[0],void(i.zrY=Ht[1])}i.zrX=i.zrY=0}function Vt(t){return t||window.event}function jt(t,e,i){if(null!=(e=Vt(e)).zrX)return e;var n=e.type;if(n&&n.indexOf("touch")>=0){var r="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];r&&Ft(t,r,e,i)}else{Ft(t,e,e,i);var o=function(t){var e=t.wheelDelta;if(e)return e;var i=t.deltaX,n=t.deltaY;if(null==i||null==n)return e;return 3*(0!==n?Math.abs(n):Math.abs(i))*(n>0?-1:n<0?1:i>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return null==e.which&&void 0!==a&&Bt.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function qt(t,e,i,n){zt?t.addEventListener(e,i,n):t.attachEvent("on"+e,i)}var $t=zt?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function Yt(t){return 2===t.which||3===t.which}var Ut=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,i){var n=t.touches;if(n){for(var r={points:[],touches:[],target:e,event:t},o=0,a=n.length;o<a;o++){var s=n[o],l=Ft(i,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},t.prototype._recognize=function(t){for(var e in Xt)if(Xt.hasOwnProperty(e)){var i=Xt[e](this._track,t);if(i)return i}},t}();function Gt(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}var Xt={pinch:function(t,e){var i=t.length;if(i){var n,r=(t[i-1]||{}).points,o=(t[i-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=Gt(r)/Gt(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((n=r)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}};function Zt(){$t(this.event)}var Kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return a(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(At),Qt=function(t,e){this.x=t,this.y=e},Jt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],te=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o._hovered=new Qt(0,0),o.storage=e,o.painter=i,o.painterRoot=r,n=n||new Kt,o.proxy=null,o.setHandlerProxy(n),o._draggingMgr=new It(o),o}return a(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(L(Jt,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,i=t.zrY,n=ie(this,e,i),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=n?new Qt(e,i):this.findHover(e,i),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Qt(0,0)},e.prototype.dispatch=function(t,e){var i=this[t];i&&i.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var r="on"+e,o=function(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:Zt}}(e,t,i);n&&(n[r]&&(o.cancelBubble=!!n[r].call(n,o)),n.trigger(e,o),n=n.__hostTarget?n.__hostTarget:n.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,i){for(var n=this.storage.getDisplayList(),r=new Qt(t,e),o=n.length-1;o>=0;o--){var a=void 0;if(n[o]!==i&&!n[o].ignore&&(a=ee(n[o],t,e))&&(!r.topTarget&&(r.topTarget=n[o]),"silent"!==a)){r.target=n[o];break}}return r},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new Ut);var i=this._gestureMgr;"start"===e&&i.clear();var n=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),n){var r=n.type;t.gestureEvent=r;var o=new Qt;o.target=n.target,this.dispatchToElement(o,r,n.event)}},e}(At);function ee(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n=t,r=void 0,o=!1;n;){if(n.ignoreClip&&(o=!0),!o){var a=n.getClipPath();if(a&&!a.contain(e,i))return!1;n.silent&&(r=!0)}var s=n.__hostTarget;n=s||n.parent}return!r||"silent"}return!1}function ie(t,e,i){var n=t.painter;return e<0||e>n.getWidth()||i<0||i>n.getHeight()}L(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){te.prototype[t]=function(e){var i,n,r=e.zrX,o=e.zrY,a=ie(this,r,o);if("mouseup"===t&&a||(n=(i=this.findHover(r,o)).target),"mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||wt(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}));var ne=te;function re(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function oe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ae(t,e,i){var n=e[0]*i[0]+e[2]*i[1],r=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],a=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function se(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function le(t,e,i){var n=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],u=Math.sin(i),h=Math.cos(i);return t[0]=n*h+a*u,t[1]=-n*u+a*h,t[2]=r*h+s*u,t[3]=-r*u+h*s,t[4]=h*o+u*l,t[5]=h*l-u*o,t}function ue(t,e){var i=e[0],n=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=i*a-o*n;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-a*r)*l,t[5]=(o*r-i*s)*l,t):null}var he=re;function ce(t){return t>5e-5||t<-5e-5}var de=[],pe=[],fe=[1,0,0,1,0,0],ge=Math.abs,me=function(){function t(){}var e;return t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return ce(this.rotation)||ce(this.x)||ce(this.y)||ce(this.scaleX-1)||ce(this.scaleY-1)},t.prototype.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;i||e?(n=n||[1,0,0,1,0,0],i?this.getLocalTransform(n):he(n),e&&(i?ae(n,t.transform,n):oe(n,t.transform)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&he(n)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(de);var i=de[0]<0?-1:1,n=de[1]<0?-1:1,r=((de[0]-i)*e+i)/de[0]||0,o=((de[1]-n)*e+n)/de[1]||0;t[0]*=r,t[1]*=r,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],ue(this.invTransform,t)},t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3];ce(e-1)&&(e=Math.sqrt(e)),ce(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),this.rotation=Math.atan2(-t[1]/i,t[0]/e),e<0&&i<0&&(this.rotation+=Math.PI,e=-e,i=-i),this.x=t[4],this.y=t[5],this.scaleX=e,this.scaleY=i}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(ae(pe,t.invTransform,e),e=pe);var i=this.originX,n=this.originY;(i||n)&&(fe[4]=i,fe[5]=n,ae(pe,e,fe),pe[4]-=i,pe[5]-=n,e=pe),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&kt(i,i,n),i},t.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&kt(i,i,n),i},t.prototype.getLineScale=function(){var t=this.transform;return t&&ge(t[0]-1)>1e-10&&ge(t[3]-1)>1e-10?Math.sqrt(ge(t[0]*t[3]-t[2]*t[1])):1},t.getLocalTransform=function(t,e){he(e=e||[]);var i=t.originX||0,n=t.originY||0,r=t.scaleX,o=t.scaleY,a=t.rotation||0,s=t.x,l=t.y;return e[4]-=i,e[5]-=n,e[0]*=r,e[1]*=o,e[2]*=r,e[3]*=o,e[4]*=r,e[5]*=o,a&&le(e,e,a),e[4]+=i,e[5]+=n,e[4]+=s,e[5]+=l,e},t.initDefaultProps=((e=t.prototype).x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.rotation=0,void(e.globalScaleRatio=1)),t}(),ve={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-ve.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*ve.bounceIn(2*t):.5*ve.bounceOut(2*t-1)+.5}},ye=ve,_e=function(){function t(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return t.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var i=(t-this._startTime-this._pausedTime)/this._life;i<0&&(i=0),i=Math.min(i,1);var n=this.easing,r="string"==typeof n?ye[n]:n,o="function"==typeof r?r(i):i;if(this.onframe&&this.onframe(o),1===i){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},t.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t}(),be=function(t){this.value=t},xe=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new be(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),we=function(){function t(t){this._list=new xe,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var i=this._list,n=this._map,r=null;if(null==n[t]){var o=i.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=i.head;i.remove(s),delete n[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new be(e),a.key=t,i.insertEntry(a),n[t]=a}return r},t.prototype.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),Se={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ce(t){return(t=Math.round(t))<0?0:t>255?255:t}function ke(t){return t<0?0:t>1?1:t}function Te(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?Ce(parseFloat(e)/100*255):Ce(parseInt(e,10))}function De(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?ke(parseFloat(e)/100):ke(parseFloat(e))}function Me(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function Ie(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}function Ae(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Pe=new we(20),Oe=null;function Le(t,e){Oe&&Ae(Oe,e),Oe=Pe.put(t,Oe||e.slice())}function Ee(t,e){if(t){e=e||[];var i=Pe.get(t);if(i)return Ae(e,i);var n=(t+="").replace(/ /g,"").toLowerCase();if(n in Se)return Ae(e,Se[n]),Le(t,e),e;var r,o=n.length;if("#"===n.charAt(0))return 4===o||5===o?(r=parseInt(n.slice(1,4),16))>=0&&r<=4095?(Ie(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(n.slice(4),16)/15:1),Le(t,e),e):void Ie(e,0,0,0,1):7===o||9===o?(r=parseInt(n.slice(1,7),16))>=0&&r<=16777215?(Ie(e,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(n.slice(7),16)/255:1),Le(t,e),e):void Ie(e,0,0,0,1):void 0;var a=n.indexOf("("),s=n.indexOf(")");if(-1!==a&&s+1===o){var l=n.substr(0,a),u=n.substr(a+1,s-(a+1)).split(","),h=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?Ie(e,+u[0],+u[1],+u[2],1):Ie(e,0,0,0,1);h=De(u.pop());case"rgb":return 3!==u.length?void Ie(e,0,0,0,1):(Ie(e,Te(u[0]),Te(u[1]),Te(u[2]),h),Le(t,e),e);case"hsla":return 4!==u.length?void Ie(e,0,0,0,1):(u[3]=De(u[3]),Ne(u,e),Le(t,e),e);case"hsl":return 3!==u.length?void Ie(e,0,0,0,1):(Ne(u,e),Le(t,e),e);default:return}}Ie(e,0,0,0,1)}}function Ne(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=De(t[1]),r=De(t[2]),o=r<=.5?r*(n+1):r+n-r*n,a=2*r-o;return Ie(e=e||[],Ce(255*Me(a,o,i+1/3)),Ce(255*Me(a,o,i)),Ce(255*Me(a,o,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Re(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}function ze(t,e){var i=Ee(t);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*e:0}var Be=Array.prototype.slice;function He(t,e,i){return(e-t)*i+t}function Fe(t,e,i,n){for(var r=e.length,o=0;o<r;o++)t[o]=He(e[o],i[o],n)}function We(t,e,i,n){for(var r=e.length,o=0;o<r;o++)t[o]=e[o]+i[o]*n;return t}function Ve(t,e,i,n){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+i[a][s]*n}return t}function je(t,e,i){var n=t,r=e;if(n.push&&r.push){var o=n.length,a=r.length;if(o!==a)if(o>a)n.length=a;else for(var s=o;s<a;s++)n.push(1===i?r[s]:Be.call(r[s]));var l=n[0]&&n[0].length;for(s=0;s<n.length;s++)if(1===i)isNaN(n[s])&&(n[s]=r[s]);else for(var u=0;u<l;u++)isNaN(n[s][u])&&(n[s][u]=r[s][u])}}function qe(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function $e(t,e,i,n,r,o,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*r+e}function Ye(t,e,i,n,r,o,a,s){for(var l=e.length,u=0;u<l;u++)t[u]=$e(e[u],i[u],n[u],r[u],o,a,s)}function Ue(t){if(O(t)){var e=t.length;if(O(t[0])){for(var i=[],n=0;n<e;n++)i.push(Be.call(t[n]));return i}return Be.call(t)}return t}function Ge(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var Xe,Ze,Ke=[0,0,0,0],Qe=function(){function t(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var i=this.keyframes,n=i.length;if(this.interpolable)if(O(e)){var r=function(t){return O(t&&t[0])?2:1}(e);if(n>0&&this.arrDim!==r)return void(this.interpolable=!1);if(1===r&&"number"!=typeof e[0]||2===r&&"number"!=typeof e[0][0])return void(this.interpolable=!1);if(n>0){var o=i[n-1];this._isAllValueEqual&&(1===r&&qe(e,o.value)||(this._isAllValueEqual=!1))}this.arrDim=r}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof e){var a=Ee(e);a?(e=a,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof e)return void(this.interpolable=!1);if(this._isAllValueEqual&&n>0){o=i[n-1];(this.isValueColor&&!qe(o.value,e)||o.value!==e)&&(this._isAllValueEqual=!1)}}var s={time:t,value:e,percent:0};return this.keyframes.push(s),s},t.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort((function(t,e){return t.time-e.time}));for(var i=this.arrDim,n=e.length,r=e[n-1],o=0;o<n;o++)e[o].percent=e[o].time/this.maxTime,i>0&&o!==n-1&&je(e[o].value,r.value,i);if(t&&this.needsAnimate()&&t.needsAnimate()&&i===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var a=e[0].value;for(o=0;o<n;o++)0===i?this.isValueColor?e[o].additiveValue=We([],e[o].value,a,-1):e[o].additiveValue=e[o].value-a:1===i?e[o].additiveValue=We([],e[o].value,a,-1):2===i&&(e[o].additiveValue=Ve([],e[o].value,a,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,n=null!=this._additiveTrack,r=n?"additiveValue":"value",o=this.keyframes,a=this.keyframes.length,s=this.propName,l=this.arrDim,u=this.isValueColor;if(e<0)i=0;else if(e<this._lastFramePercent){for(i=Math.min(this._lastFrame+1,a-1);i>=0&&!(o[i].percent<=e);i--);i=Math.min(i,a-2)}else{for(i=this._lastFrame;i<a&&!(o[i].percent>e);i++);i=Math.min(i-1,a-2)}var h=o[i+1],c=o[i];if(c&&h){this._lastFrame=i,this._lastFramePercent=e;var d=h.percent-c.percent;if(0!==d){var p=(e-c.percent)/d,f=n?this._additiveValue:u?Ke:t[s];if((l>0||u)&&!f&&(f=this._additiveValue=[]),this.useSpline){var g=o[i][r],m=o[0===i?i:i-1][r],v=o[i>a-2?a-1:i+1][r],y=o[i>a-3?a-1:i+2][r];if(l>0)1===l?Ye(f,m,g,v,y,p,p*p,p*p*p):function(t,e,i,n,r,o,a,s){for(var l=e.length,u=e[0].length,h=0;h<l;h++){t[h]||(t[1]=[]);for(var c=0;c<u;c++)t[h][c]=$e(e[h][c],i[h][c],n[h][c],r[h][c],o,a,s)}}(f,m,g,v,y,p,p*p,p*p*p);else if(u)Ye(f,m,g,v,y,p,p*p,p*p*p),n||(t[s]=Ge(f));else{var _=void 0;_=this.interpolable?$e(m,g,v,y,p,p*p,p*p*p):v,n?this._additiveValue=_:t[s]=_}}else if(l>0)1===l?Fe(f,c[r],h[r],p):function(t,e,i,n){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=He(e[a][s],i[a][s],n)}}(f,c[r],h[r],p);else if(u)Fe(f,c[r],h[r],p),n||(t[s]=Ge(f));else{_=void 0;_=this.interpolable?He(c[r],h[r],p):function(t,e,i){return i>.5?e:t}(c[r],h[r],p),n?this._additiveValue=_:t[s]=_}n&&this._addToTarget(t)}}}},t.prototype._addToTarget=function(t){var e=this.arrDim,i=this.propName,n=this._additiveValue;0===e?this.isValueColor?(Ee(t[i],Ke),We(Ke,Ke,n,1),t[i]=Ge(Ke)):t[i]=t[i]+n:1===e?We(t[i],t[i],n,1):2===e&&Ve(t[i],t[i],n,1)},t}(),Je=function(){function t(t,e,i){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?C("Can' use additive animation on looped animation."):this._additiveAnimators=i}return t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e){return this.whenWithKeys(t,e,z(e))},t.prototype.whenWithKeys=function(t,e,i){for(var n=this._tracks,r=0;r<i.length;r++){var o=i[r],a=n[o];if(!a){a=n[o]=new Qe(o);var s=void 0,l=this._getAdditiveTrack(o);if(l){var u=l.keyframes[l.keyframes.length-1];s=u&&u.value,l.isValueColor&&s&&(s=Ge(s))}else s=this._target[o];if(null==s)continue;0!==t&&a.addKeyframe(0,Ue(s)),this._trackKeys.push(o)}a.addKeyframe(t,Ue(e[o]))}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneList;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedList;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var n=0;n<i.length;n++){var r=i[n].getTrack(t);r&&(e=r)}return e},t.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var i=this,n=[],r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],a=this._tracks[o],s=this._getAdditiveTrack(o),l=a.keyframes;if(a.prepare(s),a.needsAnimate())n.push(a);else if(!a.interpolable){var u=l[l.length-1];u&&(i._target[a.propName]=u.value)}}if(n.length||e){var h=new _e({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){i._started=2;var e=i._additiveAnimators;if(e){for(var r=!1,o=0;o<e.length;o++)if(e[o]._clip){r=!0;break}r||(i._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(i._target,t);var a=i._onframeList;if(a)for(o=0;o<a.length;o++)a[o](i._target,t)},ondestroy:function(){i._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),t&&"spline"!==t&&(h.easing=t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeList||(this._onframeList=[]),this._onframeList.push(t)),this},t.prototype.done=function(t){return t&&(this._doneList||(this._doneList=[]),this._doneList.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedList||(this._abortedList=[]),this._abortedList.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,n=this._trackKeys,r=0;r<t.length;r++){var o=i[t[r]];o&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(r=0;r<n.length;r++)if(!i[n[r]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var n=e[i],r=this._tracks[n];if(r&&!r.isFinished()){var o=r.keyframes,a=o[o.length-1];if(a){var s=Ue(a.value);r.isValueColor&&(s=Ge(s)),t[n]=s}}}}},t.prototype.__changeFinalValue=function(t,e){e=e||z(t);for(var i=0;i<e.length;i++){var n=e[i],r=this._tracks[n];if(r){var o=r.keyframes;if(o.length>1){var a=o.pop();r.addKeyframe(a.time,t[n]),r.prepare(r.getAdditiveTrack())}}}},t}(),ti=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,i){t.x=e,t.y=i},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},t.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},t.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},t.scaleAndAdd=function(t,e,i,n){t.x=e.x+i.x*n,t.y=e.y+i.y*n},t.lerp=function(t,e,i,n){var r=1-n;t.x=r*e.x+n*i.x,t.y=r*e.y+n*i.y},t}(),ei=Math.min,ii=Math.max,ni=new ti,ri=new ti,oi=new ti,ai=new ti,si=new ti,li=new ti,ui=function(){function t(t,e,i,n){i<0&&isFinite(i)&&(t+=i,i=-i),n<0&&isFinite(n)&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}return t.prototype.union=function(t){var e=ei(t.x,this.x),i=ei(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=ii(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=ii(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=e,this.y=i},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,n=t.height/e.height,r=[1,0,0,1,0,0];return se(r,r,[-e.x,-e.y]),function(t,e,i){var n=i[0],r=i[1];t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r}(r,r,[i,n]),se(r,r,[t.x,t.y]),r},t.prototype.intersect=function(e,i){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,r=n.x,o=n.x+n.width,a=n.y,s=n.y+n.height,l=e.x,u=e.x+e.width,h=e.y,c=e.y+e.height,d=!(o<l||u<r||s<h||c<a);if(i){var p=1/0,f=0,g=Math.abs(o-l),m=Math.abs(u-r),v=Math.abs(s-h),y=Math.abs(c-a),_=Math.min(g,m),b=Math.min(v,y);o<l||u<r?_>f&&(f=_,g<m?ti.set(li,-g,0):ti.set(li,m,0)):_<p&&(p=_,g<m?ti.set(si,g,0):ti.set(si,-m,0)),s<h||c<a?b>f&&(f=b,v<y?ti.set(li,0,-v):ti.set(li,0,y)):_<p&&(p=_,v<y?ti.set(si,0,v):ti.set(si,0,-y))}return i&&ti.copy(i,d?si:li),d},t.prototype.contain=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,i,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],o=n[3],a=n[4],s=n[5];return e.x=i.x*r+a,e.y=i.y*o+s,e.width=i.width*r,e.height=i.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}ni.x=oi.x=i.x,ni.y=ai.y=i.y,ri.x=ai.x=i.x+i.width,ri.y=oi.y=i.y+i.height,ni.transform(n),ai.transform(n),ri.transform(n),oi.transform(n),e.x=ei(ni.x,ri.x,oi.x,ai.x),e.y=ei(ni.y,ri.y,oi.y,ai.y);var l=ii(ni.x,ri.x,oi.x,ai.x),u=ii(ni.y,ri.y,oi.y,ai.y);e.width=l-e.x,e.height=u-e.y}else e!==i&&t.copy(e,i)},t}(),hi={};var ci={measureText:function(t,e){return Xe||(Xe=I().getContext("2d")),Ze!==e&&(Ze=Xe.font=e||"12px sans-serif"),Xe.measureText(t)}};function di(t,e){var i=hi[e=e||"12px sans-serif"];i||(i=hi[e]=new we(500));var n=i.get(t);return null==n&&(n=ci.measureText(t,e).width,i.put(t,n)),n}function pi(t,e,i,n){var r=di(t,e),o=vi(e),a=gi(0,r,i),s=mi(0,o,n);return new ui(a,s,r,o)}function fi(t,e,i,n){var r=((t||"")+"").split("\n");if(1===r.length)return pi(r[0],e,i,n);for(var o=new ui(0,0,0,0),a=0;a<r.length;a++){var s=pi(r[a],e,i,n);0===a?o.copy(s):o.union(s)}return o}function gi(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function mi(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function vi(t){return di("å½",t)}function yi(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function _i(t,e,i){var n=e.position||"inside",r=null!=e.distance?e.distance:5,o=i.height,a=i.width,s=o/2,l=i.x,u=i.y,h="left",c="top";if(n instanceof Array)l+=yi(n[0],i.width),u+=yi(n[1],i.height),h=null,c=null;else switch(n){case"left":l-=r,u+=s,h="right",c="middle";break;case"right":l+=r+a,u+=s,c="middle";break;case"top":l+=a/2,u-=r,h="center",c="bottom";break;case"bottom":l+=a/2,u+=o+r,h="center";break;case"inside":l+=a/2,u+=s,h="center",c="middle";break;case"insideLeft":l+=r,u+=s,c="middle";break;case"insideRight":l+=a-r,u+=s,h="right",c="middle";break;case"insideTop":l+=a/2,u+=r,h="center";break;case"insideBottom":l+=a/2,u+=o-r,h="center",c="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,h="right";break;case"insideBottomLeft":l+=r,u+=o-r,c="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,h="right",c="bottom"}return(t=t||{}).x=l,t.y=u,t.align=h,t.verticalAlign=c,t}var bi=1;"undefined"!=typeof window&&(bi=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var xi=bi,wi=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],Si={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Ci={},ki=new ui(0,0,0,0),Ti=function(){function t(t){this.id=S(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,n=i.local,r=e.attachedTransform,o=void 0,a=void 0,s=!1;r.parent=n?this:null;var l=!1;if(r.x=e.x,r.y=e.y,r.originX=e.originX,r.originY=e.originY,r.rotation=e.rotation,r.scaleX=e.scaleX,r.scaleY=e.scaleY,null!=i.position){var u=ki;i.layoutRect?u.copy(i.layoutRect):u.copy(this.getBoundingRect()),n||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Ci,i,u):_i(Ci,i,u),r.x=Ci.x,r.y=Ci.y,o=Ci.align,a=Ci.verticalAlign;var h=i.origin;if(h&&null!=i.rotation){var c=void 0,d=void 0;"center"===h?(c=.5*u.width,d=.5*u.height):(c=yi(h[0],u.width),d=yi(h[1],u.height)),l=!0,r.originX=-r.x+c+(n?0:u.x),r.originY=-r.y+d+(n?0:u.y)}}null!=i.rotation&&(r.rotation=i.rotation);var p=i.offset;p&&(r.x+=p[0],r.y+=p[1],l||(r.originX=-p[0],r.originY=-p[1]));var f=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,v=void 0,y=void 0;f&&this.canBeInsideText()?(m=i.insideFill,v=i.insideStroke,null!=m&&"auto"!==m||(m=this.getInsideTextFill()),null!=v&&"auto"!==v||(v=this.getInsideTextStroke(m),y=!0)):(m=i.outsideFill,v=i.outsideStroke,null!=m&&"auto"!==m||(m=this.getOutsideFill()),null!=v&&"auto"!==v||(v=this.getOutsideStroke(m),y=!0)),(m=m||"#000")===g.fill&&v===g.stroke&&y===g.autoStroke&&o===g.align&&a===g.verticalAlign||(s=!0,g.fill=m,g.stroke=v,g.autoStroke=y,g.align=o,g.verticalAlign=a,e.setDefaultTextStyle(g)),s&&e.dirtyStyle(),e.markRedraw()}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?"#ccc":"#333"},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof e&&Ee(e);i||(i=[255,255,255,1]);for(var n=i[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)i[o]=i[o]*n+(r?0:255)*(1-n);return i[3]=1,Re(i,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},D(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(Y(t))for(var i=z(t),n=0;n<i.length;n++){var r=i[n];this.attrKV(r,t[r])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var n=this.animators[i],r=n.__fromStateTransition;if(!r||"__zr_normal__"===r){var o=n.targetName,a=o?e[o]:e;n.saveFinalToTarget(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,wi)},t.prototype._savePrimaryToNormal=function(t,e,i){for(var n=0;n<i.length;n++){var r=i[n];null==t[r]||r in e||(e[r]=this[r])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState("__zr_normal__",!1,t)},t.prototype.useState=function(e,i,n){var r="__zr_normal__"===e;if(this.hasState()||!r){var o=this.currentStates,a=this.stateTransition;if(!(A(o,e)>=0)||!i&&1!==o.length){var s;if(this.stateProxy&&!r&&(s=this.stateProxy(e)),s||(s=this.states&&this.states[e]),s||r){r||this.saveCurrentToNormalState(s);var l=!(!s||!s.hoverLayer);return l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,s,this._normalState,i,!n&&!this.__inHover&&a&&a.duration>0,a),this._textContent&&this._textContent.useState(e,i),this._textGuide&&this._textGuide.useState(e,i),r?(this.currentStates=[],this._normalState={}):i?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT),s}C("State "+e+" not exists.")}}},t.prototype.useStates=function(e,i){if(e.length){var n=[],r=this.currentStates,o=e.length,a=o===r.length;if(a)for(var s=0;s<o;s++)if(e[s]!==r[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var l=e[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,e)),u||(u=this.states[l]),u&&n.push(u)}var h=!(!n[o-1]||!n[o-1].hoverLayer);h&&this._toggleHoverLayerFlag(!0);var c=this._mergeStates(n),d=this.stateTransition;this.saveCurrentToNormalState(c),this._applyStateObj(e.join(","),c,this._normalState,!1,!i&&!this.__inHover&&d&&d.duration>0,d),this._textContent&&this._textContent.useStates(e),this._textGuide&&this._textGuide.useStates(e),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=A(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},t.prototype.replaceState=function(t,e,i){var n=this.currentStates.slice(),r=A(n,t),o=A(n,e)>=0;r>=0?o?n.splice(r,1):n[r]=e:i&&!o&&n.push(e),this.useStates(n)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,i={},n=0;n<t.length;n++){var r=t[n];D(i,r),r.textConfig&&D(e=e||{},r.textConfig)}return e&&(i.textConfig=e),i},t.prototype._applyStateObj=function(t,e,i,n,r,o){var a=!(e&&n);e&&e.textConfig?(this.textConfig=D({},n?this.textConfig:i.textConfig),D(this.textConfig,e.textConfig)):a&&i.textConfig&&(this.textConfig=i.textConfig);for(var s={},l=!1,u=0;u<wi.length;u++){var h=wi[u],c=r&&Si[h];e&&null!=e[h]?c?(l=!0,s[h]=e[h]):this[h]=e[h]:a&&null!=i[h]&&(c?(l=!0,s[h]=i[h]):this[h]=i[h])}if(!r)for(u=0;u<this.animators.length;u++){var d=this.animators[u],p=d.targetName;d.__changeFinalValue(p?(e||i)[p]:e||i)}l&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.attachedTransform=new me,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),D(this.textConfig,t),this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.attachedTransform=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=t.REDARAW_BIT;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},t.prototype.addSelfToZr=function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)},t.prototype.removeSelfFromZr=function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)},t.prototype.animate=function(t,e){var i=t?this[t]:this;if(i){var n=new Je(i,e);return this.addAnimator(n,t),n}C('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var i=this.__zr,n=this;t.during((function(){n.updateDuringAnimation(e)})).done((function(){var e=n.animators,i=A(e,t);i>=0&&e.splice(i,1)})),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var i=this.animators,n=i.length,r=[],o=0;o<n;o++){var a=i[o];t&&t!==a.scope?r.push(a):a.stop(e)}return this.animators=r,this},t.prototype.animateTo=function(t,e,i){Di(this,t,e,i)},t.prototype.animateFrom=function(t,e,i){Di(this,t,e,i,!0)},t.prototype._transitionState=function(t,e,i,n){for(var r=Di(this,e,i,n),o=0;o<r.length;o++)r[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.REDARAW_BIT=1,t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=t.REDARAW_BIT;var i={};function n(t,e,n){i[t+e+n]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+n+"' instead"),i[t+e+n]=!0)}function r(t,i,r,o){function a(t,e){Object.defineProperty(e,0,{get:function(){return t[r]},set:function(e){t[r]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){(n(t,r,o),this[i])||a(this,this[i]=[]);return this[i]},set:function(e){n(t,r,o),this[r]=e[0],this[o]=e[1],this[i]=e,a(this,e)}})}Object.defineProperty&&(!h.browser.ie||h.browser.version>8)&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();function Di(t,e,i,n,r){var o=[];!function t(e,i,n,r,o,a,s,l){for(var u=[],h=[],c=z(r),d=o.duration,p=o.delay,f=o.additive,g=o.setToFinal,m=!Y(a),v=0;v<c.length;v++){var y=c[v];if(null!=n[y]&&null!=r[y]&&(m||a[y]))if(Y(r[y])&&!O(r[y])){if(i){l||(n[y]=r[y],e.updateDuringAnimation(i));continue}t(e,y,n[y],r[y],o,a&&a[y],s,l)}else u.push(y),h.push(y);else l||(n[y]=r[y],e.updateDuringAnimation(i),h.push(y))}var _=u.length;if(_>0||o.force&&!s.length){for(var b=e.animators,x=[],w=0;w<b.length;w++)b[w].targetName===i&&x.push(b[w]);if(!f&&x.length)for(w=0;w<x.length;w++){if(x[w].stopTracks(h)){var S=A(b,x[w]);b.splice(S,1)}}var C=void 0,k=void 0,T=void 0;if(l){k={},g&&(C={});for(w=0;w<_;w++){y=u[w];k[y]=n[y],g?C[y]=r[y]:n[y]=r[y]}}else if(g){T={};for(w=0;w<_;w++){y=u[w];T[y]=Ue(n[y]),Ii(n,r,y)}}var D=new Je(n,!1,f?x:null);D.targetName=i,o.scope&&(D.scope=o.scope),g&&C&&D.whenWithKeys(0,C,u),T&&D.whenWithKeys(0,T,u),D.whenWithKeys(null==d?500:d,l?k:r,u).delay(p||0),e.addAnimator(D,i),s.push(D)}}(t,"",t,e,i=i||{},n,o,r);var a=o.length,s=!1,l=i.done,u=i.aborted,h=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},c=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&i.during&&o[0].during((function(t,e){i.during(e)}));for(var d=0;d<o.length;d++){var p=o[d];h&&p.done(h),c&&p.aborted(c),p.start(i.easing,i.force)}return o}function Mi(t,e,i){for(var n=0;n<i;n++)t[n]=e[n]}function Ii(t,e,i){if(O(e[i]))if(O(t[i])||(t[i]=[]),G(e[i])){var n=e[i].length;t[i].length!==n&&(t[i]=new e[i].constructor(n),Mi(t[i],e[i],n))}else{var r=e[i],o=t[i],a=r.length;if(O(r[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?Mi(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else Mi(o,r,a);o.length=r.length}else t[i]=e[i]}P(Ti,At),P(Ti,me);var Ai=Ti;function Pi(t,e,i,n){var r=e+1;if(r===i)return 1;if(n(t[r++],t[e])<0){for(;r<i&&n(t[r],t[r-1])<0;)r++;!function(t,e,i){i--;for(;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,r)}else for(;r<i&&n(t[r],t[r-1])>=0;)r++;return r-e}function Oi(t,e,i,n,r){for(n===e&&n++;n<i;n++){for(var o,a=t[n],s=e,l=n;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=o+1;var u=n-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function Li(t,e,i,n,r,o){var a=0,s=0,l=1;if(o(t,e[i+r])>0){for(s=n-r;l<s&&o(t,e[i+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[i+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[i+h])>0?a=h+1:l=h}return l}function Ei(t,e,i,n,r,o){var a=0,s=0,l=1;if(o(t,e[i+r])<0){for(s=r+1;l<s&&o(t,e[i+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=n-r;l<s&&o(t,e[i+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[i+h])<0?l=h:a=h+1}return l}function Ni(t,e){var i,n,r,o=7,a=0;i=t.length;var s=[];function l(i){var l=n[i],u=r[i],h=n[i+1],c=r[i+1];r[i]=u+c,i===a-3&&(n[i+1]=n[i+2],r[i+1]=r[i+2]),a--;var d=Ei(t[h],t,l,u,0,e);l+=d,0!==(u-=d)&&0!==(c=Li(t[l+u-1],t,h,c,c-1,e))&&(u<=c?function(i,n,r,a){var l=0;for(l=0;l<n;l++)s[l]=t[i+l];var u=0,h=r,c=i;if(t[c++]=t[h++],0==--a){for(l=0;l<n;l++)t[c+l]=s[u+l];return}if(1===n){for(l=0;l<a;l++)t[c+l]=t[h+l];return void(t[c+a]=s[u])}var d,p,f,g=o;for(;;){d=0,p=0,f=!1;do{if(e(t[h],s[u])<0){if(t[c++]=t[h++],p++,d=0,0==--a){f=!0;break}}else if(t[c++]=s[u++],d++,p=0,1==--n){f=!0;break}}while((d|p)<g);if(f)break;do{if(0!==(d=Ei(t[h],s,u,n,0,e))){for(l=0;l<d;l++)t[c+l]=s[u+l];if(c+=d,u+=d,(n-=d)<=1){f=!0;break}}if(t[c++]=t[h++],0==--a){f=!0;break}if(0!==(p=Li(s[u],t,h,a,0,e))){for(l=0;l<p;l++)t[c+l]=t[h+l];if(c+=p,h+=p,0===(a-=p)){f=!0;break}}if(t[c++]=s[u++],1==--n){f=!0;break}g--}while(d>=7||p>=7);if(f)break;g<0&&(g=0),g+=2}if((o=g)<1&&(o=1),1===n){for(l=0;l<a;l++)t[c+l]=t[h+l];t[c+a]=s[u]}else{if(0===n)throw new Error;for(l=0;l<n;l++)t[c+l]=s[u+l]}}(l,u,h,c):function(i,n,r,a){var l=0;for(l=0;l<a;l++)s[l]=t[r+l];var u=i+n-1,h=a-1,c=r+a-1,d=0,p=0;if(t[c--]=t[u--],0==--n){for(d=c-(a-1),l=0;l<a;l++)t[d+l]=s[l];return}if(1===a){for(p=(c-=n)+1,d=(u-=n)+1,l=n-1;l>=0;l--)t[p+l]=t[d+l];return void(t[c]=s[h])}var f=o;for(;;){var g=0,m=0,v=!1;do{if(e(s[h],t[u])<0){if(t[c--]=t[u--],g++,m=0,0==--n){v=!0;break}}else if(t[c--]=s[h--],m++,g=0,1==--a){v=!0;break}}while((g|m)<f);if(v)break;do{if(0!==(g=n-Ei(s[h],t,i,n,n-1,e))){for(n-=g,p=(c-=g)+1,d=(u-=g)+1,l=g-1;l>=0;l--)t[p+l]=t[d+l];if(0===n){v=!0;break}}if(t[c--]=s[h--],1==--a){v=!0;break}if(0!==(m=a-Li(t[u],s,0,a,a-1,e))){for(a-=m,p=(c-=m)+1,d=(h-=m)+1,l=0;l<m;l++)t[p+l]=s[d+l];if(a<=1){v=!0;break}}if(t[c--]=t[u--],0==--n){v=!0;break}f--}while(g>=7||m>=7);if(v)break;f<0&&(f=0),f+=2}(o=f)<1&&(o=1);if(1===a){for(p=(c-=n)+1,d=(u-=n)+1,l=n-1;l>=0;l--)t[p+l]=t[d+l];t[c]=s[h]}else{if(0===a)throw new Error;for(d=c-(a-1),l=0;l<a;l++)t[d+l]=s[l]}}(l,u,h,c))}return i<120?5:i<1542?10:i<119151?19:40,n=[],r=[],{mergeRuns:function(){for(;a>1;){var t=a-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;l(t)}},forceMergeRuns:function(){for(;a>1;){var t=a-2;t>0&&r[t-1]<r[t+1]&&t--,l(t)}},pushRun:function(t,e){n[a]=t,r[a]=e,a+=1}}}function Ri(t,e,i,n){i||(i=0),n||(n=t.length);var r=n-i;if(!(r<2)){var o=0;if(r<32)Oi(t,i,n,i+(o=Pi(t,i,n,e)),e);else{var a=Ni(t,e),s=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(r);do{if((o=Pi(t,i,n,e))<s){var l=r;l>s&&(l=s),Oi(t,i,i+l,i+o,e),o=l}a.pushRun(i,o),a.mergeRuns(),r-=o,i+=o}while(0!==r);a.forceMergeRuns()}}}var zi=!1;function Bi(){zi||(zi=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Hi(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Fi,Wi,Vi=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Hi}return t.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,r=e.length;n<r;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,h.canvasSupported&&Ri(i,Hi)},t.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.getClipPath();if(t.ignoreClip)e=null;else if(n){e=e?e.slice():[];for(var r=n,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty|=Ai.REDARAW_BIT),this._updateAndAddDisplayable(l,e,i)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(Bi(),u.z=0),isNaN(u.z2)&&(Bi(),u.z2=0),isNaN(u.zlevel)&&(Bi(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,e,i);var c=t.getTextGuideLine();c&&this._updateAndAddDisplayable(c,e,i);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,i)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var n=A(this._roots,t);n>=0&&this._roots.splice(n,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),ji="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},qi=function(t){function e(e){var i=t.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,e=e||{},i.stage=e.stage||{},i.onframe=e.onframe||function(){},i}return a(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,i=t.next;e?e.next=i:this._clipsHead=i,i?i.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=(new Date).getTime()-this._pausedTime,i=e-this._time,n=this._clipsHead;n;){var r=n.next;n.step(e,i)?(n.ondestroy&&n.ondestroy(),this.removeClip(n),n=r):n=r}this._time=e,t||(this.onframe(i),this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,ji((function e(){t._running&&(ji(e),!t._paused&&t.update())}))},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._clipsHead;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,e){e=e||{},this.start();var i=new Je(t,e.loop);return this.addAnimator(i),i},e}(At),$i=h.domSupported,Yi=(Wi={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Fi=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:E(Fi,(function(t){var e=t.replace("mouse","pointer");return Wi.hasOwnProperty(e)?e:t}))}),Ui=["mousemove","mouseup"],Gi=["pointermove","pointerup"],Xi=!1;function Zi(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Ki(t){t&&(t.zrByTouch=!0)}function Qi(t,e){for(var i=e,n=!1;i&&9!==i.nodeType&&!(n=i.domBelongToZr||i!==e&&i===t.painterRoot);)i=i.parentNode;return n}var Ji=function(t,e){this.stopPropagation=ht,this.stopImmediatePropagation=ht,this.preventDefault=ht,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},tn={mousedown:function(t){t=jt(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=jt(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=jt(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){Qi(this,(t=jt(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){Xi=!0,t=jt(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){Xi||(t=jt(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){Ki(t=jt(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),tn.mousemove.call(this,t),tn.mousedown.call(this,t)},touchmove:function(t){Ki(t=jt(this.dom,t)),this.handler.processGesture(t,"change"),tn.mousemove.call(this,t)},touchend:function(t){Ki(t=jt(this.dom,t)),this.handler.processGesture(t,"end"),tn.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&tn.click.call(this,t)},pointerdown:function(t){tn.mousedown.call(this,t)},pointermove:function(t){Zi(t)||tn.mousemove.call(this,t)},pointerup:function(t){tn.mouseup.call(this,t)},pointerout:function(t){Zi(t)||tn.mouseout.call(this,t)}};L(["click","dblclick","contextmenu"],(function(t){tn[t]=function(e){e=jt(this.dom,e),this.trigger(t,e)}}));var en={pointermove:function(t){Zi(t)||en.mousemove.call(this,t)},pointerup:function(t){en.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function nn(t,e){var i=e.domHandlers;h.pointerEventsSupported?L(Yi.pointer,(function(n){on(e,n,(function(e){i[n].call(t,e)}))})):(h.touchEventsSupported&&L(Yi.touch,(function(n){on(e,n,(function(r){i[n].call(t,r),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(e)}))})),L(Yi.mouse,(function(n){on(e,n,(function(r){r=Vt(r),e.touching||i[n].call(t,r)}))})))}function rn(t,e){function i(i){on(e,i,(function(n){n=Vt(n),Qi(t,n.target)||(n=function(t,e){return jt(t.dom,new Ji(t,e),!0)}(t,n),e.domHandlers[i].call(t,n))}),{capture:!0})}h.pointerEventsSupported?L(Gi,i):h.touchEventsSupported||L(Ui,i)}function on(t,e,i,n){t.mounted[e]=i,t.listenerOpts[e]=n,qt(t.domTarget,e,i,n)}function an(t){var e,i,n,r,o=t.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=t.domTarget,i=a,n=o[a],r=t.listenerOpts[a],zt?e.removeEventListener(i,n,r):e.detachEvent("on"+i,n));t.mounted={}}var sn=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},ln=function(t){function e(e,i){var n=t.call(this)||this;return n.__pointerCapturing=!1,n.dom=e,n.painterRoot=i,n._localHandlerScope=new sn(e,tn),$i&&(n._globalHandlerScope=new sn(document,en)),nn(n,n._localHandlerScope),n}return a(e,t),e.prototype.dispose=function(){an(this._localHandlerScope),$i&&an(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,$i&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?rn(this,e):an(e)}},e}(At),un=function(t){function e(e){var i=t.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return a(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},e.prototype.replaceAt=function(t,e){var i=this._children,n=i[e];if(t&&t!==this&&t.parent!==this&&t!==n){i[e]=t,n.parent=null;var r=this.__zr;r&&n.removeSelfFromZr(r),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,i=this._children,n=A(i,t);return n<0||(i.splice(n,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,i=0;i<t.length;i++){var n=t[i];e&&n.removeSelfFromZr(e),n.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var i=this._children,n=0;n<i.length;n++){var r=i[n];t.call(e,r,n)}return this},e.prototype.traverse=function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i],r=t.call(e,n);n.isGroup&&!r&&n.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++){this._children[i].addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++){this._children[i].removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new ui(0,0,0,0),i=t||this._children,n=[],r=null,o=0;o<i.length;o++){var a=i[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(n);l?(ui.applyTransform(e,s,l),(r=r||e.clone()).union(e)):(r=r||s.clone()).union(s)}}return r||e},e}(Ai);un.prototype.type="group";var hn=un,cn=!h.canvasSupported,dn={},pn={};
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var fn=function(){function t(t,e,i){var n=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var r=new Vi,o=i.renderer||"canvas";if(cn)throw new Error("IE8 support has been dropped since 5.0");if(dn[o]||(o=z(dn)[0]),!dn[o])throw new Error("Renderer '"+o+"' is not imported. Please import it first.");i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var a=new dn[o](e,r,i,t);this.storage=r,this.painter=a;var s=h.node||h.worker?null:new ln(a.getViewportRoot(),a.root);this.handler=new ne(r,a,s,a.root),this.animation=new qi({stage:{update:function(){return n._flush(!0)}}}),this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return ze(t,1)<.4;if(t.colorStops){for(var e=t.colorStops,i=0,n=e.length,r=0;r<n;r++)i+=ze(e[r].color,1);return(i/=n)<.4}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,i=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var n=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:n-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.addHover=function(t){},t.prototype.removeHover=function(t){},t.prototype.clearHover=function(){},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof hn&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete pn[t]},t}();function gn(t,e){var i=new fn(S(),t,e);return pn[i.id]=i,i}function mn(t,e,i,n){var r=e[1]-e[0],o=i[1]-i[0];if(0===r)return 0===o?i[0]:(i[0]+i[1])/2;if(n)if(r>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/r*o+i[0]}function vn(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(i=t,i.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var i}function yn(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t}function _n(t){var e=t.toString(),i=e.indexOf("e");if(i>0){var n=+e.slice(i+1);return n<0?-n:0}var r=e.indexOf(".");return r<0?0:e.length-1-r}function bn(t){var e=2*Math.PI;return(t%e+e)%e}function xn(t){return t>-1e-4&&t<1e-4}var wn=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Sn(t){if(t instanceof Date)return t;if("string"==typeof t){var e=wn.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(i-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Cn(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function kn(t,e){var i=Cn(t),n=Math.pow(10,i),r=t/n;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*n,i>=-20?+t.toFixed(i<0?-i:0):t}function Tn(t){var e=parseFloat(t);return e==t&&(0!==e||"string"!=typeof t||t.indexOf("x")<=0)?e:NaN}function Dn(t){return!isNaN(Tn(t))}function Mn(){return Math.round(9*Math.random())}function In(t,e){return null==t?e:null==e?t:t*e/function t(e,i){return 0===i?e:t(i,e%i)}(t,e)}function An(t){return t instanceof Array?t:null==t?[]:[t]}function Pn(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,r=i.length;n<r;n++){var o=i[n];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var On=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Ln(t){return!Y(t)||F(t)||t instanceof Date?t:t.value}function En(t,e,i){var n="normalMerge"===i,r="replaceMerge"===i,o="replaceAll"===i;t=t||[],e=(e||[]).slice();var a=st();L(e,(function(t,i){Y(t)||(e[i]=null)}));var s,l,u=function(t,e,i){var n=[];if("replaceAll"===i)return n;for(var r=0;r<t.length;r++){var o=t[r];o&&null!=o.id&&e.set(o.id,r),n.push({existing:"replaceMerge"===i||Hn(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return n}(t,a,i);return(n||r)&&function(t,e,i,n){L(n,(function(r,o){if(r&&null!=r.id){var a=Rn(r.id),s=i.get(a);if(null!=s){var l=t[s];it(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=e[s],n[o]=null}}}))}(u,t,a,e),n&&function(t,e){L(e,(function(i,n){if(i&&null!=i.name)for(var r=0;r<t.length;r++){var o=t[r].existing;if(!t[r].newOption&&o&&(null==o.id||null==i.id)&&!Hn(i)&&!Hn(o)&&Nn("name",o,i))return t[r].newOption=i,void(e[n]=null)}}))}(u,e),n||r?function(t,e,i){L(e,(function(e){if(e){for(var n,r=0;(n=t[r])&&(n.newOption||Hn(n.existing)||n.existing&&null!=e.id&&!Nn("id",e,n.existing));)r++;n?(n.newOption=e,n.brandNew=i):t.push({newOption:e,brandNew:i,existing:null,keyInfo:null}),r++}}))}(u,e,r):o&&function(t,e){L(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}(u,e),s=u,l=st(),L(s,(function(t){var e=t.existing;e&&l.set(e.id,t)})),L(s,(function(t){var e=t.newOption;it(!e||null==e.id||!l.get(e.id)||l.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&l.set(e.id,t),!t.keyInfo&&(t.keyInfo={})})),L(s,(function(t,e){var i=t.existing,n=t.newOption,r=t.keyInfo;if(Y(n)){if(r.name=null!=n.name?Rn(n.name):i?i.name:"series\0"+e,i)r.id=Rn(i.id);else if(null!=n.id)r.id=Rn(n.id);else{var o=0;do{r.id="\0"+r.name+"\0"+o++}while(l.get(r.id))}l.set(r.id,t)}})),u}function Nn(t,e,i){var n=zn(e[t],null),r=zn(i[t],null);return null!=n&&null!=r&&n===r}function Rn(t){return zn(t,"")}function zn(t,e){if(null==t)return e;var i=typeof t;return"string"===i?t:"number"===i||j(t)?t+"":e}function Bn(t){var e=t.name;return!(!e||!e.indexOf("series\0"))}function Hn(t){return t&&null!=t.id&&0===Rn(t.id).indexOf("\0_ec_\0")}function Fn(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?F(e.dataIndex)?E(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?F(e.name)?E(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function Wn(){var t="__ec_inner_"+Vn++;return function(e){return e[t]||(e[t]={})}}var Vn=Mn();function jn(t,e,i){var n;if(V(e)){var r={};r[e+"Index"]=0,n=r}else n=e;var o=st(),a={},s=!1;L(n,(function(t,e){if("dataIndex"!==e&&"dataIndexInside"!==e){var n=e.match(/^(\w+)(Index|Id|Name)$/)||[],r=n[1],l=(n[2]||"").toLowerCase();if(r&&l&&!(i&&i.includeMainTypes&&A(i.includeMainTypes,r)<0))s=s||!!r,(o.get(r)||o.set(r,{}))[l]=t}else a[e]=t}));var l=i?i.defaultMainType:null;return!s&&l&&o.set(l,{}),o.each((function(e,n){var r=Yn(t,n,e,{useDefault:l===n,enableAll:!i||null==i.enableAll||i.enableAll,enableNone:!i||null==i.enableNone||i.enableNone});a[n+"Models"]=r.models,a[n+"Model"]=r.models[0]})),a}var qn={useDefault:!0,enableAll:!1,enableNone:!1},$n={useDefault:!1,enableAll:!0,enableNone:!0};function Yn(t,e,i,n){n=n||qn;var r=i.index,o=i.id,a=i.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=t.getComponent(e))?[l]:[],s}return"none"===r||!1===r?(it(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(it(n.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=t.queryComponents({mainType:e,index:r,id:o,name:a}),s)}function Un(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}var Gn="___EC__COMPONENT__CONTAINER___";function Xn(t){var e={main:"",sub:""};if(t){var i=t.split(".");e.main=i[0]||"",e.sub=i[1]||""}return e}function Zn(t,e){t.$constructor=t,t.extend=function(t){var e=this;function i(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t.$constructor)t.$constructor.apply(this,arguments);else{if(Kn(e)){var o=lt(i.prototype,new(e.bind.apply(e,s([void 0],n))));return o}e.apply(this,arguments)}}return i.___EC__EXTENDED_CLASS___=!0,D(i.prototype,t),i.extend=this.extend,i.superCall=tr,i.superApply=er,function(t,e){var i=t.prototype;function n(){}for(var r in n.prototype=e.prototype,t.prototype=new n,i)i.hasOwnProperty(r)&&(t.prototype[r]=i[r]);t.prototype.constructor=t,t.superClass=e}(i,this),i.superClass=e,i}}function Kn(t){return"function"==typeof t&&/^class\s/.test(Function.prototype.toString.call(t))}function Qn(t,e){t.extend=e.extend}var Jn=Math.round(10*Math.random());function tr(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,i)}function er(t,e,i){return this.superClass.prototype[e].apply(t,i)}function ir(t){var e={};t.registerClass=function(t){var i,n=t.type||t.prototype.type;if(n){it(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=n),'componentType "'+i+'" illegal'),t.prototype.type=n;var r=Xn(n);if(r.sub){if(r.sub!==Gn){(function(t){var i=e[t.main];i&&i[Gn]||((i=e[t.main]={})[Gn]=!0);return i}(r))[r.sub]=t}}else e[r.main]=t}return t},t.getClass=function(t,i,n){var r=e[t];if(r&&r[Gn]&&(r=i?r[i]:null),n&&!r)throw new Error(i?"Component "+t+"."+(i||"")+" not exists. Load it first.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){var i=Xn(t),n=[],r=e[i.main];return r&&r[Gn]?L(r,(function(t,e){e!==Gn&&n.push(t)})):n.push(r),n},t.hasClass=function(t){var i=Xn(t);return!!e[i.main]},t.getAllClassMainTypes=function(){var t=[];return L(e,(function(e,i){t.push(i)})),t},t.hasSubTypes=function(t){var i=Xn(t),n=e[i.main];return n&&n[Gn]}}function nr(t,e){for(var i=0;i<t.length;i++)t[i][1]||(t[i][1]=t[i][0]);return e=e||!1,function(i,n,r){for(var o={},a=0;a<t.length;a++){var s=t[a][1];if(!(n&&A(n,s)>=0||r&&A(r,s)<0)){var l=i.getShallow(s,e);null!=l&&(o[t[a][0]]=l)}}return o}}var rr=nr([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),or=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return rr(this,t,e)},t}(),ar=new we(50);function sr(t){if("string"==typeof t){var e=ar.get(t);return e&&e.image}return t}function lr(t,e,i,n,r){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var o=ar.get(t),a={hostEl:i,cb:n,cbPayload:r};return o?!hr(e=o.image)&&o.pending.push(a):((e=new Image).onload=e.onerror=ur,ar.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function ur(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function hr(t){return t&&t.width&&t.height}var cr=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function dr(t,e,i,n,r){if(!e)return"";var o=(t+"").split("\n");r=pr(e,i,n,r);for(var a=0,s=o.length;a<s;a++)o[a]=fr(o[a],r);return o.join("\n")}function pr(t,e,i,n){var r=D({},n=n||{});r.font=e,i=Q(i,"..."),r.maxIterations=Q(n.maxIterations,2);var o=r.minChar=Q(n.minChar,0);r.cnCharWidth=di("å½",e);var a=r.ascCharWidth=di("a",e);r.placeholder=Q(n.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=a;l++)s-=a;var u=di(i,e);return u>s&&(i="",u=0),s=t-u,r.ellipsis=i,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=t,r}function fr(t,e){var i=e.containerWidth,n=e.font,r=e.contentWidth;if(!i)return"";var o=di(t,n);if(o<=i)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?gr(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=di(t=t.substr(0,s),n)}return""===t&&(t=e.placeholder),t}function gr(t,e,i,n){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?i:n}return o}var mr=function(){},vr=function(t){this.tokens=[],t&&(this.tokens=t)},yr=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function _r(t,e,i,n,r){var o,a,s=""===e,l=r&&i.rich[r]||{},u=t.lines,h=l.font||i.font,c=!1;if(n){var d=l.padding,p=d?d[1]+d[3]:0;if(null!=l.width&&"auto"!==l.width){var f=function(t,e){if("string"==typeof t)return t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t);return t}(l.width,n.width)+p;u.length>0&&f+n.accumWidth>n.width&&(o=e.split("\n"),c=!0),n.accumWidth=f}else{var g=wr(e,h,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+p,a=g.linesWidths,o=g.lines}}else o=e.split("\n");for(var m=0;m<o.length;m++){var v=o[m],y=new mr;if(y.styleName=r,y.text=v,y.isLineHolder=!v&&!s,"number"==typeof l.width?y.width=l.width:y.width=a?a[m]:di(v,h),m||c)u.push(new vr([y]));else{var _=(u[u.length-1]||(u[0]=new vr)).tokens,b=_.length;1===b&&_[0].isLineHolder?_[0]=y:(v||!b||s)&&_.push(y)}}}var br=N(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function xr(t){return!function(t){var e=t.charCodeAt(0);return e>=33&&e<=255}(t)||!!br[t]}function wr(t,e,i,n,r){for(var o=[],a=[],s="",l="",u=0,h=0,c=0;c<t.length;c++){var d=t.charAt(c);if("\n"!==d){var p=di(d,e),f=!n&&!xr(d);(o.length?h+p>i:r+h+p>i)?h?(s||l)&&(f?(s||(s=l,l="",h=u=0),o.push(s),a.push(h-u),l+=d,s="",h=u+=p):(l&&(s+=l,h+=u,l="",u=0),o.push(s),a.push(h),s=d,h=p)):f?(o.push(l),a.push(u),l=d,u=p):(o.push(d),a.push(p)):(h+=p,f?(l+=d,u+=p):(l&&(s+=l,l="",u=0),s+=d))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s="",l="",u=0,h=0}return o.length||s||(s=t,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),1===o.length&&(h+=r),{accumWidth:h,lines:o,linesWidths:a}}var Sr="__zr_style_"+Math.round(10*Math.random()),Cr={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},kr={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Cr[Sr]=!0;var Tr=["z","z2","invisible"],Dr=function(t){function e(e){return t.call(this,e)||this}var i;return a(e,t),e.prototype._init=function(e){for(var i=z(e),n=0;n<i.length;n++){var r=i[n];"style"===r?this.useStyle(e[r]):t.prototype.attrKV.call(this,r,e[r])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,i,n){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,e,i){Mr.copy(t.getBoundingRect()),t.transform&&Mr.applyTransform(t.transform);return Ir.width=e,Ir.height=i,!Mr.intersect(Ir)}(this,t,e)||r&&!r[0]&&!r[3])return!1;if(i&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(n&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,i=this.getBoundingRect(),n=this.style,r=n.shadowBlur||0,o=n.shadowOffsetX||0,a=n.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new ui(0,0,0,0)),e?ui.applyTransform(t,i,e):t.copy(i),(r||o||a)&&(t.width+=2*r+Math.abs(o),t.height+=2*r+Math.abs(a),t.x=Math.min(t.x,t.x+o-r),t.y=Math.min(t.y,t.y+a-r));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new ui(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,i){"style"!==e?t.prototype.attrKV.call(this,e,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:D(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(){this.markRedraw(),this.__dirty|=e.STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&e.STYLE_CHANGED_BIT)},e.prototype.styleUpdated=function(){this.__dirty&=~e.STYLE_CHANGED_BIT},e.prototype.createStyle=function(t){return lt(Cr,t)},e.prototype.useStyle=function(t){t[Sr]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[Sr]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,i,Tr)},e.prototype._applyStateObj=function(e,i,n,r,o,a){t.prototype._applyStateObj.call(this,e,i,n,r,o,a);var s,l=!(i&&r);if(i&&i.style?o?r?s=i.style:(s=this._mergeStyle(this.createStyle(),n.style),this._mergeStyle(s,i.style)):(s=this._mergeStyle(this.createStyle(),r?this.style:n.style),this._mergeStyle(s,i.style)):l&&(s=n.style),s)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=z(u),c=0;c<h.length;c++){(p=h[c])in s&&(s[p]=s[p],this.style[p]=u[p])}var d=z(s);for(c=0;c<d.length;c++){var p=d[c];this.style[p]=this.style[p]}this._transitionState(e,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);for(c=0;c<Tr.length;c++){p=Tr[c];i&&null!=i[p]?this[p]=i[p]:l&&null!=n[p]&&(this[p]=n[p])}},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(t,e){return D(t,e),t},e.prototype.getAnimationStyleProps=function(){return kr},e.STYLE_CHANGED_BIT=2,e.initDefaultProps=((i=e.prototype).type="displayable",i.invisible=!1,i.z=0,i.z2=0,i.zlevel=0,i.culling=!1,i.cursor="pointer",i.rectHover=!1,i.incremental=!1,i._rect=null,i.dirtyRectTolerance=0,void(i.__dirty=Ai.REDARAW_BIT|e.STYLE_CHANGED_BIT)),e}(Ai),Mr=new ui(0,0,0,0),Ir=new ui(0,0,0,0);var Ar=Dr,Pr=Math.pow,Or=Math.sqrt,Lr=Or(3),Er=ct(),Nr=ct(),Rr=ct();function zr(t){return t>-1e-8&&t<1e-8}function Br(t){return t>1e-8||t<-1e-8}function Hr(t,e,i,n,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*n+3*o*i)}function Fr(t,e,i,n,r){var o=1-r;return 3*(((e-t)*o+2*(i-e)*r)*o+(n-i)*r*r)}function Wr(t,e,i,n,r){var o=6*i-12*e+6*t,a=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(zr(a)){if(Br(o))(h=-s/o)>=0&&h<=1&&(r[l++]=h)}else{var u=o*o-4*a*s;if(zr(u))r[0]=-o/(2*a);else if(u>0){var h,c=Or(u),d=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(r[l++]=h),d>=0&&d<=1&&(r[l++]=d)}}return l}function Vr(t,e,i,n,r,o){var a=(e-t)*r+t,s=(i-e)*r+e,l=(n-i)*r+i,u=(s-a)*r+a,h=(l-s)*r+s,c=(h-u)*r+u;o[0]=t,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=n}function jr(t,e,i,n,r,o,a,s,l,u,h){var c,d,p,f,g,m=.005,v=1/0;Er[0]=l,Er[1]=u;for(var y=0;y<1;y+=.05)Nr[0]=Hr(t,i,r,a,y),Nr[1]=Hr(e,n,o,s,y),(f=St(Er,Nr))<v&&(c=y,v=f);v=1/0;for(var _=0;_<32&&!(m<1e-4);_++)d=c-m,p=c+m,Nr[0]=Hr(t,i,r,a,d),Nr[1]=Hr(e,n,o,s,d),f=St(Nr,Er),d>=0&&f<v?(c=d,v=f):(Rr[0]=Hr(t,i,r,a,p),Rr[1]=Hr(e,n,o,s,p),g=St(Rr,Er),p<=1&&g<v?(c=p,v=g):m*=.5);return h&&(h[0]=Hr(t,i,r,a,c),h[1]=Hr(e,n,o,s,c)),Or(v)}function qr(t,e,i,n,r,o,a,s,l){for(var u=t,h=e,c=0,d=1/l,p=1;p<=l;p++){var f=p*d,g=Hr(t,i,r,a,f),m=Hr(e,n,o,s,f),v=g-u,y=m-h;c+=Math.sqrt(v*v+y*y),u=g,h=m}return c}function $r(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function Yr(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function Ur(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function Gr(t,e,i,n,r){var o=(e-t)*n+t,a=(i-e)*n+e,s=(a-o)*n+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=i}function Xr(t,e,i,n,r,o,a,s,l){var u,h=.005,c=1/0;Er[0]=a,Er[1]=s;for(var d=0;d<1;d+=.05){Nr[0]=$r(t,i,r,d),Nr[1]=$r(e,n,o,d),(m=St(Er,Nr))<c&&(u=d,c=m)}c=1/0;for(var p=0;p<32&&!(h<1e-4);p++){var f=u-h,g=u+h;Nr[0]=$r(t,i,r,f),Nr[1]=$r(e,n,o,f);var m=St(Nr,Er);if(f>=0&&m<c)u=f,c=m;else{Rr[0]=$r(t,i,r,g),Rr[1]=$r(e,n,o,g);var v=St(Rr,Er);g<=1&&v<c?(u=g,c=v):h*=.5}}return l&&(l[0]=$r(t,i,r,u),l[1]=$r(e,n,o,u)),Or(c)}function Zr(t,e,i,n,r,o,a){for(var s=t,l=e,u=0,h=1/a,c=1;c<=a;c++){var d=c*h,p=$r(t,i,r,d),f=$r(e,n,o,d),g=p-s,m=f-l;u+=Math.sqrt(g*g+m*m),s=p,l=f}return u}var Kr=Math.min,Qr=Math.max,Jr=Math.sin,to=Math.cos,eo=2*Math.PI,io=ct(),no=ct(),ro=ct();function oo(t,e,i,n,r,o){r[0]=Kr(t,i),r[1]=Kr(e,n),o[0]=Qr(t,i),o[1]=Qr(e,n)}var ao=[],so=[];function lo(t,e,i,n,r,o,a,s,l,u){var h=Wr,c=Hr,d=h(t,i,r,a,ao);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<d;p++){var f=c(t,i,r,a,ao[p]);l[0]=Kr(f,l[0]),u[0]=Qr(f,u[0])}d=h(e,n,o,s,so);for(p=0;p<d;p++){var g=c(e,n,o,s,so[p]);l[1]=Kr(g,l[1]),u[1]=Qr(g,u[1])}l[0]=Kr(t,l[0]),u[0]=Qr(t,u[0]),l[0]=Kr(a,l[0]),u[0]=Qr(a,u[0]),l[1]=Kr(e,l[1]),u[1]=Qr(e,u[1]),l[1]=Kr(s,l[1]),u[1]=Qr(s,u[1])}function uo(t,e,i,n,r,o,a,s){var l=Ur,u=$r,h=Qr(Kr(l(t,i,r),1),0),c=Qr(Kr(l(e,n,o),1),0),d=u(t,i,r,h),p=u(e,n,o,c);a[0]=Kr(t,r,d),a[1]=Kr(e,o,p),s[0]=Qr(t,r,d),s[1]=Qr(e,o,p)}function ho(t,e,i,n,r,o,a,s,l){var u=Tt,h=Dt,c=Math.abs(r-o);if(c%eo<1e-4&&c>1e-4)return s[0]=t-i,s[1]=e-n,l[0]=t+i,void(l[1]=e+n);if(io[0]=to(r)*i+t,io[1]=Jr(r)*n+e,no[0]=to(o)*i+t,no[1]=Jr(o)*n+e,u(s,io,no),h(l,io,no),(r%=eo)<0&&(r+=eo),(o%=eo)<0&&(o+=eo),r>o&&!a?o+=eo:r<o&&a&&(r+=eo),a){var d=o;o=r,r=d}for(var p=0;p<o;p+=Math.PI/2)p>r&&(ro[0]=to(p)*i+t,ro[1]=Jr(p)*n+e,u(s,ro,s),h(l,ro,l))}var co={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},po=[],fo=[],go=[],mo=[],vo=[],yo=[],_o=Math.min,bo=Math.max,xo=Math.cos,wo=Math.sin,So=Math.sqrt,Co=Math.abs,ko=Math.PI,To=2*ko,Do="undefined"!=typeof Float32Array,Mo=[];function Io(t){return Math.round(t/ko*1e8)/1e8%2*ko}function Ao(t,e){var i=Io(t[0]);i<0&&(i+=To);var n=i-t[0],r=t[1];r+=n,!e&&r-i>=To?r=i+To:e&&i-r>=To?r=i-To:!e&&i>r?r=i+(To-Io(i-r)):e&&i<r&&(r=i-(To-Io(r-i))),t[0]=i,t[1]=r}var Po=function(){function t(t){this.dpr=1,this._version=0,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}var e;return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,i){(i=i||0)>0&&(this._ux=Co(i/xi/t)||0,this._uy=Co(i/xi/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this.addData(co.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var i=Co(t-this._xi)>this._ux||Co(e-this._yi)>this._uy||this._len<5;return this.addData(co.L,t,e),this._ctx&&i&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},t.prototype.bezierCurveTo=function(t,e,i,n,r,o){return this.addData(co.C,t,e,i,n,r,o),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,i,n,r,o):this._ctx.bezierCurveTo(t,e,i,n,r,o)),this._xi=r,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,i,n){return this.addData(co.Q,t,e,i,n),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},t.prototype.arc=function(t,e,i,n,r,o){Mo[0]=n,Mo[1]=r,Ao(Mo,o),n=Mo[0];var a=(r=Mo[1])-n;return this.addData(co.A,t,e,i,i,n,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,i,n,r,o),this._xi=xo(r)*i+t,this._yi=wo(r)*i+e,this},t.prototype.arcTo=function(t,e,i,n,r){return this._ctx&&this._ctx.arcTo(t,e,i,n,r),this},t.prototype.rect=function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(co.R,t,e,i,n),this},t.prototype.closePath=function(){this.addData(co.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},t.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Do||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,r=0;r<e;r++)i+=t[r].len();Do&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[n++]=o[a];this._len=n},t.prototype.addData=function(t,e,i,n,r,o,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype._dashedLineTo=function(t,e){var i,n,r=this._dashSum,o=this._lineDash,a=this._ctx,s=this._dashOffset,l=this._xi,u=this._yi,h=t-l,c=e-u,d=So(h*h+c*c),p=l,f=u,g=o.length;for(s<0&&(s=r+s),p-=(s%=r)*(h/=d),f-=s*(c/=d);h>0&&p<=t||h<0&&p>=t||0===h&&(c>0&&f<=e||c<0&&f>=e);)p+=h*(i=o[n=this._dashIdx]),f+=c*i,this._dashIdx=(n+1)%g,h>0&&p<l||h<0&&p>l||c>0&&f<u||c<0&&f>u||a[n%2?"moveTo":"lineTo"](h>=0?_o(p,t):bo(p,t),c>=0?_o(f,e):bo(f,e));h=p-t,c=f-e,this._dashOffset=-So(h*h+c*c)},t.prototype._dashedBezierTo=function(t,e,i,n,r,o){var a,s,l,u,h,c=this._ctx,d=this._dashSum,p=this._dashOffset,f=this._lineDash,g=this._xi,m=this._yi,v=0,y=this._dashIdx,_=f.length,b=0;for(p<0&&(p=d+p),p%=d,a=0;a<1;a+=.1)s=Hr(g,t,i,r,a+.1)-Hr(g,t,i,r,a),l=Hr(m,e,n,o,a+.1)-Hr(m,e,n,o,a),v+=So(s*s+l*l);for(;y<_&&!((b+=f[y])>p);y++);for(a=(b-p)/v;a<=1;)u=Hr(g,t,i,r,a),h=Hr(m,e,n,o,a),y%2?c.moveTo(u,h):c.lineTo(u,h),a+=f[y]/v,y=(y+1)%_;y%2!=0&&c.lineTo(r,o),s=r-u,l=o-h,this._dashOffset=-So(s*s+l*l)},t.prototype._dashedQuadraticTo=function(t,e,i,n){var r=i,o=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,r,o)},t.prototype.toStatic=function(){if(this._saveData){var t=this.data;t instanceof Array&&(t.length=this._len,Do&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){go[0]=go[1]=vo[0]=vo[1]=Number.MAX_VALUE,mo[0]=mo[1]=yo[0]=yo[1]=-Number.MAX_VALUE;var t,e=this.data,i=0,n=0,r=0,o=0;for(t=0;t<this._len;){var a=e[t++],s=1===t;switch(s&&(r=i=e[t],o=n=e[t+1]),a){case co.M:i=r=e[t++],n=o=e[t++],vo[0]=r,vo[1]=o,yo[0]=r,yo[1]=o;break;case co.L:oo(i,n,e[t],e[t+1],vo,yo),i=e[t++],n=e[t++];break;case co.C:lo(i,n,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],vo,yo),i=e[t++],n=e[t++];break;case co.Q:uo(i,n,e[t++],e[t++],e[t],e[t+1],vo,yo),i=e[t++],n=e[t++];break;case co.A:var l=e[t++],u=e[t++],h=e[t++],c=e[t++],d=e[t++],p=e[t++]+d;t+=1;var f=!e[t++];s&&(r=xo(d)*h+l,o=wo(d)*c+u),ho(l,u,h,c,d,p,f,vo,yo),i=xo(p)*h+l,n=wo(p)*c+u;break;case co.R:oo(r=i=e[t++],o=n=e[t++],r+e[t++],o+e[t++],vo,yo);break;case co.Z:i=r,n=o}Tt(go,go,vo),Dt(mo,mo,yo)}return 0===t&&(go[0]=go[1]=mo[0]=mo[1]=0),new ui(go[0],go[1],mo[0]-go[0],mo[1]-go[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,n=this._uy,r=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,h=0,c=0;c<e;){var d=t[c++],p=1===c;p&&(a=r=t[c],s=o=t[c+1]);var f=-1;switch(d){case co.M:r=a=t[c++],o=s=t[c++];break;case co.L:var g=t[c++],m=(_=t[c++])-o;(Co(I=g-r)>i||Co(m)>n||c===e-1)&&(f=Math.sqrt(I*I+m*m),r=g,o=_);break;case co.C:var v=t[c++],y=t[c++],_=(g=t[c++],t[c++]),b=t[c++],x=t[c++];f=qr(r,o,v,y,g,_,b,x,10),r=b,o=x;break;case co.Q:f=Zr(r,o,v=t[c++],y=t[c++],g=t[c++],_=t[c++],10),r=g,o=_;break;case co.A:var w=t[c++],S=t[c++],C=t[c++],k=t[c++],T=t[c++],D=t[c++],M=D+T;c+=1;t[c++];p&&(a=xo(T)*C+w,s=wo(T)*k+S),f=bo(C,k)*_o(To,Math.abs(D)),r=xo(M)*C+w,o=wo(M)*k+S;break;case co.R:a=r=t[c++],s=o=t[c++],f=2*t[c++]+2*t[c++];break;case co.Z:var I=a-r;m=s-o;f=Math.sqrt(I*I+m*m),r=a,o=s}f>=0&&(l[h++]=f,u+=f)}return this._pathLen=u,u},t.prototype.rebuildPath=function(t,e){var i,n,r,o,a,s,l,u,h=this.data,c=this._ux,d=this._uy,p=this._len,f=e<1,g=0,m=0;if(!f||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=e*this._pathLen))t:for(var v=0;v<p;){var y=h[v++],_=1===v;switch(_&&(i=r=h[v],n=o=h[v+1]),y){case co.M:i=r=h[v++],n=o=h[v++],t.moveTo(r,o);break;case co.L:if(a=h[v++],s=h[v++],Co(a-r)>c||Co(s-o)>d||v===p-1){if(f){if(g+(V=l[m++])>u){var b=(u-g)/V;t.lineTo(r*(1-b)+a*b,o*(1-b)+s*b);break t}g+=V}t.lineTo(a,s),r=a,o=s}break;case co.C:var x=h[v++],w=h[v++],S=h[v++],C=h[v++],k=h[v++],T=h[v++];if(f){if(g+(V=l[m++])>u){Vr(r,x,S,k,b=(u-g)/V,po),Vr(o,w,C,T,b,fo),t.bezierCurveTo(po[1],fo[1],po[2],fo[2],po[3],fo[3]);break t}g+=V}t.bezierCurveTo(x,w,S,C,k,T),r=k,o=T;break;case co.Q:x=h[v++],w=h[v++],S=h[v++],C=h[v++];if(f){if(g+(V=l[m++])>u){Gr(r,x,S,b=(u-g)/V,po),Gr(o,w,C,b,fo),t.quadraticCurveTo(po[1],fo[1],po[2],fo[2]);break t}g+=V}t.quadraticCurveTo(x,w,S,C),r=S,o=C;break;case co.A:var D=h[v++],M=h[v++],I=h[v++],A=h[v++],P=h[v++],O=h[v++],L=h[v++],E=!h[v++],N=I>A?I:A,R=Co(I-A)>.001,z=P+O,B=!1;if(f)g+(V=l[m++])>u&&(z=P+O*(u-g)/V,B=!0),g+=V;if(R&&t.ellipse?t.ellipse(D,M,I,A,L,P,z,E):t.arc(D,M,N,P,z,E),B)break t;_&&(i=xo(P)*I+D,n=wo(P)*A+M),r=xo(z)*I+D,o=wo(z)*A+M;break;case co.R:i=r=h[v],n=o=h[v+1],a=h[v++],s=h[v++];var H=h[v++],F=h[v++];if(f){if(g+(V=l[m++])>u){var W=u-g;t.moveTo(a,s),t.lineTo(a+_o(W,H),s),(W-=H)>0&&t.lineTo(a+H,s+_o(W,F)),(W-=F)>0&&t.lineTo(a+bo(H-W,0),s+F),(W-=H)>0&&t.lineTo(a,s+bo(F-W,0));break t}g+=V}t.rect(a,s,H,F);break;case co.Z:if(f){var V;if(g+(V=l[m++])>u){b=(u-g)/V;t.lineTo(r*(1-b)+i*b,o*(1-b)+n*b);break t}g+=V}t.closePath(),r=i,o=n}}},t.CMD=co,t.initDefaultProps=((e=t.prototype)._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,void(e._uy=0)),t}();function Oo(t,e,i,n,r,o,a){if(0===r)return!1;var s=r,l=0;if(a>e+s&&a>n+s||a<e-s&&a<n-s||o>t+s&&o>i+s||o<t-s&&o<i-s)return!1;if(t===i)return Math.abs(o-t)<=s/2;var u=(l=(e-n)/(t-i))*o-a+(t*n-i*e)/(t-i);return u*u/(l*l+1)<=s/2*s/2}function Lo(t,e,i,n,r,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>e+c&&h>n+c&&h>o+c&&h>s+c||h<e-c&&h<n-c&&h<o-c&&h<s-c||u>t+c&&u>i+c&&u>r+c&&u>a+c||u<t-c&&u<i-c&&u<r-c&&u<a-c)&&jr(t,e,i,n,r,o,a,s,u,h,null)<=c/2}function Eo(t,e,i,n,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>e+u&&l>n+u&&l>o+u||l<e-u&&l<n-u&&l<o-u||s>t+u&&s>i+u&&s>r+u||s<t-u&&s<i-u&&s<r-u)&&Xr(t,e,i,n,r,o,s,l,null)<=u/2}var No=2*Math.PI;function Ro(t){return(t%=No)<0&&(t+=No),t}var zo=2*Math.PI;function Bo(t,e,i,n,r,o,a,s,l){if(0===a)return!1;var u=a;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>i||h+u<i)return!1;if(Math.abs(n-r)%zo<1e-4)return!0;if(o){var c=n;n=Ro(r),r=Ro(c)}else n=Ro(n),r=Ro(r);n>r&&(r+=zo);var d=Math.atan2(l,s);return d<0&&(d+=zo),d>=n&&d<=r||d+zo>=n&&d+zo<=r}function Ho(t,e,i,n,r,o){if(o>e&&o>n||o<e&&o<n)return 0;if(n===e)return 0;var a=(o-e)/(n-e),s=n<e?1:-1;1!==a&&0!==a||(s=n<e?.5:-.5);var l=a*(i-t)+t;return l===r?1/0:l>r?s:0}var Fo=Po.CMD,Wo=2*Math.PI;var Vo=[-1,-1,-1],jo=[-1,-1];function qo(t,e,i,n,r,o,a,s,l,u){if(u>e&&u>n&&u>o&&u>s||u<e&&u<n&&u<o&&u<s)return 0;var h,c=function(t,e,i,n,r,o){var a=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),u=t-r,h=s*s-3*a*l,c=s*l-9*a*u,d=l*l-3*s*u,p=0;if(zr(h)&&zr(c)){if(zr(s))o[0]=0;else(C=-l/s)>=0&&C<=1&&(o[p++]=C)}else{var f=c*c-4*h*d;if(zr(f)){var g=c/h,m=-g/2;(C=-s/a+g)>=0&&C<=1&&(o[p++]=C),m>=0&&m<=1&&(o[p++]=m)}else if(f>0){var v=Or(f),y=h*s+1.5*a*(-c+v),_=h*s+1.5*a*(-c-v);(C=(-s-((y=y<0?-Pr(-y,1/3):Pr(y,1/3))+(_=_<0?-Pr(-_,1/3):Pr(_,1/3))))/(3*a))>=0&&C<=1&&(o[p++]=C)}else{var b=(2*h*s-3*a*c)/(2*Or(h*h*h)),x=Math.acos(b)/3,w=Or(h),S=Math.cos(x),C=(-s-2*w*S)/(3*a),k=(m=(-s+w*(S+Lr*Math.sin(x)))/(3*a),(-s+w*(S-Lr*Math.sin(x)))/(3*a));C>=0&&C<=1&&(o[p++]=C),m>=0&&m<=1&&(o[p++]=m),k>=0&&k<=1&&(o[p++]=k)}}return p}(e,n,o,s,u,Vo);if(0===c)return 0;for(var d=0,p=-1,f=void 0,g=void 0,m=0;m<c;m++){var v=Vo[m],y=0===v||1===v?.5:1;Hr(t,i,r,a,v)<l||(p<0&&(p=Wr(e,n,o,s,jo),jo[1]<jo[0]&&p>1&&(h=void 0,h=jo[0],jo[0]=jo[1],jo[1]=h),f=Hr(e,n,o,s,jo[0]),p>1&&(g=Hr(e,n,o,s,jo[1]))),2===p?v<jo[0]?d+=f<e?y:-y:v<jo[1]?d+=g<f?y:-y:d+=s<g?y:-y:v<jo[0]?d+=f<e?y:-y:d+=s<f?y:-y)}return d}function $o(t,e,i,n,r,o,a,s){if(s>e&&s>n&&s>o||s<e&&s<n&&s<o)return 0;var l=function(t,e,i,n,r){var o=t-2*e+i,a=2*(e-t),s=t-n,l=0;if(zr(o)){if(Br(a))(h=-s/a)>=0&&h<=1&&(r[l++]=h)}else{var u=a*a-4*o*s;if(zr(u))(h=-a/(2*o))>=0&&h<=1&&(r[l++]=h);else if(u>0){var h,c=Or(u),d=(-a-c)/(2*o);(h=(-a+c)/(2*o))>=0&&h<=1&&(r[l++]=h),d>=0&&d<=1&&(r[l++]=d)}}return l}(e,n,o,s,Vo);if(0===l)return 0;var u=Ur(e,n,o);if(u>=0&&u<=1){for(var h=0,c=$r(e,n,o,u),d=0;d<l;d++){var p=0===Vo[d]||1===Vo[d]?.5:1;$r(t,i,r,Vo[d])<a||(Vo[d]<u?h+=c<e?p:-p:h+=o<c?p:-p)}return h}p=0===Vo[0]||1===Vo[0]?.5:1;return $r(t,i,r,Vo[0])<a?0:o<e?p:-p}function Yo(t,e,i,n,r,o,a,s){if((s-=e)>i||s<-i)return 0;var l=Math.sqrt(i*i-s*s);Vo[0]=-l,Vo[1]=l;var u=Math.abs(n-r);if(u<1e-4)return 0;if(u>=Wo-1e-4){n=0,r=Wo;var h=o?1:-1;return a>=Vo[0]+t&&a<=Vo[1]+t?h:0}if(n>r){var c=n;n=r,r=c}n<0&&(n+=Wo,r+=Wo);for(var d=0,p=0;p<2;p++){var f=Vo[p];if(f+t>a){var g=Math.atan2(s,f);h=o?1:-1;g<0&&(g=Wo+g),(g>=n&&g<=r||g+Wo>=n&&g+Wo<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(h=-h),d+=h)}}return d}function Uo(t,e,i,n,r){for(var o,a,s,l,u=t.data,h=t.len(),c=0,d=0,p=0,f=0,g=0,m=0;m<h;){var v=u[m++],y=1===m;switch(v===Fo.M&&m>1&&(i||(c+=Ho(d,p,f,g,n,r))),y&&(f=d=u[m],g=p=u[m+1]),v){case Fo.M:d=f=u[m++],p=g=u[m++];break;case Fo.L:if(i){if(Oo(d,p,u[m],u[m+1],e,n,r))return!0}else c+=Ho(d,p,u[m],u[m+1],n,r)||0;d=u[m++],p=u[m++];break;case Fo.C:if(i){if(Lo(d,p,u[m++],u[m++],u[m++],u[m++],u[m],u[m+1],e,n,r))return!0}else c+=qo(d,p,u[m++],u[m++],u[m++],u[m++],u[m],u[m+1],n,r)||0;d=u[m++],p=u[m++];break;case Fo.Q:if(i){if(Eo(d,p,u[m++],u[m++],u[m],u[m+1],e,n,r))return!0}else c+=$o(d,p,u[m++],u[m++],u[m],u[m+1],n,r)||0;d=u[m++],p=u[m++];break;case Fo.A:var _=u[m++],b=u[m++],x=u[m++],w=u[m++],S=u[m++],C=u[m++];m+=1;var k=!!(1-u[m++]);o=Math.cos(S)*x+_,a=Math.sin(S)*w+b,y?(f=o,g=a):c+=Ho(d,p,o,a,n,r);var T=(n-_)*w/x+_;if(i){if(Bo(_,b,w,S,S+C,k,e,T,r))return!0}else c+=Yo(_,b,w,S,S+C,k,T,r);d=Math.cos(S+C)*x+_,p=Math.sin(S+C)*w+b;break;case Fo.R:if(f=d=u[m++],g=p=u[m++],o=f+u[m++],a=g+u[m++],i){if(Oo(f,g,o,g,e,n,r)||Oo(o,g,o,a,e,n,r)||Oo(o,a,f,a,e,n,r)||Oo(f,a,f,g,e,n,r))return!0}else c+=Ho(o,g,o,a,n,r),c+=Ho(f,a,f,g,n,r);break;case Fo.Z:if(i){if(Oo(d,p,f,g,e,n,r))return!0}else c+=Ho(d,p,f,g,n,r);d=f,p=g}}return i||(s=p,l=g,Math.abs(s-l)<1e-4)||(c+=Ho(d,p,f,g,n,r)||0),0!==c}var Go=M({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Cr),Xo={style:M({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},kr.style)},Zo=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],Ko=function(t){function e(e){return t.call(this,e)||this}var i;return a(e,t),e.prototype.update=function(){var i=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(t){i.buildPath(t,i.shape)}),r.silent=!0;var o=r.style;for(var a in n)o[a]!==n[a]&&(o[a]=n[a]);o.fill=n.fill?n.decal:null,o.decal=null,o.shadowColor=null,n.strokeFirst&&(o.stroke=null);for(var s=0;s<Zo.length;++s)r[Zo[s]]=this[Zo[s]];r.__dirty|=Ai.REDARAW_BIT}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var i=z(e);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();n&&this.useStyle(n);for(var r=0;r<i.length;r++){var o=i[r],a=e[o];"style"===o?this.style?D(this.style,a):this.useStyle(a):"shape"===o?D(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(V(t)){var e=ze(t,0);return e>.5?"#333":e>.2?"#eee":"#ccc"}if(t)return"#ccc"}return"#333"},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(V(e)){var i=this.__zr;if(!(!i||!i.isDarkMode())===ze(t,0)<.4)return e}},e.prototype.buildPath=function(t,e,i){},e.prototype.pathUpdated=function(){this.__dirty&=~e.SHAPE_CHANGED_BIT},e.prototype.createPathProxy=function(){this.path=new Po(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,n=!t;if(n){var r=!1;this.path||(r=!0,this.createPathProxy());var o=this.path;(r||this.__dirty&e.SHAPE_CHANGED_BIT)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var a=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){a.copy(t);var s=i.strokeNoScale?this.getLineScale():1,l=i.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;l=Math.max(l,null==u?4:u)}s>1e-10&&(a.width+=l/s,a.height+=l/s,a.x-=l/s/2,a.y-=l/s/2)}return a}return t},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),r=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,i,n){return Uo(t,e,!0,i,n)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,i){return Uo(t,0,!1,e,i)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=e.SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,i){"shape"===e?this.setShape(i):t.prototype.attrKV.call(this,e,i)},e.prototype.setShape=function(t,e){var i=this.shape;return i||(i=this.shape={}),"string"==typeof t?i[t]=e:D(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&e.SHAPE_CHANGED_BIT)},e.prototype.createStyle=function(t){return lt(Go,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.shape&&!i.shape&&(i.shape=D({},this.shape))},e.prototype._applyStateObj=function(e,i,n,r,o,a){t.prototype._applyStateObj.call(this,e,i,n,r,o,a);var s,l=!(i&&r);if(i&&i.shape?o?r?s=i.shape:(s=D({},n.shape),D(s,i.shape)):(s=D({},r?this.shape:n.shape),D(s,i.shape)):l&&(s=n.shape),s)if(o){this.shape=D({},this.shape);for(var u={},h=z(s),c=0;c<h.length;c++){var d=h[c];"object"==typeof s[d]?this.shape[d]=s[d]:u[d]=s[d]}this._transitionState(e,{shape:u},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return Xo},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(e){function i(i){var n=e.call(this,i)||this;return t.init&&t.init.call(n,i),n}return a(i,e),i.prototype.getDefaultStyle=function(){return k(t.style)},i.prototype.getDefaultShape=function(){return k(t.shape)},i}(e);for(var n in t)"function"==typeof t[n]&&(i.prototype[n]=t[n]);return i},e.SHAPE_CHANGED_BIT=4,e.initDefaultProps=((i=e.prototype).type="path",i.strokeContainThreshold=5,i.segmentIgnoreThreshold=0,i.subPixelOptimize=!1,i.autoBatch=!1,void(i.__dirty=Ai.REDARAW_BIT|Ar.STYLE_CHANGED_BIT|e.SHAPE_CHANGED_BIT)),e}(Ar),Qo=M({strokeFirst:!0,font:"12px sans-serif",x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Go),Jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return lt(Qo,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var i=fi(e,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var n=t.lineWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Ar);Jo.prototype.type="tspan";var ta=Jo,ea=M({x:0,y:0},Cr),ia={style:M({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},kr.style)};var na=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.createStyle=function(t){return lt(ea,t)},e.prototype._getSize=function(t){var e=this.style,i=e[t];if(null!=i)return i;var n,r=(n=e.image)&&"string"!=typeof n&&n.width&&n.height?e.image:this.__image;if(!r)return 0;var o="width"===t?"height":"width",a=e[o];return null==a?r[t]:r[t]/r[o]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return ia},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new ui(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Ar);na.prototype.type="image";var ra=na;var oa=Math.round;function aa(t,e,i){if(e){var n=e.x1,r=e.x2,o=e.y1,a=e.y2;t.x1=n,t.x2=r,t.y1=o,t.y2=a;var s=i&&i.lineWidth;return s?(oa(2*n)===oa(2*r)&&(t.x1=t.x2=la(n,s,!0)),oa(2*o)===oa(2*a)&&(t.y1=t.y2=la(o,s,!0)),t):t}}function sa(t,e,i){if(e){var n=e.x,r=e.y,o=e.width,a=e.height;t.x=n,t.y=r,t.width=o,t.height=a;var s=i&&i.lineWidth;return s?(t.x=la(n,s,!0),t.y=la(r,s,!0),t.width=Math.max(la(n+o,s,!1)-t.x,0===o?0:1),t.height=Math.max(la(r+a,s,!1)-t.y,0===a?0:1),t):t}}function la(t,e,i){if(!e)return t;var n=oa(2*t);return(n+oa(e))%2==0?n/2:(n+(i?1:-1))/2}var ua=function(){this.x=0,this.y=0,this.width=0,this.height=0},ha={},ca=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultShape=function(){return new ua},e.prototype.buildPath=function(t,e){var i,n,r,o;if(this.subPixelOptimize){var a=sa(ha,e,this.style);i=a.x,n=a.y,r=a.width,o=a.height,a.r=e.r,e=a}else i=e.x,n=e.y,r=e.width,o=e.height;e.r?function(t,e){var i,n,r,o,a,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u<0&&(s+=u,u=-u),h<0&&(l+=h,h=-h),"number"==typeof c?i=n=r=o=c:c instanceof Array?1===c.length?i=n=r=o=c[0]:2===c.length?(i=r=c[0],n=o=c[1]):3===c.length?(i=c[0],n=o=c[1],r=c[2]):(i=c[0],n=c[1],r=c[2],o=c[3]):i=n=r=o=0,i+n>u&&(i*=u/(a=i+n),n*=u/a),r+o>u&&(r*=u/(a=r+o),o*=u/a),n+r>h&&(n*=h/(a=n+r),r*=h/a),i+o>h&&(i*=h/(a=i+o),o*=h/a),t.moveTo(s+i,l),t.lineTo(s+u-n,l),0!==n&&t.arc(s+u-n,l+n,n,-Math.PI/2,0),t.lineTo(s+u,l+h-r),0!==r&&t.arc(s+u-r,l+h-r,r,0,Math.PI/2),t.lineTo(s+o,l+h),0!==o&&t.arc(s+o,l+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+i),0!==i&&t.arc(s+i,l+i,i,Math.PI,1.5*Math.PI)}(t,e):t.rect(i,n,r,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Ko);ca.prototype.type="rect";var da=ca,pa={fill:"#000"},fa={style:M({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},kr.style)},ga=function(t){function e(e){var i=t.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=pa,i.attr(e),i}return a(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}var n=this.attachedTransform;if(n){n.updateTransform();var r=n.transform;r?(this.transform=this.transform||[],oe(this.transform,r)):this.transform=null}else t.prototype.update.call(this)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),this.attachedTransform?this.attachedTransform.getComputedTransform():t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,ya(t=this.style),L(t.rich,ya),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new ui(0,0,0,0),e=this._children,i=[],n=null,r=0;r<e.length;r++){var o=e[r],a=o.getBoundingRect(),s=o.getLocalTransform(i);s?(t.copy(a),t.applyTransform(s),(n=n||t.clone()).union(t)):(n=n||a.clone()).union(a)}this._rect=n||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||pa},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var i=e.rich,n=t.rich||i&&{};return D(t,e),i&&n?(this._mergeRich(n,i),t.rich=n):n&&(t.rich=n),t},e.prototype._mergeRich=function(t,e){for(var i=z(e),n=0;n<i.length;n++){var r=i[n];t[r]=t[r]||{},D(t[r],e[r])}},e.prototype.getAnimationStyleProps=function(){return fa},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||"12px sans-serif",i=t.padding,n=function(t,e){null!=t&&(t+="");var i,n=e.overflow,r=e.padding,o=e.font,a="truncate"===n,s=vi(o),l=Q(e.lineHeight,s),u="truncate"===e.lineOverflow,h=e.width,c=(i=null!=h&&"break"===n||"breakAll"===n?t?wr(t,e.font,h,"breakAll"===n,0).lines:[]:t?t.split("\n"):[]).length*l,d=Q(e.height,c);if(c>d&&u){var p=Math.floor(d/l);i=i.slice(0,p)}var f=d,g=h;if(r&&(f+=r[0]+r[2],null!=g&&(g+=r[1]+r[3])),t&&a&&null!=g)for(var m=pr(h,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),v=0;v<i.length;v++)i[v]=fr(i[v],m);if(null==h){var y=0;for(v=0;v<i.length;v++)y=Math.max(di(i[v],o),y);h=y}return{lines:i,height:d,outerHeight:f,lineHeight:l,calculatedLineHeight:s,contentHeight:c,width:h}}(xa(t),t),r=wa(t),o=!!t.backgroundColor,a=n.outerHeight,s=n.lines,l=n.lineHeight,u=this._defaultStyle,h=t.x||0,c=t.y||0,d=t.align||u.align||"left",p=t.verticalAlign||u.verticalAlign||"top",f=h,g=mi(c,n.contentHeight,p);if(r||i){var m=n.width;i&&(m+=i[1]+i[3]);var v=gi(h,m,d),y=mi(c,a,p);r&&this._renderBackground(t,t,v,y,m,a)}g+=l/2,i&&(f=ba(h,d,i),"top"===p?g+=i[0]:"bottom"===p&&(g-=i[2]));for(var _,b=0,x=!1,w=(null==(_="fill"in t?t.fill:(x=!0,u.fill))||"none"===_?null:_.image||_.colorStops?"#000":_),S=(_a("stroke"in t?t.stroke:o||u.autoStroke&&!x?null:(b=2,u.stroke))),C=t.textShadowBlur>0,k=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),T=n.calculatedLineHeight,D=0;D<s.length;D++){var M=this._getOrCreateChild(ta),I=M.createStyle();M.useStyle(I),I.text=s[D],I.x=f,I.y=g,d&&(I.textAlign=d),I.textBaseline="middle",I.opacity=t.opacity,I.strokeFirst=!0,C&&(I.shadowBlur=t.textShadowBlur||0,I.shadowColor=t.textShadowColor||"transparent",I.shadowOffsetX=t.textShadowOffsetX||0,I.shadowOffsetY=t.textShadowOffsetY||0),S&&(I.stroke=S,I.lineWidth=t.lineWidth||b,I.lineDash=t.lineDash,I.lineDashOffset=t.lineDashOffset||0),w&&(I.fill=w),I.font=e,g+=l,k&&M.setBoundingRect(new ui(gi(I.x,t.width,I.textAlign),mi(I.y,T,I.textBaseline),t.width,T))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var i=new yr;if(null!=t&&(t+=""),!t)return i;for(var n,r=e.width,o=e.height,a=e.overflow,s="break"!==a&&"breakAll"!==a||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===a},l=cr.lastIndex=0;null!=(n=cr.exec(t));){var u=n.index;u>l&&_r(i,t.substring(l,u),e,s),_r(i,n[2],e,s,n[1]),l=cr.lastIndex}l<t.length&&_r(i,t.substring(l,t.length),e,s);var h=[],c=0,d=0,p=e.padding,f="truncate"===a,g="truncate"===e.lineOverflow;function m(t,e,i){t.width=e,t.lineHeight=i,c+=i,d=Math.max(d,e)}t:for(var v=0;v<i.lines.length;v++){for(var y=i.lines[v],_=0,b=0,x=0;x<y.tokens.length;x++){var w=(O=y.tokens[x]).styleName&&e.rich[O.styleName]||{},S=O.textPadding=w.padding,C=S?S[1]+S[3]:0,k=O.font=w.font||e.font;O.contentHeight=vi(k);var T=Q(w.height,O.contentHeight);if(O.innerHeight=T,S&&(T+=S[0]+S[2]),O.height=T,O.lineHeight=J(w.lineHeight,e.lineHeight,T),O.align=w&&w.align||e.align,O.verticalAlign=w&&w.verticalAlign||"middle",g&&null!=o&&c+O.lineHeight>o){x>0?(y.tokens=y.tokens.slice(0,x),m(y,b,_),i.lines=i.lines.slice(0,v+1)):i.lines=i.lines.slice(0,v);break t}var D=w.width,M=null==D||"auto"===D;if("string"==typeof D&&"%"===D.charAt(D.length-1))O.percentWidth=D,h.push(O),O.contentWidth=di(O.text,k);else{if(M){var I=w.backgroundColor,A=I&&I.image;A&&hr(A=sr(A))&&(O.width=Math.max(O.width,A.width*T/A.height))}var P=f&&null!=r?r-b:null;null!=P&&P<O.width?!M||P<C?(O.text="",O.width=O.contentWidth=0):(O.text=dr(O.text,P-C,k,e.ellipsis,{minChar:e.truncateMinChar}),O.width=O.contentWidth=di(O.text,k)):O.contentWidth=di(O.text,k)}O.width+=C,b+=O.width,w&&(_=Math.max(_,O.lineHeight)),O}m(y,b,_)}for(i.outerWidth=i.width=Q(r,d),i.outerHeight=i.height=Q(o,c),i.contentHeight=c,i.contentWidth=d,p&&(i.outerWidth+=p[1]+p[3],i.outerHeight+=p[0]+p[2]),v=0;v<h.length;v++){var O,L=(O=h[v]).percentWidth;O.width=parseInt(L,10)/100*i.width}return i}(xa(t),t),i=e.width,n=e.outerWidth,r=e.outerHeight,o=t.padding,a=t.x||0,s=t.y||0,l=this._defaultStyle,u=t.align||l.align,h=t.verticalAlign||l.verticalAlign,c=gi(a,n,u),d=mi(s,r,h),p=c,f=d;o&&(p+=o[3],f+=o[0]);var g=p+i;wa(t)&&this._renderBackground(t,t,c,d,n,r);for(var m=!!t.backgroundColor,v=0;v<e.lines.length;v++){for(var y=e.lines[v],_=y.tokens,b=_.length,x=y.lineHeight,w=y.width,S=0,C=p,k=g,T=b-1,D=void 0;S<b&&(!(D=_[S]).align||"left"===D.align);)this._placeToken(D,t,x,f,C,"left",m),w-=D.width,C+=D.width,S++;for(;T>=0&&"right"===(D=_[T]).align;)this._placeToken(D,t,x,f,k,"right",m),w-=D.width,k-=D.width,T--;for(C+=(i-(C-p)-(g-k)-w)/2;S<=T;)D=_[S],this._placeToken(D,t,x,f,C+D.width/2,"center",m),C+=D.width,S++;f+=x}},e.prototype._placeToken=function(t,e,i,n,r,o,a){var s=e.rich[t.styleName]||{};s.text=t.text;var l=t.verticalAlign,u=n+i/2;"top"===l?u=n+t.height/2:"bottom"===l&&(u=n+i-t.height/2),!t.isLineHolder&&wa(s)&&this._renderBackground(s,e,"right"===o?r-t.width:"center"===o?r-t.width/2:r,u-t.height/2,t.width,t.height);var h=!!s.backgroundColor,c=t.textPadding;c&&(r=ba(r,o,c),u-=t.height/2-c[0]-t.innerHeight/2);var d=this._getOrCreateChild(ta),p=d.createStyle();d.useStyle(p);var f=this._defaultStyle,g=!1,m=0,v=_a("fill"in s?s.fill:"fill"in e?e.fill:(g=!0,f.fill)),y=_a("stroke"in s?s.stroke:"stroke"in e?e.stroke:h||a||f.autoStroke&&!g?null:(m=2,f.stroke)),_=s.textShadowBlur>0||e.textShadowBlur>0;p.text=t.text,p.x=r,p.y=u,_&&(p.shadowBlur=s.textShadowBlur||e.textShadowBlur||0,p.shadowColor=s.textShadowColor||e.textShadowColor||"transparent",p.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0,p.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0),p.textAlign=o,p.textBaseline="middle",p.font=t.font||"12px sans-serif",p.opacity=J(s.opacity,e.opacity,1),y&&(p.lineWidth=J(s.lineWidth,e.lineWidth,m),p.lineDash=Q(s.lineDash,e.lineDash),p.lineDashOffset=e.lineDashOffset||0,p.stroke=y),v&&(p.fill=v);var b=t.contentWidth,x=t.contentHeight;d.setBoundingRect(new ui(gi(p.x,b,p.textAlign),mi(p.y,x,p.textBaseline),b,x))},e.prototype._renderBackground=function(t,e,i,n,r,o){var a,s,l,u=t.backgroundColor,h=t.borderWidth,c=t.borderColor,d=V(u),p=t.borderRadius,f=this;if(d||h&&c){(a=this._getOrCreateChild(da)).useStyle(a.createStyle()),a.style.fill=null;var g=a.shape;g.x=i,g.y=n,g.width=r,g.height=o,g.r=p,a.dirtyShape()}if(d)(l=a.style).fill=u||null,l.fillOpacity=Q(t.fillOpacity,1);else if(u&&u.image){(s=this._getOrCreateChild(ra)).onload=function(){f.dirtyStyle()};var m=s.style;m.image=u.image,m.x=i,m.y=n,m.width=r,m.height=o}h&&c&&((l=a.style).lineWidth=h,l.stroke=c,l.strokeOpacity=Q(t.strokeOpacity,1),l.lineDash=t.borderDash,l.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(l.strokeFirst=!0,l.lineWidth*=2));var v=(a||s).style;v.shadowBlur=t.shadowBlur||0,v.shadowColor=t.shadowColor||"transparent",v.shadowOffsetX=t.shadowOffsetX||0,v.shadowOffsetY=t.shadowOffsetY||0,v.opacity=J(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";if(t.fontSize||t.fontFamily||t.fontWeight){var i="";i="string"!=typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,e=[t.fontStyle,t.fontWeight,i,t.fontFamily||"sans-serif"].join(" ")}return e&&nt(e)||t.textFont||t.font},e}(Ar),ma={left:!0,right:1,center:1},va={top:1,bottom:1,middle:1};function ya(t){if(t){t.font=ga.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||ma[e]?e:"left";var i=t.verticalAlign;"center"===i&&(i="middle"),t.verticalAlign=null==i||va[i]?i:"top",t.padding&&(t.padding=et(t.padding))}}function _a(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function ba(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function xa(t){var e=t.text;return null!=e&&(e+=""),e}function wa(t){return!!(t.backgroundColor||t.borderWidth&&t.borderColor)}var Sa=ga,Ca=Wn(),ka=1,Ta={},Da=Wn(),Ma=["emphasis","blur","select"],Ia=["normal","emphasis","blur","select"];function Aa(t){return null!=t&&"none"!==t}var Pa=new we(100);function Oa(t){if("string"!=typeof t)return t;var e=Pa.get(t);return e||(e=function(t,e){var i=Ee(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,i[n]>255?i[n]=255:i[n]<0&&(i[n]=0);return Re(i,4===i.length?"rgba":"rgb")}}(t,-.1),Pa.put(t,e)),e}function La(t,e,i){t.onHoverStateChange&&(t.hoverState||0)!==i&&t.onHoverStateChange(e),t.hoverState=i}function Ea(t){La(t,"emphasis",2)}function Na(t){2===t.hoverState&&La(t,"normal",0)}function Ra(t){La(t,"blur",1)}function za(t){1===t.hoverState&&La(t,"normal",0)}function Ba(t){t.selected=!0}function Ha(t){t.selected=!1}function Fa(t,e,i){e(t,i)}function Wa(t,e,i){Fa(t,e,i),t.isGroup&&t.traverse((function(t){Fa(t,e,i)}))}function Va(t,e){var i=this.states[t];if(this.style){if("emphasis"===t)return function(t,e,i,n){var r=i&&A(i,"select")>=0,o=!1;if(t instanceof Ko){var a=Da(t),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(Aa(s)||Aa(l)){var u=(n=n||{}).style||{};!Aa(u.fill)&&Aa(s)?(o=!0,n=D({},n),(u=D({},u)).fill=Oa(s)):!Aa(u.stroke)&&Aa(l)&&(o||(n=D({},n),u=D({},u)),u.stroke=Oa(l)),n.style=u}}if(n&&null==n.z2){o||(n=D({},n));var h=t.z2EmphasisLift;n.z2=t.z2+(null!=h?h:10)}return n}(this,0,e,i);if("blur"===t)return function(t,e,i){var n=A(t.currentStates,e)>=0,r=t.style.opacity,o=n?null:function(t,e,i,n){for(var r=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=r[s];o[s]=null==l?n&&n[s]:l}for(a=0;a<t.animators.length;a++){var u=t.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(i)<0&&"style"===u.targetName&&u.saveFinalToTarget(o,e)}return o}(t,["opacity"],e,{opacity:1}),a=(i=i||{}).style||{};return null==a.opacity&&(i=D({},i),a=D({opacity:n?r:.1*o.opacity},a),i.style=a),i}(this,t,i);if("select"===t)return function(t,e,i){if(i&&null==i.z2){i=D({},i);var n=t.z2SelectLift;i.z2=t.z2+(null!=n?n:9)}return i}(this,0,i)}return i}function ja(t){t.stateProxy=Va;var e=t.getTextContent(),i=t.getTextGuideLine();e&&(e.stateProxy=Va),i&&(i.stateProxy=Va)}function qa(t,e){t.__highByOuter|=1<<(e||0),Wa(t,Ea)}function $a(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Wa(t,Na)}function Ya(t){Wa(t,za)}function Ua(t){Wa(t,Ba)}function Ga(t){Wa(t,Ha)}function Xa(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Za(t,e,i,n,r){var o=n.getModel();function a(t,e){for(var i=0;i<e.length;i++){var n=t.getItemGraphicEl(e[i]);n&&Ya(n)}}if(i=i||"coordinateSystem",r){if(null!=t&&e&&"none"!==e){var s=o.getSeriesByIndex(t),l=s.coordinateSystem;l&&l.master&&(l=l.master);var u=[];o.eachSeries((function(t){var r=s===t,o=t.coordinateSystem;if(o&&o.master&&(o=o.master),!("series"===i&&!r||"coordinateSystem"===i&&!(o&&l?o===l:r)||"series"===e&&r)){if(n.getViewOfSeriesModel(t).group.traverse((function(t){Ra(t)})),O(e))a(t.getData(),e);else if(Y(e))for(var h=z(e),c=0;c<h.length;c++)a(t.getData(h[c]),e[h[c]]);u.push(t)}})),o.eachComponent((function(t,e){if("series"!==t){var i=n.getViewOfComponentModel(e);i&&i.blurSeries&&i.blurSeries(u,o)}}))}}else!function(t){t.getModel().eachComponent((function(e,i){("series"===e?t.getViewOfSeriesModel(i):t.getViewOfComponentModel(i)).group.traverse((function(t){za(t)}))}))}(n)}function Ka(t){L(t.getAllData(),(function(e){var i=e.data,n=e.type;i.eachItemGraphicEl((function(e,i){t.isSelected(i,n)?Ua(e):Ga(e)}))}))}function Qa(t){var e=[];return t.eachSeries((function(t){L(t.getAllData(),(function(i){i.data;var n=i.type,r=t.getSelectedDataIndices();if(r.length>0){var o={dataIndex:r,seriesIndex:t.seriesIndex};null!=n&&(o.dataType=n),e.push(o)}}))})),e}function Ja(t,e,i){!function(t,e){var i=!1===e,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch);i&&!n.__highDownDispatcher||(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!i)}(t,!0),Wa(t,ja),function(t,e,i){var n=Ca(t);null!=e?(n.focus=e,n.blurScope=i):n.focus&&(n.focus=null)}(t,e,i)}function ts(t){return!(!t||!t.__highDownDispatcher)}function es(t){var e=t.type;return"select"===e||"unselect"===e||"toggleSelect"===e}function is(t){var e=t.type;return"highlight"===e||"downplay"===e}var ns=Po.CMD,rs=[[],[],[]],os=Math.sqrt,as=Math.atan2;var ss=Math.sqrt,ls=Math.sin,us=Math.cos,hs=Math.PI;function cs(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ds(t,e){return(t[0]*e[0]+t[1]*e[1])/(cs(t)*cs(e))}function ps(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ds(t,e))}function fs(t,e,i,n,r,o,a,s,l,u,h){var c=l*(hs/180),d=us(c)*(t-i)/2+ls(c)*(e-n)/2,p=-1*ls(c)*(t-i)/2+us(c)*(e-n)/2,f=d*d/(a*a)+p*p/(s*s);f>1&&(a*=ss(f),s*=ss(f));var g=(r===o?-1:1)*ss((a*a*(s*s)-a*a*(p*p)-s*s*(d*d))/(a*a*(p*p)+s*s*(d*d)))||0,m=g*a*p/s,v=g*-s*d/a,y=(t+i)/2+us(c)*m-ls(c)*v,_=(e+n)/2+ls(c)*m+us(c)*v,b=ps([1,0],[(d-m)/a,(p-v)/s]),x=[(d-m)/a,(p-v)/s],w=[(-1*d-m)/a,(-1*p-v)/s],S=ps(x,w);if(ds(x,w)<=-1&&(S=hs),ds(x,w)>=1&&(S=0),S<0){var C=Math.round(S/hs*1e6)/1e6;S=2*hs+C%2*hs}h.addData(u,y,_,a,s,b,S,c,o)}var gs=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,ms=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.applyTransform=function(t){},e}(Ko);function ys(t){return null!=t.setData}function _s(t,e){var i=function(t){var e=new Po;if(!t)return e;var i,n=0,r=0,o=n,a=r,s=Po.CMD,l=t.match(gs);if(!l)return e;for(var u=0;u<l.length;u++){for(var h=l[u],c=h.charAt(0),d=void 0,p=h.match(ms)||[],f=p.length,g=0;g<f;g++)p[g]=parseFloat(p[g]);for(var m=0;m<f;){var v=void 0,y=void 0,_=void 0,b=void 0,x=void 0,w=void 0,S=void 0,C=n,k=r,T=void 0,D=void 0;switch(c){case"l":n+=p[m++],r+=p[m++],d=s.L,e.addData(d,n,r);break;case"L":n=p[m++],r=p[m++],d=s.L,e.addData(d,n,r);break;case"m":n+=p[m++],r+=p[m++],d=s.M,e.addData(d,n,r),o=n,a=r,c="l";break;case"M":n=p[m++],r=p[m++],d=s.M,e.addData(d,n,r),o=n,a=r,c="L";break;case"h":n+=p[m++],d=s.L,e.addData(d,n,r);break;case"H":n=p[m++],d=s.L,e.addData(d,n,r);break;case"v":r+=p[m++],d=s.L,e.addData(d,n,r);break;case"V":r=p[m++],d=s.L,e.addData(d,n,r);break;case"C":d=s.C,e.addData(d,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),n=p[m-2],r=p[m-1];break;case"c":d=s.C,e.addData(d,p[m++]+n,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n,p[m++]+r),n+=p[m-2],r+=p[m-1];break;case"S":v=n,y=r,T=e.len(),D=e.data,i===s.C&&(v+=n-D[T-4],y+=r-D[T-3]),d=s.C,C=p[m++],k=p[m++],n=p[m++],r=p[m++],e.addData(d,v,y,C,k,n,r);break;case"s":v=n,y=r,T=e.len(),D=e.data,i===s.C&&(v+=n-D[T-4],y+=r-D[T-3]),d=s.C,C=n+p[m++],k=r+p[m++],n+=p[m++],r+=p[m++],e.addData(d,v,y,C,k,n,r);break;case"Q":C=p[m++],k=p[m++],n=p[m++],r=p[m++],d=s.Q,e.addData(d,C,k,n,r);break;case"q":C=p[m++]+n,k=p[m++]+r,n+=p[m++],r+=p[m++],d=s.Q,e.addData(d,C,k,n,r);break;case"T":v=n,y=r,T=e.len(),D=e.data,i===s.Q&&(v+=n-D[T-4],y+=r-D[T-3]),n=p[m++],r=p[m++],d=s.Q,e.addData(d,v,y,n,r);break;case"t":v=n,y=r,T=e.len(),D=e.data,i===s.Q&&(v+=n-D[T-4],y+=r-D[T-3]),n+=p[m++],r+=p[m++],d=s.Q,e.addData(d,v,y,n,r);break;case"A":_=p[m++],b=p[m++],x=p[m++],w=p[m++],S=p[m++],fs(C=n,k=r,n=p[m++],r=p[m++],w,S,_,b,x,d=s.A,e);break;case"a":_=p[m++],b=p[m++],x=p[m++],w=p[m++],S=p[m++],fs(C=n,k=r,n+=p[m++],r+=p[m++],w,S,_,b,x,d=s.A,e)}}"z"!==c&&"Z"!==c||(d=s.Z,e.addData(d),n=o,r=a),i=d}return e.toStatic(),e}(t),n=D({},e);return n.buildPath=function(t){if(ys(t)){t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e,1)}else{var e=t;i.rebuildPath(e,1)}},n.applyTransform=function(t){!function(t,e){var i,n,r,o,a,s,l=t.data,u=t.len(),h=ns.M,c=ns.C,d=ns.L,p=ns.R,f=ns.A,g=ns.Q;for(r=0,o=0;r<u;){switch(i=l[r++],o=r,n=0,i){case h:case d:n=1;break;case c:n=3;break;case g:n=2;break;case f:var m=e[4],v=e[5],y=os(e[0]*e[0]+e[1]*e[1]),_=os(e[2]*e[2]+e[3]*e[3]),b=as(-e[1]/_,e[0]/y);l[r]*=y,l[r++]+=m,l[r]*=_,l[r++]+=v,l[r++]*=y,l[r++]*=_,l[r++]+=b,l[r++]+=b,o=r+=2;break;case p:s[0]=l[r++],s[1]=l[r++],kt(s,s,e),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],kt(s,s,e),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<n;a++){var x=rs[a];x[0]=l[r++],x[1]=l[r++],kt(x,x,e),l[o++]=x[0],l[o++]=x[1]}}t.increaseVersion()}(i,t),this.dirtyShape()},n}var bs=function(){this.cx=0,this.cy=0,this.r=0},xs=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultShape=function(){return new bs},e.prototype.buildPath=function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(Ko);xs.prototype.type="circle";var ws=xs,Ss=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Cs=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultShape=function(){return new Ss},e.prototype.buildPath=function(t,e){var i=.5522848,n=e.cx,r=e.cy,o=e.rx,a=e.ry,s=o*i,l=a*i;t.moveTo(n-o,r),t.bezierCurveTo(n-o,r-l,n-s,r-a,n,r-a),t.bezierCurveTo(n+s,r-a,n+o,r-l,n+o,r),t.bezierCurveTo(n+o,r+l,n+s,r+a,n,r+a),t.bezierCurveTo(n-s,r+a,n-o,r+l,n-o,r),t.closePath()},e}(Ko);Cs.prototype.type="ellipse";var ks=Cs,Ts=Math.PI,Ds=2*Ts,Ms=Math.sin,Is=Math.cos,As=Math.acos,Ps=Math.atan2,Os=Math.abs,Ls=Math.sqrt,Es=Math.max,Ns=Math.min;function Rs(t,e,i,n,r,o,a){var s=t-i,l=e-n,u=(a?o:-o)/Ls(s*s+l*l),h=u*l,c=-u*s,d=t+h,p=e+c,f=i+h,g=n+c,m=(d+f)/2,v=(p+g)/2,y=f-d,_=g-p,b=y*y+_*_,x=r-o,w=d*g-f*p,S=(_<0?-1:1)*Ls(Es(0,x*x*b-w*w)),C=(w*_-y*S)/b,k=(-w*y-_*S)/b,T=(w*_+y*S)/b,D=(-w*y+_*S)/b,M=C-m,I=k-v,A=T-m,P=D-v;return M*M+I*I>A*A+P*P&&(C=T,k=D),{cx:C,cy:k,x01:-h,y01:-c,x11:C*(r/x-1),y11:k*(r/x-1)}}var zs=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},Bs=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultShape=function(){return new zs},e.prototype.buildPath=function(t,e){!function(t,e){var i=Es(e.r,0),n=Es(e.r0||0,0),r=i>0;if(r||n>0){if(r||(i=n,n=0),n>i){var o=i;i=n,n=o}var a,s=!!e.clockwise,l=e.startAngle,u=e.endAngle;if(l===u)a=0;else{var h=[l,u];Ao(h,!s),a=Os(h[0]-h[1])}var c=e.cx,d=e.cy,p=e.cornerRadius||0,f=e.innerCornerRadius||0;if(i>1e-4)if(a>Ds-1e-4)t.moveTo(c+i*Is(l),d+i*Ms(l)),t.arc(c,d,i,l,u,!s),n>1e-4&&(t.moveTo(c+n*Is(u),d+n*Ms(u)),t.arc(c,d,n,u,l,s));else{var g=Os(i-n)/2,m=Ns(g,p),v=Ns(g,f),y=v,_=m,b=i*Is(l),x=i*Ms(l),w=n*Is(u),S=n*Ms(u),C=void 0,k=void 0,T=void 0,D=void 0;if((m>1e-4||v>1e-4)&&(C=i*Is(u),k=i*Ms(u),T=n*Is(l),D=n*Ms(l),a<Ts)){var M=function(t,e,i,n,r,o,a,s){var l=i-t,u=n-e,h=a-r,c=s-o,d=c*l-h*u;if(!(d*d<1e-4))return[t+(d=(h*(e-o)-c*(t-r))/d)*l,e+d*u]}(b,x,T,D,C,k,w,S);if(M){var I=b-M[0],A=x-M[1],P=C-M[0],O=k-M[1],L=1/Ms(As((I*P+A*O)/(Ls(I*I+A*A)*Ls(P*P+O*O)))/2),E=Ls(M[0]*M[0]+M[1]*M[1]);y=Ns(v,(n-E)/(L-1)),_=Ns(m,(i-E)/(L+1))}}if(a>1e-4)if(_>1e-4){var N=Rs(T,D,b,x,i,_,s),R=Rs(C,k,w,S,i,_,s);t.moveTo(c+N.cx+N.x01,d+N.cy+N.y01),_<m?t.arc(c+N.cx,d+N.cy,_,Ps(N.y01,N.x01),Ps(R.y01,R.x01),!s):(t.arc(c+N.cx,d+N.cy,_,Ps(N.y01,N.x01),Ps(N.y11,N.x11),!s),t.arc(c,d,i,Ps(N.cy+N.y11,N.cx+N.x11),Ps(R.cy+R.y11,R.cx+R.x11),!s),t.arc(c+R.cx,d+R.cy,_,Ps(R.y11,R.x11),Ps(R.y01,R.x01),!s))}else t.moveTo(c+b,d+x),t.arc(c,d,i,l,u,!s);else t.moveTo(c+b,d+x);if(n>1e-4&&a>1e-4)if(y>1e-4){N=Rs(w,S,C,k,n,-y,s),R=Rs(b,x,T,D,n,-y,s);t.lineTo(c+N.cx+N.x01,d+N.cy+N.y01),y<v?t.arc(c+N.cx,d+N.cy,y,Ps(N.y01,N.x01),Ps(R.y01,R.x01),!s):(t.arc(c+N.cx,d+N.cy,y,Ps(N.y01,N.x01),Ps(N.y11,N.x11),!s),t.arc(c,d,n,Ps(N.cy+N.y11,N.cx+N.x11),Ps(R.cy+R.y11,R.cx+R.x11),s),t.arc(c+R.cx,d+R.cy,y,Ps(R.y11,R.x11),Ps(R.y01,R.x01),!s))}else t.lineTo(c+w,d+S),t.arc(c,d,n,u,l,s);else t.lineTo(c+w,d+S)}else t.moveTo(c,d);t.closePath()}}(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Ko);Bs.prototype.type="sector";var Hs=Bs,Fs=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Ws=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultShape=function(){return new Fs},e.prototype.buildPath=function(t,e){var i=e.cx,n=e.cy,r=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,r,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,r,!0)},e}(Ko);Ws.prototype.type="ring";var Vs=Ws;function js(t,e,i,n,r,o,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*r+e}function qs(t,e,i){var n=e.smooth,r=e.points;if(r&&r.length>=2){if(n&&"spline"!==n){var o=function(t,e,i,n){var r,o,a,s,l=[],u=[],h=[],c=[];if(n){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,p=t.length;d<p;d++)Tt(a,a,t[d]),Dt(s,s,t[d]);Tt(a,a,n[0]),Dt(s,s,n[1])}for(d=0,p=t.length;d<p;d++){var f=t[d];if(i)r=t[d?d-1:p-1],o=t[(d+1)%p];else{if(0===d||d===p-1){l.push(pt(t[d]));continue}r=t[d-1],o=t[d+1]}mt(u,o,r),_t(u,u,e);var g=xt(f,r),m=xt(f,o),v=g+m;0!==v&&(g/=v,m/=v),_t(h,u,-g),_t(c,u,m);var y=ft([],f,h),_=ft([],f,c);n&&(Dt(y,y,a),Tt(y,y,s),Dt(_,_,a),Tt(_,_,s)),l.push(y),l.push(_)}return i&&l.push(l.shift()),l}(r,n,i,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(i?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===n&&(r=function(t,e){for(var i=t.length,n=[],r=0,o=1;o<i;o++)r+=xt(t[o-1],t[o]);var a=r/2;for(a=a<i?i:a,o=0;o<a;o++){var s=o/(a-1)*(e?i:i-1),l=Math.floor(s),u=s-l,h=void 0,c=t[l%i],d=void 0,p=void 0;e?(h=t[(l-1+i)%i],d=t[(l+1)%i],p=t[(l+2)%i]):(h=t[0===l?l:l-1],d=t[l>i-2?i-1:l+1],p=t[l>i-3?i-1:l+2]);var f=u*u,g=u*f;n.push([js(h[0],c[0],d[0],p[0],u,f,g),js(h[1],c[1],d[1],p[1],u,f,g)])}return n}(r,i)),t.moveTo(r[0][0],r[0][1]);s=1;for(var c=r.length;s<c;s++)t.lineTo(r[s][0],r[s][1])}i&&t.closePath()}}var $s=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Ys=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultShape=function(){return new $s},e.prototype.buildPath=function(t,e){qs(t,e,!0)},e}(Ko);Ys.prototype.type="polygon";var Us=Ys,Gs=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Xs=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Gs},e.prototype.buildPath=function(t,e){qs(t,e,!1)},e}(Ko);Xs.prototype.type="polyline";var Zs=Xs,Ks={},Qs=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Js=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Qs},e.prototype.buildPath=function(t,e){var i,n,r,o;if(this.subPixelOptimize){var a=aa(Ks,e,this.style);i=a.x1,n=a.y1,r=a.x2,o=a.y2}else i=e.x1,n=e.y1,r=e.x2,o=e.y2;var s=e.percent;0!==s&&(t.moveTo(i,n),s<1&&(r=i*(1-s)+r*s,o=n*(1-s)+o*s),t.lineTo(r,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(Ko);Js.prototype.type="line";var tl=Js,el=[],il=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function nl(t,e,i){var n=t.cpx2,r=t.cpy2;return null===n||null===r?[(i?Fr:Hr)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?Fr:Hr)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?Yr:$r)(t.x1,t.cpx1,t.x2,e),(i?Yr:$r)(t.y1,t.cpy1,t.y2,e)]}var rl=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new il},e.prototype.buildPath=function(t,e){var i=e.x1,n=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(i,n),null==l||null==u?(h<1&&(Gr(i,a,r,h,el),a=el[1],r=el[2],Gr(n,s,o,h,el),s=el[1],o=el[2]),t.quadraticCurveTo(a,s,r,o)):(h<1&&(Vr(i,a,l,r,h,el),a=el[1],l=el[2],r=el[3],Vr(n,s,u,o,h,el),s=el[1],u=el[2],o=el[3]),t.bezierCurveTo(a,s,l,u,r,o)))},e.prototype.pointAt=function(t){return nl(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=nl(this.shape,t,!0);return bt(e,e)},e}(Ko);rl.prototype.type="bezier-curve";var ol=rl,al=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},sl=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new al},e.prototype.buildPath=function(t,e){var i=e.cx,n=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*r+i,u*r+n),t.arc(i,n,r,o,a,!s)},e}(Ko);sl.prototype.type="arc";var ll=sl,ul=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return a(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),i=0;i<t.length;i++)e=e||t[i].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ko.prototype.getBoundingRect.call(this)},e}(Ko),hl=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}(),cl=function(t){function e(e,i,n,r,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==i?0:i,s.x2=null==n?1:n,s.y2=null==r?0:r,s.type="linear",s.global=a||!1,s}return a(e,t),e}(hl),dl=function(t){function e(e,i,n,r,o){var a=t.call(this,r)||this;return a.x=null==e?.5:e,a.y=null==i?.5:i,a.r=null==n?.5:n,a.type="radial",a.global=o||!1,a}return a(e,t),e}(hl),pl=[0,0],fl=[0,0],gl=new ti,ml=new ti,vl=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new ti;for(i=0;i<2;i++)this._axes[i]=new ti;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var i=this._corners,n=this._axes,r=t.x,o=t.y,a=r+t.width,s=o+t.height;if(i[0].set(r,o),i[1].set(a,o),i[2].set(a,s),i[3].set(r,s),e)for(var l=0;l<4;l++)i[l].transform(e);ti.sub(n[0],i[1],i[0]),ti.sub(n[1],i[3],i[0]),n[0].normalize(),n[1].normalize();for(l=0;l<2;l++)this._origin[l]=n[l].dot(i[0])},t.prototype.intersect=function(t,e){var i=!0,n=!e;return gl.set(1/0,1/0),ml.set(0,0),!this._intersectCheckOneSide(this,t,gl,ml,n,1)&&(i=!1,n)||!this._intersectCheckOneSide(t,this,gl,ml,n,-1)&&(i=!1,n)||n||ti.copy(e,i?gl:ml),i},t.prototype._intersectCheckOneSide=function(t,e,i,n,r,o){for(var a=!0,s=0;s<2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,t._corners,pl),this._getProjMinMaxOnAxis(s,e._corners,fl),pl[1]<fl[0]||pl[0]>fl[1]){if(a=!1,r)return a;var u=Math.abs(fl[0]-pl[1]),h=Math.abs(pl[0]-fl[1]);Math.min(u,h)>n.len()&&(u<h?ti.scale(n,l,-u*o):ti.scale(n,l,h*o))}else if(i){u=Math.abs(fl[0]-pl[1]),h=Math.abs(pl[0]-fl[1]);Math.min(u,h)<i.len()&&(u<h?ti.scale(i,l,u*o):ti.scale(i,l,-h*o))}}return a},t.prototype._getProjMinMaxOnAxis=function(t,e,i){for(var n=this._axes[t],r=this._origin,o=e[0].dot(n)+r[t],a=o,s=o,l=1;l<e.length;l++){var u=e[l].dot(n)+r[t];a=Math.min(u,a),s=Math.max(u,s)}i[0]=a,i[1]=s},t}(),yl=[],_l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return a(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new ui(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(yl)),t.union(n)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++){if(this._displayables[n].contain(t,e))return!0}return!1},e}(Ar),bl=Math.max,xl=Math.min,wl={};function Sl(t){return Ko.extend(t)}var Cl=function(t,e){var i=_s(t,e);return function(t){function e(e){var n=t.call(this,e)||this;return n.applyTransform=i.applyTransform,n.buildPath=i.buildPath,n}return a(e,t),e}(vs)};function kl(t,e){return Cl(t,e)}function Tl(t,e){wl[t]=e}function Dl(t){if(wl.hasOwnProperty(t))return wl[t]}function Ml(t,e,i,n){var r=function(t,e){return new vs(_s(t,e))}(t,e);return i&&("center"===n&&(i=Al(i,r.getBoundingRect())),Ol(r,i)),r}function Il(t,e,i){var n=new ra({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===i){var r={width:t.width,height:t.height};n.setStyle(Al(e,r))}}});return n}function Al(t,e){var i,n=e.width/e.height,r=t.height*n;return i=r<=t.width?t.height:(r=t.width)/n,{x:t.x+t.width/2-r/2,y:t.y+t.height/2-i/2,width:r,height:i}}var Pl=function(t,e){for(var i=[],n=t.length,r=0;r<n;r++){var o=t[r];o.path||o.createPathProxy(),o.shapeChanged()&&o.buildPath(o.path,o.shape,!0),i.push(o.path)}var a=new Ko(e);return a.createPathProxy(),a.buildPath=function(t){if(ys(t)){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e,1)}},a};function Ol(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}}function Ll(t){return aa(t.shape,t.shape,t.style),t}function El(t){return sa(t.shape,t.shape,t.style),t}var Nl=la;function Rl(t,e,i,n,r,o,a){var s,l=!1;"function"==typeof r?(a=o,o=r,r=null):Y(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u,h="update"===t,c="remove"===t;if(n&&n.ecModel){var d=n.ecModel.getUpdatePayload();u=d&&d.animation}var p=n&&n.isAnimationEnabled();if(c||e.stopAnimation("remove"),p){var f=void 0,g=void 0,m=void 0;u?(f=u.duration||0,g=u.easing||"cubicOut",m=u.delay||0):c?(f=Q((s=s||{}).duration,200),g=Q(s.easing,"cubicOut"),m=0):(f=n.getShallow(h?"animationDurationUpdate":"animationDuration"),g=n.getShallow(h?"animationEasingUpdate":"animationEasing"),m=n.getShallow(h?"animationDelayUpdate":"animationDelay")),"function"==typeof m&&(m=m(r,n.getAnimationDelayParams?n.getAnimationDelayParams(e,r):null)),"function"==typeof f&&(f=f(r)),f>0?l?e.animateFrom(i,{duration:f,delay:m||0,easing:g,done:o,force:!!o||!!a,scope:t,during:a}):e.animateTo(i,{duration:f,delay:m||0,easing:g,done:o,force:!!o||!!a,setToFinal:!0,scope:t,during:a}):(e.stopAnimation(),!l&&e.attr(i),o&&o())}else e.stopAnimation(),!l&&e.attr(i),a&&a(1),o&&o()}function zl(t,e,i,n,r,o){Rl("update",t,e,i,n,r,o)}function Bl(t,e,i,n,r,o){Rl("init",t,e,i,n,r,o)}function Hl(t,e,i,n,r,o){Vl(t)||Rl("remove",t,e,i,n,r,o)}function Fl(t,e,i,n){t.removeTextContent(),t.removeTextGuideLine(),Hl(t,{style:{opacity:0}},e,i,n)}function Wl(t,e,i){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||Fl(t,e,i,n)})):Fl(t,e,i,n)}function Vl(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){if("remove"===t.animators[e].scope)return!0}return!1}function jl(t,e){for(var i=re([]);t&&t!==e;)ae(i,t.getLocalTransform(),i),t=t.parent;return i}function ql(t,e,i){return e&&!O(e)&&(e=me.getLocalTransform(e)),i&&(e=ue([],e)),kt([],t,e)}function $l(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-n:"right"===t?n:0,"top"===t?-r:"bottom"===t?r:0];return o=ql(o,e,i),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Yl(t){return!t.isGroup}function Ul(t,e,i){if(t&&e){var n,r=(n={},t.traverse((function(t){Yl(t)&&t.anid&&(n[t.anid]=t)})),n);e.traverse((function(t){if(Yl(t)&&t.anid){var e=r[t.anid];if(e){var n=o(t);t.attr(o(e)),zl(t,n,i,Ca(t).dataIndex)}}}))}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return function(t){return null!=t.shape}(t)&&(e.shape=D({},t.shape)),e}}function Gl(t,e){return E(t,(function(t){var i=t[0];i=bl(i,e.x),i=xl(i,e.x+e.width);var n=t[1];return n=bl(n,e.y),[i,n=xl(n,e.y+e.height)]}))}function Xl(t,e){var i=bl(t.x,e.x),n=xl(t.x+t.width,e.x+e.width),r=bl(t.y,e.y),o=xl(t.y+t.height,e.y+e.height);if(n>=i&&o>=r)return{x:i,y:r,width:n-i,height:o-r}}function Zl(t,e,i){var n=D({rectHover:!0},e),r=n.style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),M(r,i),new ra(n)):Ml(t.replace("path://",""),n,i,"center")}function Kl(t,e,i,n,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(Ql(t,e,i,n,s[0],s[1],a[0],a[1]))return!0;a=s}}function Ql(t,e,i,n,r,o,a,s){var l,u=i-t,h=n-e,c=a-r,d=s-o,p=Jl(c,d,u,h);if((l=p)<=1e-6&&l>=-1e-6)return!1;var f=t-r,g=e-o,m=Jl(f,g,u,h)/p;if(m<0||m>1)return!1;var v=Jl(f,g,c,d)/p;return!(v<0||v>1)}function Jl(t,e,i,n){return t*n-i*e}Tl("circle",ws),Tl("ellipse",ks),Tl("sector",Hs),Tl("ring",Vs),Tl("polygon",Us),Tl("polyline",Zs),Tl("rect",da),Tl("line",tl),Tl("bezierCurve",ol),Tl("arc",ll);var tu={};function eu(t,e){for(var i=0;i<Ma.length;i++){var n=Ma[i],r=e[n],o=t.ensureState(n);o.style=o.style||{},o.style.text=r}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function iu(t,e,i){var n,r=t.labelFetcher,o=t.labelDataIndex,a=t.labelDimIndex,s=e.normal;r&&(n=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=i?{interpolatedValue:i}:null)),null==n&&(n=W(t.defaultText)?t.defaultText(o,t,i):t.defaultText);for(var l={normal:n},u=0;u<Ma.length;u++){var h=Ma[u],c=e[h];l[h]=Q(r?r.getFormattedLabel(o,h,null,a,c&&c.get("formatter")):null,n)}return l}function nu(t,e,i,n){i=i||tu;for(var r=t instanceof Sa,o=!1,a=0;a<Ia.length;a++){if((d=e[Ia[a]])&&d.getShallow("show")){o=!0;break}}var s=r?t:t.getTextContent();if(o){r||(s||(s=new Sa,t.setTextContent(s)),t.stateProxy&&(s.stateProxy=t.stateProxy));var l=iu(i,e),u=e.normal,h=!!u.getShallow("show"),c=ou(u,n&&n.normal,i,!1,!r);c.text=l.normal,r||t.setTextConfig(au(u,i,!1));for(a=0;a<Ma.length;a++){var d,p=Ma[a];if(d=e[p]){var f=s.ensureState(p),g=!!Q(d.getShallow("show"),h);if(g!==h&&(f.ignore=!g),f.style=ou(d,n&&n[p],i,!0,!r),f.style.text=l[p],!r)t.ensureState(p).textConfig=au(d,i,!0)}}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(c.x=s.style.x),null!=s.style.y&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),i.enableTextSetter&&(cu(s).setLabelText=function(t){var n=iu(i,e,t);eu(s,n)})}else s&&(s.ignore=!0);t.dirty()}function ru(t,e){e=e||"label";for(var i={normal:t.getModel(e)},n=0;n<Ma.length;n++){var r=Ma[n];i[r]=t.getModel([r,e])}return i}function ou(t,e,i,n,r){var o={};return function(t,e,i,n,r){i=i||tu;var o,a=e.ecModel,s=a&&a.option.textStyle,l=function(t){var e;for(;t&&t!==t.ecModel;){var i=(t.option||tu).rich;if(i){e=e||{};for(var n=z(i),r=0;r<n.length;r++){var o=n[r];e[o]=1}}t=t.parentModel}return e}(e);if(l)for(var u in o={},l)if(l.hasOwnProperty(u)){var h=e.getModel(["rich",u]);hu(o[u]={},h,s,i,n,r,!1,!0)}o&&(t.rich=o);var c=e.get("overflow");c&&(t.overflow=c);var d=e.get("minMargin");null!=d&&(t.margin=d);hu(t,e,s,i,n,r,!0,!1)}(o,t,i,n,r),e&&D(o,e),o}function au(t,e,i){e=e||{};var n,r={},o=t.getShallow("rotate"),a=Q(t.getShallow("distance"),i?null:5),s=t.getShallow("offset");return"outside"===(n=t.getShallow("position")||(i?null:"inside"))&&(n=e.defaultOutsidePosition||"top"),null!=n&&(r.position=n),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",r}var su=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],lu=["align","lineHeight","width","height","tag","verticalAlign"],uu=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function hu(t,e,i,n,r,o,a,s){i=!r&&i||tu;var l=n&&n.inheritColor,u=e.getShallow("color"),h=e.getShallow("textBorderColor"),c=Q(e.getShallow("opacity"),i.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==h&&"auto"!==h||(h=l||null),o||(u=u||i.color,h=h||i.textBorderColor),null!=u&&(t.fill=u),null!=h&&(t.stroke=h);var d=Q(e.getShallow("textBorderWidth"),i.textBorderWidth);null!=d&&(t.lineWidth=d);var p=Q(e.getShallow("textBorderType"),i.textBorderType);null!=p&&(t.lineDash=p);var f=Q(e.getShallow("textBorderDashOffset"),i.textBorderDashOffset);null!=f&&(t.lineDashOffset=f),r||null!=c||s||(c=n&&n.defaultOpacity),null!=c&&(t.opacity=c),r||o||null==t.fill&&n.inheritColor&&(t.fill=n.inheritColor);for(var g=0;g<su.length;g++){var m=su[g];null!=(y=Q(e.getShallow(m),i[m]))&&(t[m]=y)}for(g=0;g<lu.length;g++){m=lu[g];null!=(y=e.getShallow(m))&&(t[m]=y)}if(null==t.verticalAlign){var v=e.getShallow("baseline");null!=v&&(t.verticalAlign=v)}if(!a||!n.disableBox){for(g=0;g<uu.length;g++){var y;m=uu[g];null!=(y=e.getShallow(m))&&(t[m]=y)}var _=e.getShallow("borderType");null!=_&&(t.borderDash=_),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!l||(t.backgroundColor=l),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!l||(t.borderColor=l)}}var cu=Wn();function du(t,e,i,n,r){var o=cu(t);if(o.valueAnimation){var a=o.defaultInterpolatedText,s=Q(o.interpolatedValue,o.prevValue),l=o.value;(null==s?Bl:zl)(t,{},n,e,null,(function(n){var u=function(t,e,i,n,r){var o=null==e||"auto"===e;if(null==n)return n;if("number"==typeof n)return yn(p=He(i||0,n,r),o?Math.max(_n(i||0),_n(n)):e);if("string"==typeof n)return r<1?i:n;for(var a=[],s=i,l=n,u=Math.max(s?s.length:0,l.length),h=0;h<u;++h){if("ordinal"===t.getDimensionInfo(h).type)a[h]=(r<1&&s?s:l)[h];else{var c=s&&s[h]?s[h]:0,d=l[h],p=He(c,d,r);a[h]=yn(p,o?Math.max(_n(c),_n(d)):e)}}return a}(i,o.precision,s,l,n);o.interpolatedValue=1===n?null:u;var h=iu({labelDataIndex:e,labelFetcher:r,defaultText:a?a(u):u+""},o.statesModels,u);eu(t,h)}))}}var pu,fu,gu=["textStyle","color"],mu=new Sa,vu=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(gu):null)},t.prototype.getFont=function(){return t={fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},e=this.ecModel,i=e&&e.getModel("textStyle"),nt([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "));var t,e,i},t.prototype.getTextRect=function(t){return mu.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),mu.update(),mu.getBoundingRect()},t}(),yu=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],_u=nr(yu),bu=function(){function t(){}return t.prototype.getLineStyle=function(t){return _u(this,t)},t}(),xu=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],wu=nr(xu),Su=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return wu(this,t,e)},t}(),Cu=function(){function t(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}return t.prototype.init=function(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r]},t.prototype.mergeOption=function(t,e){T(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var i=this.option,n=null==i?i:i[t];if(null==n&&!e){var r=this.parentModel;r&&(n=r.getShallow(t))}return n},t.prototype.getModel=function(e,i){var n=null!=e,r=n?this.parsePath(e):null;return new t(n?this._doGet(r):this.option,i=i||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)(k(this.option))},t.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!h.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var i=this.option;if(!t)return i;for(var n=0;n<t.length&&(!t[n]||null!=(i=i&&"object"==typeof i?i[t[n]]:null));n++);return null==i&&e&&(i=e._doGet(this.resolveParentPath(t),e.parentModel)),i},t}();Zn(Cu),pu=Cu,fu=["__\0is_clz",Jn++].join("_"),pu.prototype[fu]=!0,pu.isInstance=function(t){return!(!t||!t[fu])},P(Cu,bu),P(Cu,Su),P(Cu,or),P(Cu,vu);var ku=Cu,Tu=Math.round(10*Math.random());function Du(t){return[t||"",Tu++].join("_")}var Mu={},Iu={},Au=h.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function Pu(t,e){t=t.toUpperCase(),Iu[t]=new ku(e),Mu[t]=e}Pu("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Guage",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Pu("ZH",{time:{month:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],monthAbbr:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],dayOfWeek:["æææ¥","ææä¸","ææäº","ææä¸","ææå","ææäº","ææå­"],dayOfWeekAbbr:["æ¥","ä¸","äº","ä¸","å","äº","å­"]},legend:{selector:{all:"å¨é",inverse:"åé"}},toolbox:{brush:{title:{rect:"ç©å½¢éæ©",polygon:"åé",lineX:"æ¨ªåéæ©",lineY:"çºµåéæ©",keep:"ä¿æéæ©",clear:"æ¸é¤éæ©"}},dataView:{title:"æ°æ®è§å¾",lang:["æ°æ®è§å¾","å³é­","å·æ°"]},dataZoom:{title:{zoom:"åºåç¼©æ¾",back:"åºåç¼©æ¾è¿å"}},magicType:{title:{line:"åæ¢ä¸ºæçº¿å¾",bar:"åæ¢ä¸ºæ±ç¶å¾",stack:"åæ¢ä¸ºå å ",tiled:"åæ¢ä¸ºå¹³éº"}},restore:{title:"è¿å"},saveAsImage:{title:"ä¿å­ä¸ºå¾ç",lang:["å³é®å¦å­ä¸ºå¾ç"]}},series:{typeNames:{pie:"é¥¼å¾",bar:"æ±ç¶å¾",line:"æçº¿å¾",scatter:"æ£ç¹å¾",effectScatter:"æ¶æ¼ªæ£ç¹å¾",radar:"é·è¾¾å¾",tree:"æ å¾",treemap:"ç©å½¢æ å¾",boxplot:"ç®±åå¾",candlestick:"Kçº¿å¾",k:"Kçº¿å¾",heatmap:"ç­åå¾",map:"å°å¾",parallel:"å¹³è¡åæ å¾",lines:"çº¿å¾",graph:"å³ç³»å¾",sankey:"æ¡åºå¾",funnel:"æ¼æå¾",gauge:"ä»ªè¡¨çå¾",pictorialBar:"è±¡å½¢æ±å¾",themeRiver:"ä¸»é¢æ²³æµå¾",sunburst:"æ­æ¥å¾"}},aria:{general:{withTitle:"è¿æ¯ä¸ä¸ªå³äºâ{title}âçå¾è¡¨ã",withoutTitle:"è¿æ¯ä¸ä¸ªå¾è¡¨ï¼"},series:{single:{prefix:"",withName:"å¾è¡¨ç±»åæ¯{seriesType}ï¼è¡¨ç¤º{seriesName}ã",withoutName:"å¾è¡¨ç±»åæ¯{seriesType}ã"},multiple:{prefix:"å®ç±{seriesCount}ä¸ªå¾è¡¨ç³»åç»æã",withName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ªè¡¨ç¤º{seriesName}ç{seriesType}ï¼",withoutName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ª{seriesType}ï¼",separator:{middle:"ï¼",end:"ã"}}},data:{allData:"å¶æ°æ®æ¯ââ",partialData:"å¶ä¸­ï¼å{displayCnt}é¡¹æ¯ââ",withName:"{name}çæ°æ®æ¯{value}",withoutName:"{value}",separator:{middle:"ï¼",end:""}}}});var Ou={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{hh}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}"},Lu={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+Ou.hour,minute:"{yyyy}-{MM}-{dd} "+Ou.minute,second:"{yyyy}-{MM}-{dd} "+Ou.second,millisecond:Ou.none},Eu=["year","month","day","hour","minute","second","millisecond"],Nu=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Ru(t,e){return"0000".substr(0,e-(t+="").length)+t}function zu(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Bu(t,e,i,n){var r=Sn(t),o=r[Wu(i)](),a=r[Vu(i)]()+1,s=Math.floor((a-1)/4)+1,l=r[ju(i)](),u=r["get"+(i?"UTC":"")+"Day"](),h=r[qu(i)](),c=(h-1)%12+1,d=r[$u(i)](),p=r[Yu(i)](),f=r[Uu(i)](),g=(n instanceof ku?n:function(t){return Iu[t]}(n||Au)||Iu.EN).getModel("time"),m=g.get("month"),v=g.get("monthAbbr"),y=g.get("dayOfWeek"),_=g.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,m[a-1]).replace(/{MMM}/g,v[a-1]).replace(/{MM}/g,Ru(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Ru(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,y[u]).replace(/{ee}/g,_[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Ru(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,Ru(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,Ru(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Ru(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Ru(f,3)).replace(/{S}/g,f+"")}function Hu(t,e){var i=Sn(t),n=i[Vu(e)]()+1,r=i[ju(e)](),o=i[qu(e)](),a=i[$u(e)](),s=i[Yu(e)](),l=0===i[Uu(e)](),u=l&&0===s,h=u&&0===a,c=h&&0===o,d=c&&1===r;return d&&1===n?"year":d?"month":c?"day":h?"hour":u?"minute":l?"second":"millisecond"}function Fu(t,e,i){var n="number"==typeof t?Sn(t):t;switch(e=e||Hu(t,i)){case"year":return n[Wu(i)]();case"half-year":return n[Vu(i)]()>=6?1:0;case"quarter":return Math.floor((n[Vu(i)]()+1)/4);case"month":return n[Vu(i)]();case"day":return n[ju(i)]();case"half-day":return n[qu(i)]()/24;case"hour":return n[qu(i)]();case"minute":return n[$u(i)]();case"second":return n[Yu(i)]();case"millisecond":return n[Uu(i)]()}}function Wu(t){return t?"getUTCFullYear":"getFullYear"}function Vu(t){return t?"getUTCMonth":"getMonth"}function ju(t){return t?"getUTCDate":"getDate"}function qu(t){return t?"getUTCHours":"getHours"}function $u(t){return t?"getUTCMinutes":"getMinutes"}function Yu(t){return t?"getUTCSeconds":"getSeconds"}function Uu(t){return t?"getUTCSeconds":"getSeconds"}function Gu(t){return t?"setUTCFullYear":"setFullYear"}function Xu(t){return t?"setUTCMonth":"setMonth"}function Zu(t){return t?"setUTCDate":"setDate"}function Ku(t){return t?"setUTCHours":"setHours"}function Qu(t){return t?"setUTCMinutes":"setMinutes"}function Ju(t){return t?"setUTCSeconds":"setSeconds"}function th(t){return t?"setUTCSeconds":"setSeconds"}function eh(t){if(!Dn(t))return V(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}var ih=et,nh=/([&<>"'])/g,rh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function oh(t){return null==t?"":(t+"").replace(nh,(function(t,e){return rh[e]}))}function ah(t,e,i){function n(t){return t&&nt(t)?t:"-"}function r(t){return!(null==t||isNaN(t)||!isFinite(t))}var o="time"===e,a=t instanceof Date;if(o||a){var s=o?Sn(t):t;if(!isNaN(+s))return Bu(s,"yyyy-MM-dd hh:mm:ss",i);if(a)return"-"}if("ordinal"===e)return j(t)?n(t):q(t)&&r(t)?t+"":"-";var l=Tn(t);return r(l)?eh(l):j(t)?n(t):"-"}var sh=["a","b","c","d","e","f","g"],lh=function(t,e){return"{"+t+(null==e?"":e)+"}"};function uh(t,e,i){F(e)||(e=[e]);var n=e.length;if(!n)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=sh[o];t=t.replace(lh(a),lh(a,0))}for(var s=0;s<n;s++)for(var l=0;l<r.length;l++){var u=e[s][r[l]];t=t.replace(lh(sh[l],s),i?oh(u):u)}return t}function hh(t,e){return e=e||"transparent",V(t)?t:Y(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function ch(t,e){if("_blank"===e||"blank"===e){var i=window.open();i.opener=null,i.location.href=t}else window.open(t,e)}var dh=L,ph=["left","right","top","bottom","width","height"],fh=[["width","left","right"],["height","top","bottom"]];function gh(t,e,i,n,r){var o=0,a=0;null==n&&(n=1/0),null==r&&(r=1/0);var s=0;e.eachChild((function(l,u){var h,c,d=l.getBoundingRect(),p=e.childAt(u+1),f=p&&p.getBoundingRect();if("horizontal"===t){var g=d.width+(f?-f.x+d.x:0);(h=o+g)>n||l.newline?(o=0,h=g,a+=s+i,s=d.height):s=Math.max(s,d.height)}else{var m=d.height+(f?-f.y+d.y:0);(c=a+m)>r||l.newline?(o+=s+i,a=0,c=m,s=d.width):s=Math.max(s,d.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===t?o=h+i:a=c+i)}))}var mh=gh;H(gh,"vertical"),H(gh,"horizontal");function vh(t,e,i){i=ih(i||0);var n=e.width,r=e.height,o=vn(t.left,n),a=vn(t.top,r),s=vn(t.right,n),l=vn(t.bottom,r),u=vn(t.width,n),h=vn(t.height,r),c=i[2]+i[0],d=i[1]+i[3],p=t.aspect;switch(isNaN(u)&&(u=n-s-d-o),isNaN(h)&&(h=r-l-c-a),null!=p&&(isNaN(u)&&isNaN(h)&&(p>n/r?u=.8*n:h=.8*r),isNaN(u)&&(u=p*h),isNaN(h)&&(h=u/p)),isNaN(o)&&(o=n-s-u-d),isNaN(a)&&(a=r-l-h-c),t.left||t.right){case"center":o=n/2-u/2-i[3];break;case"right":o=n-u-d}switch(t.top||t.bottom){case"middle":case"center":a=r/2-h/2-i[0];break;case"bottom":a=r-h-c}o=o||0,a=a||0,isNaN(u)&&(u=n-d-o-(s||0)),isNaN(h)&&(h=r-c-a-(l||0));var f=new ui(o+i[3],a+i[0],u,h);return f.margin=i,f}function yh(t){var e=t.layoutMode||t.constructor.layoutMode;return Y(e)?e:e?{type:e}:null}function _h(t,e,i){var n=i&&i.ignoreSize;!F(n)&&(n=[n,n]);var r=a(fh[0],0),o=a(fh[1],1);function a(i,r){var o={},a=0,u={},h=0;if(dh(i,(function(e){u[e]=t[e]})),dh(i,(function(t){s(e,t)&&(o[t]=u[t]=e[t]),l(o,t)&&a++,l(u,t)&&h++})),n[r])return l(e,i[1])?u[i[2]]=null:l(e,i[2])&&(u[i[1]]=null),u;if(2!==h&&a){if(a>=2)return o;for(var c=0;c<i.length;c++){var d=i[c];if(!s(o,d)&&s(t,d)){o[d]=t[d];break}}return o}return u}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return null!=t[e]&&"auto"!==t[e]}function u(t,e,i){dh(t,(function(t){e[t]=i[t]}))}u(fh[0],t,r),u(fh[1],t,o)}function bh(t){return function(t,e){return e&&t&&dh(ph,(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t}({},t)}var xh=Wn(),wh=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.uid=Du("ec_cpt_model"),r}var i;return a(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,e){var i=yh(this),n=i?bh(t):{};T(t,e.getTheme().get(this.mainType)),T(t,this.getDefaultOption()),i&&_h(t,n,i)},e.prototype.mergeOption=function(t,e){T(this.option,t,!0);var i=yh(this);i&&_h(this.option,t,i)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(t){return!(!t||!t.___EC__EXTENDED_CLASS___)}(t))return t.defaultOption;var e=xh(this);if(!e.defaultOption){for(var i=[],n=t;n;){var r=n.prototype.defaultOption;r&&i.push(r),n=n.superClass}for(var o={},a=i.length-1;a>=0;a--)o=T(o,i[a],!0);e.defaultOption=o}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var i=t+"Index",n=t+"Id";return Yn(this.ecModel,t,{index:this.get(i,!0),id:this.get(n,!0)},e)},e.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},e.protoInitialize=((i=e.prototype).type="component",i.id="",i.name="",i.mainType="",i.subType="",void(i.componentIndex=0)),e}(ku);Qn(wh,ku),ir(wh),function(t){var e={};t.registerSubTypeDefaulter=function(t,i){var n=Xn(t);e[n.main]=i},t.determineSubType=function(i,n){var r=n.type;if(!r){var o=Xn(i).main;t.hasSubTypes(i)&&e[o]&&(r=e[o](n))}return r}}(wh),function(t,e){function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,n,r,o){if(t.length){var a=function(t){var n={},r=[];return L(t,(function(o){var a=i(n,o),s=function(t,e){var i=[];return L(t,(function(t){A(e,t)>=0&&i.push(t)})),i}(a.originalDeps=e(o),t);a.entryCount=s.length,0===a.entryCount&&r.push(o),L(s,(function(t){A(a.predecessor,t)<0&&a.predecessor.push(t);var e=i(n,t);A(e.successor,t)<0&&e.successor.push(o)}))})),{graph:n,noEntryList:r}}(n),s=a.graph,l=a.noEntryList,u={};for(L(t,(function(t){u[t]=!0}));l.length;){var h=l.pop(),c=s[h],d=!!u[h];d&&(r.call(o,h,c.originalDeps.slice()),delete u[h]),L(c.successor,d?f:p)}L(u,(function(){throw new Error("")}))}function p(t){s[t].entryCount--,0===s[t].entryCount&&l.push(t)}function f(t){u[t]=!0,p(t)}}}(wh,(function(t){var e=[];L(wh.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=E(e,(function(t){return Xn(t).main})),"dataset"!==t&&A(e,"dataset")<=0&&e.unshift("dataset");return e}));var Sh=wh,Ch="";"undefined"!=typeof navigator&&(Ch=navigator.platform||"");var kh="rgba(0, 0, 0, 0.2)",Th={darkMode:"auto",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:kh,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:kh,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:kh,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:kh,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:kh,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:kh,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Ch.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Dh=st(["tooltip","label","itemName","itemId","seriesName"]),Mh=1,Ih=2,Ah=3,Ph=Wn();function Oh(t,e,i){var n={},r=Lh(e);if(!r||!t)return n;var o,a,s=[],l=[],u=e.ecModel,h=Ph(u).datasetMap,c=r.uid+"_"+i.seriesLayoutBy;L(t=t.slice(),(function(e,i){var r=Y(e)?e:t[i]={name:e};"ordinal"===r.type&&null==o&&(o=i,a=f(r)),n[r.name]=[]}));var d=h.get(c)||h.set(c,{categoryWayDim:a,valueWayDim:0});function p(t,e,i){for(var n=0;n<i;n++)t.push(e+n)}function f(t){var e=t.dimsDef;return e?e.length:1}return L(t,(function(t,e){var i=t.name,r=f(t);if(null==o){var a=d.valueWayDim;p(n[i],a,r),p(l,a,r),d.valueWayDim+=r}else if(o===e)p(n[i],0,r),p(s,0,r);else{a=d.categoryWayDim;p(n[i],a,r),p(l,a,r),d.categoryWayDim+=r}})),s.length&&(n.itemName=s),l.length&&(n.seriesName=l),n}function Lh(t){if(!t.get("data",!0))return Yn(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},qn).models[0]}function Eh(t,e){return Nh(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Nh(t,e,i,n,r,o){var a,s,l;if(G(t))return Ah;if(n){var u=n[o];Y(u)?(s=u.name,l=u.type):V(u)&&(s=u)}if(null!=l)return"ordinal"===l?Mh:Ah;if("arrayRows"===e){var h=t;if("row"===i){for(var c=h[o],d=0;d<(c||[]).length&&d<5;d++)if(null!=(a=y(c[r+d])))return a}else for(d=0;d<h.length&&d<5;d++){var p=h[r+d];if(p&&null!=(a=y(p[o])))return a}}else if("objectRows"===e){var f=t;if(!s)return Ah;for(d=0;d<f.length&&d<5;d++){if((m=f[d])&&null!=(a=y(m[s])))return a}}else if("keyedColumns"===e){if(!s)return Ah;if(!(c=t[s])||G(c))return Ah;for(d=0;d<c.length&&d<5;d++)if(null!=(a=y(c[d])))return a}else if("original"===e){var g=t;for(d=0;d<g.length&&d<5;d++){var m,v=Ln(m=g[d]);if(!F(v))return Ah;if(null!=(a=y(v[o])))return a}}function y(t){var e=V(t);return null!=t&&isFinite(t)&&""!==t?e?Ih:Ah:e&&"-"!==t?Mh:void 0}return Ah}var Rh=st();var zh,Bh,Hh,Fh=Wn(),Wh=(Wn(),function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,i){var n=An(this.get("color",!0)),r=this.get("colorLayer",!0);return Vh(this,Fh,n,r,t,e,i)},t.prototype.clearColorPalette=function(){var t,e;(e=Fh)(t=this).paletteIdx=0,e(t).paletteNameMap={}},t}());function Vh(t,e,i,n,r,o,a){var s=e(o=o||t),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=null!=a&&n?function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}(n,a):i;if((h=h||i)&&h.length){var c=h[l];return r&&(u[r]=c),s.paletteIdx=(l+1)%h.length,c}}var jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(t,e,i,n,r,o){n=n||{},this.option=null,this._theme=new ku(n),this._locale=new ku(r),this._optionManager=o},e.prototype.setOption=function(t,e,i){var n=Yh(e);this._optionManager.setOption(t,i,n),this._resetOption(null,n)},e.prototype.resetOption=function(t,e){return this._resetOption(t,Yh(e))},e.prototype._resetOption=function(t,e){var i=!1,n=this._optionManager;if(!t||"recreate"===t){var r=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(r,e)):Hh(this,r),i=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=n.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,e))}if(!t||"recreate"===t||"media"===t){var a=n.getMediaOption(this);a.length&&L(a,(function(t){i=!0,this._mergeOption(t,e)}),this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var i=this.option,n=this._componentsMap,r=this._componentsCount,o=[],a=st(),s=e&&e.replaceMergeMainTypeMap;Ph(this).datasetMap=st(),L(t,(function(t,e){null!=t&&(Sh.hasClass(e)?e&&(o.push(e),a.set(e,!0)):i[e]=null==i[e]?k(t):T(i[e],t,!0))})),s&&s.each((function(t,e){Sh.hasClass(e)&&!a.get(e)&&(o.push(e),a.set(e,!0))})),Sh.topologicalTravel(o,Sh.getAllClassMainTypes(),(function(e){var o=function(t,e,i){var n=Rh.get(e);if(!n)return i;var r=n(t);return r?i.concat(r):i}(this,e,An(t[e])),a=n.get(e),l=a?s&&s.get(e)?"replaceMerge":"normalMerge":"replaceAll",u=En(a,o,l);(function(t,e,i){L(t,(function(t){var n=t.newOption;Y(n)&&(t.keyInfo.mainType=e,t.keyInfo.subType=function(t,e,i,n){return e.type?e.type:i?i.subType:n.determineSubType(t,e)}(e,n,t.existing,i))}))})(u,e,Sh),i[e]=null,n.set(e,null),r.set(e,0);var h=[],c=[],d=0;L(u,(function(t,i){var n=t.existing,r=t.newOption;if(r){var o=Sh.getClass(e,t.keyInfo.subType,!0);if(n&&n.constructor===o)n.name=t.keyInfo.name,n.mergeOption(r,this),n.optionUpdated(r,!1);else{var a=D({componentIndex:i},t.keyInfo);D(n=new o(r,this,this,a),a),t.brandNew&&(n.__requireNewView=!0),n.init(r,this,this),n.optionUpdated(null,!0)}}else n&&(n.mergeOption({},this),n.optionUpdated({},!1));n?(h.push(n.option),c.push(n),d++):(h.push(void 0),c.push(void 0))}),this),i[e]=h,n.set(e,c),r.set(e,d),"series"===e&&zh(this)}),this),this._seriesIndices||zh(this)},e.prototype.getOption=function(){var t=k(this.option);return L(t,(function(e,i){if(Sh.hasClass(i)){for(var n=An(e),r=n.length,o=!1,a=r-1;a>=0;a--)n[a]&&!Hn(n[a])?o=!0:(n[a]=null,!o&&r--);n.length=r,t[i]=n}})),delete t["\0_ec_inner"],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.getLocale=function(t){return this.getLocaleModel().get(t)},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var i=this._componentsMap.get(t);if(i){var n=i[e||0];if(n)return n;if(null==e)for(var r=0;r<i.length;r++)if(i[r])return i[r]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var i,n=t.index,r=t.id,o=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=n?(i=[],L(An(n),(function(t){a[t]&&i.push(a[t])}))):i=null!=r?qh("id",r,a):null!=o?qh("name",o,a):R(a,(function(t){return!!t})),$h(i,t)):[]},e.prototype.findComponents=function(t){var e,i,n,r,o,a=t.query,s=t.mainType,l=(i=s+"Index",n=s+"Id",r=s+"Name",!(e=a)||null==e[i]&&null==e[n]&&null==e[r]?null:{mainType:s,index:e[i],id:e[n],name:e[r]}),u=l?this.queryComponents(l):R(this._componentsMap.get(s),(function(t){return!!t}));return o=$h(u,t),t.filter?R(o,t.filter):o},e.prototype.eachComponent=function(t,e,i){var n=this._componentsMap;if(W(t)){var r=e,o=t;n.each((function(t,e){for(var i=0;t&&i<t.length;i++){var n=t[i];n&&o.call(r,e,n,n.componentIndex)}}))}else for(var a=V(t)?n.get(t):Y(t)?this.findComponents(t):null,s=0;a&&s<a.length;s++){var l=a[s];l&&e.call(i,l,l.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=zn(t,null);return R(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return R(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return R(this._componentsMap.get("series").slice(),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){Bh(this),L(this._seriesIndices,(function(i){var n=this._componentsMap.get("series")[i];t.call(e,n,i)}),this)},e.prototype.eachRawSeries=function(t,e){L(this._componentsMap.get("series"),(function(i){i&&t.call(e,i,i.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,i){Bh(this),L(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];r.subType===t&&e.call(i,r,n)}),this)},e.prototype.eachRawSeriesByType=function(t,e,i){return L(this.getSeriesByType(t),e,i)},e.prototype.isSeriesFiltered=function(t){return Bh(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){Bh(this);var i=[];L(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];t.call(e,r,n)&&i.push(n)}),this),this._seriesIndices=i,this._seriesIndicesMap=st(i)},e.prototype.restoreData=function(t){zh(this);var e=this._componentsMap,i=[];e.each((function(t,e){Sh.hasClass(e)&&i.push(e)})),Sh.topologicalTravel(i,Sh.getAllClassMainTypes(),(function(i){L(e.get(i),(function(e){!e||"series"===i&&function(t,e){if(e){var i=e.seriesIndex,n=e.seriesId,r=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=r&&t.name!==r}}(e,t)||e.restoreData()}))}))},e.internalField=(zh=function(t){var e=t._seriesIndices=[];L(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=st(e)},Bh=function(t){},void(Hh=function(t,e){t.option={},t.option["\0_ec_inner"]=1,t._componentsMap=st({series:[]}),t._componentsCount=st();var i,n,r,o=e.aria;Y(o)&&null==o.enabled&&(o.enabled=!0),i=e,n=t._theme.option,r=i.color&&!i.colorLayer,L(n,(function(t,e){"colorLayer"===e&&r||Sh.hasClass(e)||("object"==typeof t?i[e]=i[e]?T(i[e],t,!1):k(t):null==i[e]&&(i[e]=t))})),T(e,Th,!1),t._mergeOption(e,null)})),e}(ku);function qh(t,e,i){if(F(e)){var n=st();return L(e,(function(t){null!=t&&(null!=zn(t,null)&&n.set(t,!0))})),R(i,(function(e){return e&&n.get(e[t])}))}var r=zn(e,null);return R(i,(function(e){return e&&null!=r&&e[t]===r}))}function $h(t,e){return e.hasOwnProperty("subType")?R(t,(function(t){return t&&t.subType===e.subType})):t}function Yh(t){var e=st();return t&&L(An(t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}P(jh,Wh);var Uh=jh,Gh=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Xh=function(t){L(Gh,(function(e){this[e]=B(t[e],t)}),this)},Zh={},Kh=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var i=[];L(Zh,(function(n,r){var o=n.create(t,e);i=i.concat(o||[])})),this._coordinateSystems=i},t.prototype.update=function(t,e){L(this._coordinateSystems,(function(i){i.update&&i.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){Zh[t]=e},t.get=function(t){return Zh[t]},t}(),Qh=/^(min|max)?(.+)$/;function Jh(t,e,i){var n={width:e,height:i,aspectratio:e/i},r=!0;return L(t,(function(t,e){var i=e.match(Qh);if(i&&i[1]&&i[2]){var o=i[1],a=i[2].toLowerCase();(function(t,e,i){return"min"===i?t>=e:"max"===i?t<=e:t===e})(n[a],t,o)||(r=!1)}})),r}var tc=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,i){t&&(L(An(t.series),(function(t){t&&t.data&&G(t.data)&&rt(t.data)})),L(An(t.dataset),(function(t){t&&t.source&&G(t.source)&&rt(t.source)}))),t=k(t);var n=this._optionBackup,r=function(t,e,i){var n,r,o=[],a=t.baseOption,s=t.timeline,l=t.options,u=t.media,h=!!t.media,c=!!(l||s||a&&a.timeline);a?(r=a).timeline||(r.timeline=s):((c||h)&&(t.options=t.media=null),r=t);h&&F(u)&&L(u,(function(t){t&&t.option&&(t.query?o.push(t):n||(n=t))}));function d(t){L(e,(function(e){e(t,i)}))}return d(r),L(l,(function(t){return d(t)})),L(o,(function(t){return d(t.option)})),{baseOption:r,timelineOptions:l||[],mediaDefault:n,mediaList:o}}(t,e,!n);this._newBaseOption=r.baseOption,n?(r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],k(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=k(i[n.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e,i,n=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],l=[];if(!o.length&&!a)return l;for(var u=0,h=o.length;u<h;u++)Jh(o[u].query,n,r)&&s.push(u);return!s.length&&a&&(s=[-1]),s.length&&(e=s,i=this._currentMediaIndices,e.join(",")!==i.join(","))&&(l=E(s,(function(t){return k(-1===t?a.option:o[t].option)}))),this._currentMediaIndices=s,l},t}(),ec=L,ic=Y,nc=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function rc(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=nc.length;i<n;i++){var r=nc[i],o=e.normal,a=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?T(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?T(t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function oc(t,e,i){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,r=t[e].emphasis;n&&(i?(t[e].normal=t[e].emphasis=null,M(t[e],n)):t[e]=n),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r,r.focus&&(t.emphasis.focus=r.focus),r.blurScope&&(t.emphasis.blurScope=r.blurScope))}}function ac(t){oc(t,"itemStyle"),oc(t,"lineStyle"),oc(t,"areaStyle"),oc(t,"label"),oc(t,"labelLine"),oc(t,"upperLabel"),oc(t,"edgeLabel")}function sc(t,e){var i=ic(t)&&t[e],n=ic(i)&&i.textStyle;if(n){0;for(var r=0,o=On.length;r<o;r++){var a=On[r];n.hasOwnProperty(a)&&(i[a]=n[a])}}}function lc(t){t&&(ac(t),sc(t,"label"),t.emphasis&&sc(t.emphasis,"label"))}function uc(t){return F(t)?t:t?[t]:[]}function hc(t){return(F(t)?t[0]:t)||{}}function cc(t,e){ec(uc(t.series),(function(t){ic(t)&&function(t){if(ic(t)){rc(t),ac(t),sc(t,"label"),sc(t,"upperLabel"),sc(t,"edgeLabel"),t.emphasis&&(sc(t.emphasis,"label"),sc(t.emphasis,"upperLabel"),sc(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(rc(e),lc(e));var i=t.markLine;i&&(rc(i),lc(i));var n=t.markArea;n&&lc(n);var r=t.data;if("graph"===t.type){r=r||t.nodes;var o=t.links||t.edges;if(o&&!G(o))for(var a=0;a<o.length;a++)lc(o[a]);L(t.categories,(function(t){ac(t)}))}if(r&&!G(r))for(a=0;a<r.length;a++)lc(r[a]);if((e=t.markPoint)&&e.data){var s=e.data;for(a=0;a<s.length;a++)lc(s[a])}if((i=t.markLine)&&i.data){var l=i.data;for(a=0;a<l.length;a++)F(l[a])?(lc(l[a][0]),lc(l[a][1])):lc(l[a])}"gauge"===t.type?(sc(t,"axisLabel"),sc(t,"title"),sc(t,"detail")):"treemap"===t.type?(oc(t.breadcrumb,"itemStyle"),L(t.levels,(function(t){ac(t)}))):"tree"===t.type&&ac(t.leaves)}}(t)}));var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),ec(i,(function(e){ec(uc(t[e]),(function(t){t&&(sc(t,"axisLabel"),sc(t.axisPointer,"label"))}))})),ec(uc(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;sc(e,"axisLabel"),sc(e&&e.axisPointer,"label")})),ec(uc(t.calendar),(function(t){oc(t,"itemStyle"),sc(t,"dayLabel"),sc(t,"monthLabel"),sc(t,"yearLabel")})),ec(uc(t.radar),(function(t){sc(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),ec(uc(t.geo),(function(t){ic(t)&&(lc(t),ec(uc(t.regions),(function(t){lc(t)})))})),ec(uc(t.timeline),(function(t){lc(t),oc(t,"label"),oc(t,"itemStyle"),oc(t,"controlStyle",!0);var e=t.data;F(e)&&L(e,(function(t){Y(t)&&(oc(t,"label"),oc(t,"itemStyle"))}))})),ec(uc(t.toolbox),(function(t){oc(t,"iconStyle"),ec(t.feature,(function(t){oc(t,"iconStyle")}))})),sc(hc(t.axisPointer),"label"),sc(hc(t.tooltip).axisPointer,"label")}function dc(t){t&&L(pc,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var pc=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],fc=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],gc=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function mc(t){var e=t&&t.itemStyle;if(e)for(var i=0;i<gc.length;i++){var n=gc[i][1],r=gc[i][0];null!=e[n]&&(e[r]=e[n])}}function vc(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function yc(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function _c(t,e){cc(t,e),t.series=An(t.series),L(t.series,(function(t){if(Y(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){if(null!=t.clockWise&&(t.clockwise=t.clockWise),vc(t.label),(r=t.data)&&!G(r))for(var i=0;i<r.length;i++)vc(r[i]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var n=function(t,e){for(var i=e.split(","),n=t,r=0;r<i.length&&null!=(n=n&&n[i[r]]);r++);return n}(t,"pointer.color");null!=n&&function(t,e,i,n){for(var r,o=e.split(","),a=t,s=0;s<o.length-1;s++)null==a[r=o[s]]&&(a[r]={}),a=a[r];(n||null==a[o[s]])&&(a[o[s]]=i)}(t,"itemStyle.color",n)}else if("bar"===e){var r;if(mc(t),mc(t.backgroundStyle),mc(t.emphasis),(r=t.data)&&!G(r))for(i=0;i<r.length;i++)"object"==typeof r[i]&&(mc(r[i]),mc(r[i]&&r[i].emphasis))}else if("sunburst"===e){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),yc(t),function t(e,i){if(e)for(var n=0;n<e.length;n++)i(e[n]),e[n]&&t(e[n].children,i)}(t.data,yc)}else"graph"===e||"sankey"===e?function(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&M(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),dc(t)}})),t.dataRange&&(t.visualMap=t.dataRange),L(fc,(function(e){var i=t[e];i&&(F(i)||(i=[i]),L(i,(function(t){dc(t)})))}))}function bc(t){L(t,(function(e,i){var n=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=a.map(o,(function(o,l,u){var h,c,d=a.get(e.stackedDimension,u);if(isNaN(d))return r;s?c=a.getRawIndex(u):h=a.get(e.stackedByDimension,u);for(var p=NaN,f=i-1;f>=0;f--){var g=t[f];if(s||(c=g.data.rawIndexOf(g.stackedByDimension,h)),c>=0){var m=g.data.getByRawIndex(g.stackResultDimension,c);if(d>=0&&m>0||d<=0&&m<0){d+=m,p=m;break}}}return n[0]=d,n[1]=p,n}));a.hostModel.setData(l),e.data=l}))}var xc,wc,Sc,Cc,kc,Tc=function(t){this.data=t.data||("keyedColumns"===t.sourceFormat?{}:[]),this.sourceFormat=t.sourceFormat||"unknown",this.seriesLayoutBy=t.seriesLayoutBy||"column",this.startIndex=t.startIndex||0,this.dimensionsDefine=t.dimensionsDefine,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.encodeDefine=t.encodeDefine,this.metaRawOption=t.metaRawOption};function Dc(t){return t instanceof Tc}function Mc(t,e,i,n){i=i||Pc(t);var r=e.seriesLayoutBy,o=function(t,e,i,n,r){var o,a;if(!t)return{dimensionsDefine:Oc(r),startIndex:a,dimensionsDetectedCount:o};if("arrayRows"===e){var s=t;"auto"===n||null==n?Lc((function(t){null!=t&&"-"!==t&&(V(t)?null==a&&(a=1):a=0)}),i,s,10):a=q(n)?n:n?1:0,r||1!==a||(r=[],Lc((function(t,e){r[e]=null!=t?t+"":""}),i,s,1/0)),o=r?r.length:"row"===i?s.length:s[0]?s[0].length:null}else if("objectRows"===e)r||(r=function(t){var e,i=0;for(;i<t.length&&!(e=t[i++]););if(e){var n=[];return L(e,(function(t,e){n.push(e)})),n}}(t));else if("keyedColumns"===e)r||(r=[],L(t,(function(t,e){r.push(e)})));else if("original"===e){var l=Ln(t[0]);o=F(l)&&l.length||1}return{startIndex:a,dimensionsDefine:Oc(r),dimensionsDetectedCount:o}}(t,i,r,e.sourceHeader,e.dimensions);return new Tc({data:t,sourceFormat:i,seriesLayoutBy:r,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,encodeDefine:Ac(n),metaRawOption:k(e)})}function Ic(t){return new Tc({data:t,sourceFormat:G(t)?"typedArray":"original"})}function Ac(t){return t?st(t):null}function Pc(t){var e="unknown";if(G(t))e="typedArray";else if(F(t)){0===t.length&&(e="arrayRows");for(var i=0,n=t.length;i<n;i++){var r=t[i];if(null!=r){if(F(r)){e="arrayRows";break}if(Y(r)){e="objectRows";break}}}}else if(Y(t))for(var o in t)if(ut(t,o)&&O(t[o])){e="keyedColumns";break}return e}function Oc(t){if(t){var e=st();return E(t,(function(t,i){var n={name:(t=Y(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==n.name)return n;n.name+="",null==n.displayName&&(n.displayName=n.name);var r=e.get(n.name);return r?n.name+="-"+r.count++:e.set(n.name,{count:1}),n}))}}function Lc(t,e,i,n){if("row"===e)for(var r=0;r<i.length&&r<n;r++)t(i[r]?i[r][0]:null,r);else{var o=i[0]||[];for(r=0;r<o.length&&r<n;r++)t(o[r],r)}}var Ec=function(){function t(t,e){var i=Dc(t)?t:Ic(t);this._source=i;var n=this._data=i.data;"typedArray"===i.sourceFormat&&(this._offset=0,this._dimSize=e,this._data=n),kc(this,n,i)}var e;return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=((e=t.prototype).pure=!1,void(e.persistent=!0)),t.internalField=function(){var t;kc=function(t,r,o){var a=o.sourceFormat,s=o.seriesLayoutBy,l=o.startIndex,u=o.dimensionsDefine;if(D(t,Cc[qc(a,s)]),"typedArray"===a)t.getItem=e,t.count=n,t.fillStorage=i;else{var h=zc(a,s);t.getItem=B(h,null,r,l,u);var c=Fc(a,s);t.count=B(c,null,r,l,u)}};var e=function(t,e){t-=this._offset,e=e||[];for(var i=this._data,n=this._dimSize,r=n*t,o=0;o<n;o++)e[o]=i[r+o];return e},i=function(t,e,i,n){for(var r=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=n[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],h=e-t,c=i[a],d=0;d<h;d++){var p=r[d*o+a];c[t+d]=p,p<l&&(l=p),p>u&&(u=p)}s[0]=l,s[1]=u}},n=function(){return this._data?this._data.length/this._dimSize:0};function r(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={}).arrayRows_column={pure:!0,appendData:r},t.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t.objectRows={pure:!0,appendData:r},t.keyedColumns={pure:!0,appendData:function(t){var e=this._data;L(t,(function(t,i){for(var n=e[i]||(e[i]=[]),r=0;r<(t||[]).length;r++)n.push(t[r])}))}},t.original={appendData:r},t.typedArray={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},Cc=t}(),t}(),Nc=function(t,e,i,n){return t[n]},Rc=((xc={}).arrayRows_column=function(t,e,i,n){return t[n+e]},xc.arrayRows_row=function(t,e,i,n){n+=e;for(var r=[],o=t,a=0;a<o.length;a++){var s=o[a];r.push(s?s[n]:null)}return r},xc.objectRows=Nc,xc.keyedColumns=function(t,e,i,n){for(var r=[],o=0;o<i.length;o++){0;var a=t[i[o].name];r.push(a?a[n]:null)}return r},xc.original=Nc,xc);function zc(t,e){return Rc[qc(t,e)]}var Bc=function(t,e,i){return t.length},Hc=((wc={}).arrayRows_column=function(t,e,i){return Math.max(0,t.length-e)},wc.arrayRows_row=function(t,e,i){var n=t[0];return n?Math.max(0,n.length-e):0},wc.objectRows=Bc,wc.keyedColumns=function(t,e,i){var n=t[i[0].name];return n?n.length:0},wc.original=Bc,wc);function Fc(t,e){return Hc[qc(t,e)]}var Wc=function(t,e,i){return null!=e?t[e]:t},Vc=((Sc={}).arrayRows=Wc,Sc.objectRows=function(t,e,i){return null!=e?t[i]:t},Sc.keyedColumns=Wc,Sc.original=function(t,e,i){var n=Ln(t);return null!=e&&n instanceof Array?n[e]:n},Sc.typedArray=Wc,Sc);function jc(t){return Vc[t]}function qc(t,e){return"arrayRows"===t?t+"_"+e:t}function $c(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var r,o,a=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(i);return s&&(r=s.name,o=s.index),jc(a)(n,o,r)}}}var Yc=/\{@(.+?)\}/g,Uc=function(){function t(){}return t.prototype.getDataParams=function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),r=i.getRawIndex(t),o=i.getName(t),a=i.getRawDataItem(t),s=i.getItemVisual(t,"style"),l=s&&s[i.getItemVisual(t,"drawType")||"fill"],u=s&&s.stroke,h=this.mainType,c="series"===h,d=i.userOutput;return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:o,dataIndex:r,data:a,dataType:e,value:n,color:l,borderColor:u,dimensionNames:d?d.dimensionNames:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,i,n,r,o){e=e||"normal";var a=this.getData(i),s=this.getDataParams(t,i);(o&&(s.value=o.interpolatedValue),null!=n&&F(s.value)&&(s.value=s.value[n]),r)||(r=a.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"]));return"function"==typeof r?(s.status=e,s.dimensionIndex=n,r(s)):"string"==typeof r?uh(r,s).replace(Yc,(function(e,i){var n=i.length,r="["===i.charAt(0)&&"]"===i.charAt(n-1)?+i.slice(1,n-1):i,s=$c(a,t,r);if(o&&F(o.interpolatedValue)){var l=a.getDimensionInfo(r);l&&(s=o.interpolatedValue[l.index])}return null!=s?s+"":""})):void 0},t.prototype.getRawValue=function(t,e){return $c(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,i){},t}();function Gc(t){var e,i;return Y(t)?t.type&&(i=t):e=t,{markupText:e,markupFragment:i}}function Xc(t){return new Zc(t)}var Zc=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,i=this._upstream,n=t&&t.skip;if(this._dirty&&i){var r=this.context;r.data=r.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(e=this._plan(this.context));var o,a=h(this._modBy),s=this._modDataCount||0,l=h(t&&t.modBy),u=t&&t.modDataCount||0;function h(t){return!(t>=1)&&(t=1),t}a===l&&s===u||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,o=this._doReset(n)),this._modBy=l,this._modDataCount=u;var c=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,p=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!n&&(o||d<p)){var f=this._progress;if(F(f))for(var g=0;g<f.length;g++)this._doProgress(f[g],d,p,l,u);else this._doProgress(f,d,p,l,u)}this._dueIndex=p;var m=null!=this._settedOutputEnd?this._settedOutputEnd:p;0,this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,i,n,r){Kc.reset(e,i,n,r),this._callingProgress=t,this._callingProgress({start:e,end:i,count:i-e,next:Kc.next},this.context)},t.prototype._doReset=function(t){var e,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(i=e.forceFirstProgress,e=e.progress),F(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var n=this._downstream;return n&&n.dirty(),i},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),Kc=function(){var t,e,i,n,r,o={reset:function(l,u,h,c){e=l,t=u,i=h,n=c,r=Math.ceil(n/i),o.next=i>1&&n>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%r*i+Math.ceil(e/r),a=e>=t?null:o<n?o:e;return e++,a}}();"undefined"!=typeof console&&console.warn&&console.log;function Qc(t){throw new Error(t)}function Jc(t,e){var i=e&&e.type;if("ordinal"===i){var n=e&&e.ordinalMeta;return n?n.parseAndCollect(t):t}return"time"===i&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Sn(t)),null==t||""===t?NaN:+t}st({number:function(t){return parseFloat(t)},time:function(t){return+Sn(t)},trim:function(t){return"string"==typeof t?nt(t):t}});var td={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},ed=(function(){function t(t,e){if("number"!=typeof e){0,Qc("")}this._opFn=td[t],this._rvalFloat=Tn(e)}t.prototype.evaluate=function(t){return"number"==typeof t?this._opFn(t,this._rvalFloat):this._opFn(Tn(t),this._rvalFloat)}}(),function(){function t(t,e){var i="desc"===t;this._resultLT=i?1:-1,null==e&&(e=i?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var i=typeof t,n=typeof e,r="number"===i?t:Tn(t),o="number"===n?e:Tn(e),a=isNaN(r),s=isNaN(o);if(a&&(r=this._incomparable),s&&(o=this._incomparable),a&&s){var l="string"===i,u="string"===n;l&&(r=u?t:0),u&&(o=l?e:0)}return r<o?this._resultLT:r>o?-this._resultLT:0},t}());!function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Tn(e)}t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var i=typeof t;i===this._rvalTypeof||"number"!==i&&"number"!==this._rvalTypeof||(e=Tn(t)===this._rvalFloat)}return this._isEQ?e:!e}}();var id=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return Jc(t,e)},t}();function nd(t){if(!ud(t.sourceFormat)){0,Qc("")}return t.data}function rd(t){var e=t.sourceFormat,i=t.data;if(!ud(e)){0,Qc("")}if("arrayRows"===e){for(var n=[],r=0,o=i.length;r<o;r++)n.push(i[r].slice());return n}if("objectRows"===e){for(n=[],r=0,o=i.length;r<o;r++)n.push(D({},i[r]));return n}}function od(t,e,i){if(null!=i)return"number"==typeof i||!isNaN(i)&&!ut(e,i)?t[i]:ut(e,i)?e[i]:void 0}function ad(t){return k(t)}var sd=st();function ld(t,e,i,n){e.length||Qc(""),Y(t)||Qc("");var r=t.type,o=sd.get(r);o||Qc("");var a=E(e,(function(t){return function(t,e){var i=new id,n=t.data,r=i.sourceFormat=t.sourceFormat,o=t.startIndex;"column"!==t.seriesLayoutBy&&Qc("");var a=[],s={},l=t.dimensionsDefine;if(l)L(l,(function(t,e){var i=t.name,n={index:e,name:i,displayName:t.displayName};if(a.push(n),null!=i){ut(s,i)&&Qc(""),s[i]=n}}));else for(var u=0;u<t.dimensionsDetectedCount;u++)a.push({index:u});var h=zc(r,"column");e.__isBuiltIn&&(i.getRawDataItem=function(t){return h(n,o,a,t)},i.getRawData=B(nd,null,t)),i.cloneRawData=B(rd,null,t);var c=Fc(r,"column");i.count=B(c,null,n,o,a);var d=jc(r);i.retrieveValue=function(t,e){var i=h(n,o,a,t);return p(i,e)};var p=i.retrieveValueFromItem=function(t,e){if(null!=t){var i=a[e];return i?d(t,e,i.name):void 0}};return i.getDimensionInfo=B(od,null,a,s),i.cloneAllDimensionInfo=B(ad,null,a),i}(t,o)}));return E(An(o.transform({upstream:a[0],upstreamList:a,config:k(t.config)})),(function(t,i){var n;Y(t)||Qc(""),t.data||Qc(""),ud(Pc(t.data))||Qc("");var r=e[0];if(r&&0===i&&!t.dimensions){var o=r.startIndex;o&&(t.data=r.data.slice(0,o).concat(t.data)),n={seriesLayoutBy:"column",sourceHeader:o,dimensions:r.metaRawOption.dimensions}}else n={seriesLayoutBy:"column",sourceHeader:0,dimensions:t.dimensions};return Mc(t.data,n,null,null)}))}function ud(t){return"arrayRows"===t||"objectRows"===t}var hd=function(){function t(t){this._sourceList=[],this._upstreamSignList=[],this._versionSignBase=0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[])},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&this._createSource()},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,i=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length;if(cd(i)){var o=i,a=void 0,s=void 0,l=void 0;if(r){var u=n[0];u.prepareSource(),a=(l=u.getSource()).data,s=l.sourceFormat,e=[u._getVersionSign()]}else s=G(a=o.get("data",!0))?"typedArray":"original",e=[];var h=this._getSourceMetaRawOption(),c=l?l.metaRawOption:null;t=[Mc(a,{seriesLayoutBy:Q(h.seriesLayoutBy,c?c.seriesLayoutBy:null),sourceHeader:Q(h.sourceHeader,c?c.sourceHeader:null),dimensions:Q(h.dimensions,c?c.dimensions:null)},s,o.get("encode",!0))]}else{var d=i;if(r){var p=this._applyTransform(n);t=p.sourceList,e=p.upstreamSignList}else{t=[Mc(d.get("source",!0),this._getSourceMetaRawOption(),null,null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,i=this._sourceHost,n=i.get("transform",!0),r=i.get("fromTransformResult",!0);if(null!=r){1!==t.length&&dd("")}var o,a=[],s=[];return L(t,(function(t){t.prepareSource();var e=t.getSource(r||0);null==r||e||dd(""),a.push(e),s.push(t._getVersionSign())})),n?e=function(t,e,i){var n=An(t),r=n.length;r||Qc("");for(var o=0,a=r;o<a;o++){e=ld(n[o],e,i,1===r?null:o),o!==a-1&&(e.length=Math.max(e.length,1))}return e}(n,a,{datasetIndex:i.componentIndex}):null!=r&&(e=[(o=a[0],new Tc({data:o.data,sourceFormat:o.sourceFormat,seriesLayoutBy:o.seriesLayoutBy,dimensionsDefine:k(o.dimensionsDefine),startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,encodeDefine:Ac(o.encodeDefine)}))]),{sourceList:e,upstreamSignList:s}},t.prototype._isDirty=function(){if(!this._sourceList.length)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var i=t[e];if(i._isDirty()||this._upstreamSignList[e]!==i._getVersionSign())return!0}},t.prototype.getSource=function(t){return this._sourceList[t||0]},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(cd(t)){var e=Lh(t);return e?[e.getSourceManager()]:[]}return E(function(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?Yn(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},qn).models:[]}(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,i,n=this._sourceHost;if(cd(n))t=n.get("seriesLayoutBy",!0),e=n.get("sourceHeader",!0),i=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var r=n;t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),i=r.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:i}},t}();function cd(t){return"series"===t.mainType}function dd(t){throw new Error(t)}function pd(t,e){var i=t.color||"#6e7079",n=t.fontSize||12,r=t.fontWeight||"400",o=t.color||"#464646",a=t.fontSize||14,s=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+oh(n+"")+"px;color:"+oh(i)+";font-weight:"+oh(r+""),valueStyle:"font-size:"+oh(a+"")+"px;color:"+oh(o)+";font-weight:"+oh(s+"")}:{nameStyle:{fontSize:n,fill:i,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var fd=[0,10,20,30],gd=["","\n","\n\n","\n\n\n"];function md(t,e){return e.type=t,e}function vd(t){return ut(yd,t.type)&&yd[t.type]}var yd={section:{planLayout:function(t){var e=t.blocks.length,i=e>1||e>0&&!t.noHeader,n=0;L(t.blocks,(function(t){vd(t).planLayout(t);var e=t.__gapLevelBetweenSubBlocks;e>=n&&(n=e+(!i||e&&("section"!==t.type||t.noHeader)?0:1))})),t.__gapLevelBetweenSubBlocks=n},build:function(t,e,i,n){var r=e.noHeader,o=bd(e),a=function(t,e,i,n){var r=[],o=e.blocks||[];it(!o||F(o)),o=o||[];var a=t.orderMode;if(e.sortBlocks&&a){o=o.slice();var s={valueAsc:"asc",valueDesc:"desc"};if(ut(s,a)){var l=new ed(s[a],null);o.sort((function(t,e){return l.evaluate(t.sortParam,e.sortParam)}))}else"seriesDesc"===a&&o.reverse()}var u=bd(e);if(L(o,(function(e,i){var o=vd(e).build(t,e,i>0?u.html:0,n);null!=o&&r.push(o)})),!r.length)return;return"richText"===t.renderMode?r.join(u.richText):xd(r.join(""),i)}(t,e,r?i:o.html,n);if(r)return a;var s=ah(e.header,"ordinal",t.useUTC),l=pd(n,t.renderMode).nameStyle;return"richText"===t.renderMode?wd(t,s,l)+o.richText+a:xd('<div style="'+l+';line-height:1;">'+oh(s)+"</div>"+a,i)}},nameValue:{planLayout:function(t){t.__gapLevelBetweenSubBlocks=0},build:function(t,e,i,n){var r=t.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,u=e.value,h=t.useUTC;if(!o||!a){var c=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),d=o?"":ah(l,"ordinal",h),p=e.valueType,f=a?[]:F(u)?E(u,(function(t,e){return ah(t,F(p)?p[e]:p,h)})):[ah(u,F(p)?p[0]:p,h)],g=!s||!o,m=!s&&o,v=pd(n,r),y=v.nameStyle,_=v.valueStyle;return"richText"===r?(s?"":c)+(o?"":wd(t,d,y))+(a?"":function(t,e,i,n,r){var o=[r],a=n?10:20;return i&&o.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(e.join("  "),o)}(t,f,g,m,_)):xd((s?"":c)+(o?"":function(t,e,i){return'<span style="'+i+";"+(e?"margin-left:2px":"")+'">'+oh(t)+"</span>"}(d,!s,y))+(a?"":function(t,e,i,n){var r=i?"10px":"20px";return'<span style="'+(e?"float:right;margin-left:"+r:"")+";"+n+'">'+E(t,(function(t){return oh(t)})).join("&nbsp;&nbsp;")+"</span>"}(f,g,m,_)),i)}}}};function _d(t,e,i,n,r,o){if(t){var a=vd(t);a.planLayout(t);var s={useUTC:r,renderMode:i,orderMode:n,markupStyleCreator:e};return a.build(s,t,0,o)}}function bd(t){var e=t.__gapLevelBetweenSubBlocks;return{html:fd[e],richText:gd[e]}}function xd(t,e){return'<div style="'+("margin: "+e+"px 0 0")+';line-height:1;">'+t+'<div style="clear:both"></div></div>'}function wd(t,e,i){return t.markupStyleCreator.wrapRichTextStyle(e,i)}function Sd(t,e){var i=t.get("padding");return null!=i?i:"richText"===e?[8,10]:10}var Cd=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Mn()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,i){var n="richText"===i?this._generateStyleName():null,r=function(t,e){var i=V(t)?{color:t,extraCssText:e}:t||{},n=i.color,r=i.type;e=i.extraCssText;var o=i.renderMode||"html";return n?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+oh(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+oh(n)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(i.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}:""}({color:e,type:t,renderMode:i,markerId:n});return V(r)?r:(this.richTextStyles[n]=r.style,r.content)},t.prototype.wrapRichTextStyle=function(t,e){var i={};F(e)?L(e,(function(t){return D(i,t)})):D(i,e);var n=this._generateStyleName();return this.richTextStyles[n]=i,"{"+n+"|"+t+"}"},t}();function kd(t){var e,i,n,r,o=t.series,a=t.dataIndex,s=t.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),h=u.length,c=o.getRawValue(a),d=F(c),p=function(t,e){return hh(t.getData().getItemVisual(e,"style")[t.visualDrawType])}(o,a);if(h>1||d&&!h){var f=function(t,e,i,n,r){var o=e.getData(),a=N(t,(function(t,e,i){var n=o.getDimensionInfo(i);return t||n&&!1!==n.tooltip&&null!=n.displayName}),!1),s=[],l=[],u=[];function h(t,e){var i=o.getDimensionInfo(e);i&&!1!==i.otherDims.tooltip&&(a?u.push(md("nameValue",{markerType:"subItem",markerColor:r,name:i.displayName,value:t,valueType:i.type})):(s.push(t),l.push(i.type)))}return n.length?L(n,(function(t){h($c(o,i,t),t)})):L(t,h),{inlineValues:s,inlineValueTypes:l,blocks:u}}(c,o,a,u,p);e=f.inlineValues,i=f.inlineValueTypes,n=f.blocks,r=f.inlineValues[0]}else if(h){var g=l.getDimensionInfo(u[0]);r=e=$c(l,a,u[0]),i=g.type}else r=e=d?c[0]:c;var m=Bn(o),v=m&&o.name||"",y=l.getName(a),_=s?v:y;return md("section",{header:v,noHeader:s||!m,sortParam:r,blocks:[md("nameValue",{markerType:"item",markerColor:p,name:_,noName:!nt(_),value:e,valueType:i})].concat(n||[])})}var Td=Wn();function Dd(t,e){return t.getName(e)||t.getId(e)}var Md=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}var i;return a(e,t),e.prototype.init=function(t,e,i){this.seriesIndex=this.componentIndex,this.dataTask=Xc({count:Ad,reset:Pd}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),(Td(this).sourceManager=new hd(this)).prepareSource();var n=this.getInitialData(t,i);Ld(n,this),this.dataTask.context.data=n,Td(this).dataBeforeProcessed=n,Id(this),this._initSelectedMapFromData(n)},e.prototype.mergeDefaultAndTheme=function(t,e){var i=yh(this),n=i?bh(t):{},r=this.subType;Sh.hasClass(r)&&(r+="Series"),T(t,e.getTheme().get(this.subType)),T(t,this.getDefaultOption()),Pn(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&_h(t,n,i)},e.prototype.mergeOption=function(t,e){t=T(this.option,t,!0),this.fillDataTextStyle(t.data);var i=yh(this);i&&_h(this.option,t,i);var n=Td(this).sourceManager;n.dirty(),n.prepareSource();var r=this.getInitialData(t,e);Ld(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,Td(this).dataBeforeProcessed=r,Id(this),this._initSelectedMapFromData(r)},e.prototype.fillDataTextStyle=function(t){if(t&&!G(t))for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&Pn(t[i],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var e=Nd(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return Td(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=Nd(this);if(e){var i=e.context;i.outputData=t,e!==this.dataTask&&(i.data=t)}Td(this).data=t},e.prototype.getSource=function(){return Td(this).sourceManager.getSource()},e.prototype.getRawData=function(){return Td(this).dataBeforeProcessed},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,i){return kd({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){if(h.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,i){var n=this.ecModel,r=Wh.prototype.getColorFromPalette.call(this,t,e,i);return r||(r=n.getColorFromPalette(t,e,i)),r},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var i=this.option.selectedMap;if(i)for(var n=this.getData(e),r=0;r<t.length;r++){var o=Dd(n,t[r]);i[o]=!1,this._selectedDataIndicesMap[o]=-1}},e.prototype.toggleSelect=function(t,e){for(var i=[],n=0;n<t.length;n++)i[0]=t[n],this.isSelected(t[n],e)?this.unselect(i,e):this.select(i,e)},e.prototype.getSelectedDataIndices=function(){for(var t=this._selectedDataIndicesMap,e=z(t),i=[],n=0;n<e.length;n++){var r=t[e[n]];r>=0&&i.push(r)}return i},e.prototype.isSelected=function(t,e){var i=this.option.selectedMap;return i&&i[Dd(this.getData(e),t)]||!1},e.prototype._innerSelect=function(t,e){var i,n,r=this.option.selectedMode,o=e.length;if(r&&o)if("multiple"===r)for(var a=this.option.selectedMap||(this.option.selectedMap={}),s=0;s<o;s++){var l=e[s];a[h=Dd(t,l)]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(l)}else if("single"===r||!0===r){var u=e[o-1],h=Dd(t,u);this.option.selectedMap=((i={})[h]=!0,i),this._selectedDataIndicesMap=((n={})[h]=t.getRawIndex(u),n)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(i){var n=t.getRawDataItem(i);"object"==typeof n&&n.selected&&e.push(i)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return Sh.registerClass(t)},e.protoInitialize=((i=e.prototype).type="series.__base__",i.seriesIndex=0,i.useColorPaletteOnData=!1,i.ignoreStyleOnData=!1,i.hasSymbolVisual=!1,i.defaultSymbol="circle",i.visualStyleAccessPath="itemStyle",void(i.visualDrawType="fill")),e}(Sh);function Id(t){var e=t.name;Bn(t)||(t.name=function(t){var e=t.getRawData(),i=e.mapDimensionsAll("seriesName"),n=[];return L(i,(function(t){var i=e.getDimensionInfo(t);i.displayName&&n.push(i.displayName)})),n.join(" ")}(t)||e)}function Ad(t){return t.model.getRawData().count()}function Pd(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),Od}function Od(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Ld(t,e){L(s(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(i){t.wrapMethod(i,H(Ed,e))}))}function Ed(t,e){var i=Nd(t);return i&&i.setOutputEnd((e||this).count()),e}function Nd(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(t.uid))}return n}}P(Md,Uc),P(Md,Wh),Qn(Md,Sh);var Rd=Md,zd=function(){function t(){this.group=new hn,this.uid=Du("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,i,n){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,i,n){},t.prototype.updateLayout=function(t,e,i,n){},t.prototype.updateVisual=function(t,e,i,n){},t.prototype.blurSeries=function(t,e){},t}();Zn(zd),ir(zd);var Bd=zd;function Hd(){var t=Wn();return function(e){var i=t(e),n=e.pipelineContext,r=!!i.large,o=!!i.progressiveRender,a=i.large=!(!n||!n.large),s=i.progressiveRender=!(!n||!n.progressiveRender);return!(r===a&&o===s)&&"reset"}}var Fd=Wn(),Wd=Hd(),Vd=function(){function t(){this.group=new hn,this.uid=Du("viewChart"),this.renderTask=Xc({plan:$d,reset:Yd}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,i,n){},t.prototype.highlight=function(t,e,i,n){qd(t.getData(),n,"emphasis")},t.prototype.downplay=function(t,e,i,n){qd(t.getData(),n,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,i,n){this.render(t,e,i,n)},t.prototype.updateLayout=function(t,e,i,n){this.render(t,e,i,n)},t.prototype.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},t.markUpdateMethod=function(t,e){Fd(t).updateMethod=e},t.protoInitialize=void(t.prototype.type="chart"),t}();function jd(t,e,i){t&&("emphasis"===e?qa:$a)(t,i)}function qd(t,e,i){var n=Fn(t,e),r=e&&null!=e.highlightKey?function(t){var e=Ta[t];return null==e&&ka<=32&&(e=Ta[t]=ka++),e}(e.highlightKey):null;null!=n?L(An(n),(function(e){jd(t.getItemGraphicEl(e),i,r)})):t.eachItemGraphicEl((function(t){jd(t,i,r)}))}function $d(t){return Wd(t.model)}function Yd(t){var e=t.model,i=t.ecModel,n=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=r&&Fd(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,i,n,r),Ud[l]}Zn(Vd),ir(Vd);var Ud={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Gd=Vd,Xd="\0__throttleOriginMethod",Zd="\0__throttleRate";function Kd(t,e,i){var n,r,o,a,s,l=0,u=0,h=null;function c(){u=(new Date).getTime(),h=null,t.apply(o,a||[])}e=e||0;var d=function(){for(var t=[],d=0;d<arguments.length;d++)t[d]=arguments[d];n=(new Date).getTime(),o=this,a=t;var p=s||e,f=s||i;s=null,r=n-(f?l:u)-p,clearTimeout(h),f?h=setTimeout(c,p):r>=0?c():h=setTimeout(c,-r),l=n};return d.clear=function(){h&&(clearTimeout(h),h=null)},d.debounceNextCall=function(t){s=t},d}var Qd=Wn(),Jd={itemStyle:nr(xu,!0),lineStyle:nr(yu,!0)},tp={lineStyle:"stroke",itemStyle:"fill"};function ep(t,e){var i=t.visualStyleMapper||Jd[e];return i||(console.warn("Unkown style type '"+e+"'."),Jd.itemStyle)}function ip(t,e){var i=t.visualDrawType||tp[e];return i||(console.warn("Unkown style type '"+e+"'."),"fill")}var np={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData(),n=t.visualStyleAccessPath||"itemStyle",r=t.getModel(n),o=ep(t,n)(r),a=r.getShallow("decal");a&&(i.setVisual("decal",a),a.dirty=!0);var s=ip(t,n),l=o[s],u=W(l)?l:null;if(o[s]&&!u||(o[s]=t.getColorFromPalette(t.name,null,e.getSeriesCount()),i.setVisual("colorFromPalette",!0)),i.setVisual("style",o),i.setVisual("drawType",s),!e.isSeriesFiltered(t)&&u)return i.setVisual("colorFromPalette",!1),{dataEach:function(e,i){var n=t.getDataParams(i),r=D({},o);r[s]=u(n),e.setItemVisual(i,"style",r)}}}},rp=new ku,op={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var i=t.getData(),n=t.visualStyleAccessPath||"itemStyle",r=ep(t,n),o=i.getVisual("drawType");return{dataEach:i.hasItemOption?function(t,e){var i=t.getRawDataItem(e);if(i&&i[n]){rp.option=i[n];var a=r(rp);D(t.ensureUniqueItemVisual(e,"style"),a),rp.option.decal&&(t.setItemVisual(e,"decal",rp.option.decal),rp.option.decal.dirty=!0),o in a&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},ap={performRawSeries:!0,overallReset:function(t){var e=st();t.eachSeries((function(t){if(t.useColorPaletteOnData){var i=e.get(t.type);i||(i={},e.set(t.type,i)),Qd(t).scope=i}})),t.eachSeries((function(e){if(e.useColorPaletteOnData&&!t.isSeriesFiltered(e)){var i=e.getRawData(),n={},r=e.getData(),o=Qd(e).scope,a=e.visualStyleAccessPath||"itemStyle",s=ip(e,a);r.each((function(t){var e=r.getRawIndex(t);n[e]=t})),i.each((function(t){var a=n[t];if(r.getItemVisual(a,"colorFromPalette")){var l=r.ensureUniqueItemVisual(a,"style"),u=i.getName(t)||t+"",h=i.count();l[s]=e.getColorFromPalette(u,o,h)}}))}}))}},sp=Math.PI;var lp=function(){function t(t,e,i,n){this._stageTaskMap=st(),this.ecInstance=t,this.api=e,i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice(),this._allHandlers=i.concat(n)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context,r=!e&&i.progressiveEnabled&&(!n||n.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,o=n&&n.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData().count(),r=i.progressiveEnabled&&e.incrementalPrepareRender&&n>=i.threshold,o=t.get("large")&&n>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?n:null;t.pipelineContext=i.context={progressiveRender:r,modDataCount:a,large:o}},t.prototype.restorePipelines=function(t){var e=this,i=e._pipelineMap=st();t.eachSeries((function(t){var n=t.getProgressive(),r=t.uid;i.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:n&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(n||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),i=this.api;L(this._allHandlers,(function(n){var r=t.get(n.uid)||t.set(n.uid,{});it(!(n.reset&&n.overallReset),""),n.reset&&this._createSeriesStageTask(n,r,e,i),n.overallReset&&this._createOverallStageTask(n,r,e,i)}),this)},t.prototype.prepareView=function(t,e,i,n){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=i,o.api=n,r.__block=!t.incrementalPrepareRender,this._pipe(e,r)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,i){this._performStageTasks(this._visualHandlers,t,e,i)},t.prototype._performStageTasks=function(t,e,i,n){n=n||{};var r=!1,o=this;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}L(t,(function(t,s){if(!n.visualType||n.visualType===t.visualType){var l=o._stageTaskMap.get(t.uid),u=l.seriesTaskMap,h=l.overallTask;if(h){var c,d=h.agentStubMap;d.each((function(t){a(n,t)&&(t.dirty(),c=!0)})),c&&h.dirty(),o.updatePayload(h,i);var p=o.getPerformArgs(h,n.block);d.each((function(t){t.perform(p)})),h.perform(p)&&(r=!0)}else u&&u.each((function(s,l){a(n,s)&&s.dirty();var u=o.getPerformArgs(s,n.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model),o.updatePayload(s,i),s.perform(u)&&(r=!0)}))}})),this.unfinished=r||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,i,n){var r=this,o=e.seriesTaskMap,a=e.seriesTaskMap=st(),s=t.seriesType,l=t.getTargetSeries;function u(e){var s=e.uid,l=a.set(s,o&&o.get(s)||Xc({plan:pp,reset:fp,count:vp}));l.context={model:e,ecModel:i,api:n,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:r},r._pipe(e,l)}t.createOnAllSeries?i.eachRawSeries(u):s?i.eachRawSeriesByType(s,u):l&&l(i,n).each(u)},t.prototype._createOverallStageTask=function(t,e,i,n){var r=this,o=e.overallTask=e.overallTask||Xc({reset:up});o.context={ecModel:i,api:n,overallReset:t.overallReset,scheduler:r};var a=o.agentStubMap,s=o.agentStubMap=st(),l=t.seriesType,u=t.getTargetSeries,h=!0,c=!1;function d(t){var e=t.uid,i=s.set(e,a&&a.get(e)||(c=!0,Xc({reset:hp,onDirty:dp})));i.context={model:t,overallProgress:h},i.agent=o,i.__block=h,r._pipe(t,i)}it(!t.createOnAllSeries,""),l?i.eachRawSeriesByType(l,d):u?u(i,n).each(d):(h=!1,L(i.getSeries(),d)),c&&o.dirty()},t.prototype._pipe=function(t,e){var i=t.uid,n=this._pipelineMap.get(i);!n.head&&(n.head=e),n.tail&&n.tail.pipe(e),n.tail=e,e.__idxInPipeline=n.count++,e.__pipeline=n},t.wrapStageHandler=function(t,e){return W(t)&&(t={overallReset:t,seriesType:yp(t)}),t.uid=Du("stageHandler"),e&&(t.visualType=e),t},t}();function up(t){t.overallReset(t.ecModel,t.api,t.payload)}function hp(t){return t.overallProgress&&cp}function cp(){this.agent.dirty(),this.getDownstream().dirty()}function dp(){this.agent&&this.agent.dirty()}function pp(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function fp(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=An(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?E(e,(function(t,e){return mp(e)})):gp}var gp=mp(0);function mp(t){return function(e,i){var n=i.data,r=i.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(n,o);else r&&r.progress&&r.progress(e,n)}}function vp(t){return t.data.count()}function yp(t){_p=null;try{t(bp,xp)}catch(t){}return _p}var _p,bp={},xp={};function wp(t,e){for(var i in e.prototype)t[i]=ht}wp(bp,Uh),wp(xp,Xh),bp.eachSeriesByType=bp.eachRawSeriesByType=function(t){_p=t},bp.eachComponent=function(t){"series"===t.mainType&&t.subType&&(_p=t.subType)};var Sp=lp,Cp=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],kp={color:Cp,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Cp]},Tp=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Dp={darkMode:!0,color:Tp,backgroundColor:"#100C2A",axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:"#B9B8CE"}},textStyle:{color:"#B9B8CE"},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:"#B9B8CE"}},dataZoom:{borderColor:"#71708A",textStyle:{color:"#B9B8CE"},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:"#B9B8CE"}},timeline:{lineStyle:{color:"#B9B8CE"},label:{color:"#B9B8CE"},controlStyle:{color:"#B9B8CE",borderColor:"#B9B8CE"}},calendar:{itemStyle:{color:"#100C2A"},dayLabel:{color:"#B9B8CE"},monthLabel:{color:"#B9B8CE"},yearLabel:{color:"#B9B8CE"}},timeAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},logAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},valueAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},categoryAxis:{axisLine:{lineStyle:{color:"#B9B8CE"}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}},line:{symbol:"circle"},graph:{color:Tp},gauge:{title:{color:"#B9B8CE"},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:"#B9B8CE"},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Dp.categoryAxis.splitLine.show=!1;var Mp=Dp;var Ip=st(),Ap=function(t,e,i){var n;if(F(e))n=e;else if(e.svg)n=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}];else{var r=e.geoJson||e.geoJSON;r&&!e.features&&(i=e.specialAreas,e=r),n=[{type:"geoJSON",source:e,specialAreas:i}]}return L(n,(function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,Pp[e])(t)})),Ip.set(t,n)},Pp={geoJSON:function(t){var e=t.source;t.geoJSON=V(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=function(t){V(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));var e=t;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}(t.source)}},Op=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},i={},n={};if(V(t)){var r=Xn(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var o=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};L(t,(function(t,r){for(var s=!1,l=0;l<o.length;l++){var u=o[l],h=r.lastIndexOf(u);if(h>0&&h===r.length-u.length){var c=r.slice(0,h);"data"!==c&&(e.mainType=c,e[u.toLowerCase()]=t,s=!0)}}a.hasOwnProperty(r)&&(i[r]=t,s=!0),s||(n[r]=t)}))}return{cptQuery:e,dataQuery:i,otherQuery:n}},t.prototype.filter=function(t,e){var i=this.eventInfo;if(!i)return!0;var n=i.targetEl,r=i.packedEvent,o=i.model,a=i.view;if(!o||!a)return!0;var s=e.cptQuery,l=e.dataQuery;return u(s,o,"mainType")&&u(s,o,"subType")&&u(s,o,"index","componentIndex")&&u(s,o,"name")&&u(s,o,"id")&&u(l,r,"name")&&u(l,r,"dataIndex")&&u(l,r,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,n,r));function u(t,e,i,n){return null==t[i]||e[n||i]===t[i]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),Lp={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData();if(t.legendSymbol&&i.setVisual("legendSymbol",t.legendSymbol),t.hasSymbolVisual){var n=t.get("symbol"),r=t.get("symbolSize"),o=t.get("symbolKeepAspect"),a=t.get("symbolRotate"),s=W(n),l=W(r),u=W(a),h=s||l||u,c=!s&&n?n:t.defaultSymbol,d=l?null:r,p=u?null:a;if(i.setVisual({legendSymbol:t.legendSymbol||c,symbol:c,symbolSize:d,symbolKeepAspect:o,symbolRotate:p}),!e.isSeriesFiltered(t))return{dataEach:h?function(e,i){var o=t.getRawValue(i),h=t.getDataParams(i);s&&e.setItemVisual(i,"symbol",n(o,h)),l&&e.setItemVisual(i,"symbolSize",r(o,h)),u&&e.setItemVisual(i,"symbolRotate",a(o,h))}:null}}}};var Ep=2*Math.PI,Np=Po.CMD,Rp=["top","right","bottom","left"];function zp(t,e,i,n,r){var o=i.width,a=i.height;switch(t){case"top":n.set(i.x+o/2,i.y-e),r.set(0,-1);break;case"bottom":n.set(i.x+o/2,i.y+a+e),r.set(0,1);break;case"left":n.set(i.x-e,i.y+a/2),r.set(-1,0);break;case"right":n.set(i.x+o+e,i.y+a/2),r.set(1,0)}}function Bp(t,e,i,n,r,o,a,s,l){a-=t,s-=e;var u=Math.sqrt(a*a+s*s),h=(a/=u)*i+t,c=(s/=u)*i+e;if(Math.abs(n-r)%Ep<1e-4)return l[0]=h,l[1]=c,u-i;if(o){var d=n;n=Ro(r),r=Ro(d)}else n=Ro(n),r=Ro(r);n>r&&(r+=Ep);var p=Math.atan2(s,a);if(p<0&&(p+=Ep),p>=n&&p<=r||p+Ep>=n&&p+Ep<=r)return l[0]=h,l[1]=c,u-i;var f=i*Math.cos(n)+t,g=i*Math.sin(n)+e,m=i*Math.cos(r)+t,v=i*Math.sin(r)+e,y=(f-a)*(f-a)+(g-s)*(g-s),_=(m-a)*(m-a)+(v-s)*(v-s);return y<_?(l[0]=f,l[1]=g,Math.sqrt(y)):(l[0]=m,l[1]=v,Math.sqrt(_))}function Hp(t,e,i,n,r,o,a,s){var l=r-t,u=o-e,h=i-t,c=n-e,d=Math.sqrt(h*h+c*c),p=(l*(h/=d)+u*(c/=d))/d;s&&(p=Math.min(Math.max(p,0),1)),p*=d;var f=a[0]=t+p*h,g=a[1]=e+p*c;return Math.sqrt((f-r)*(f-r)+(g-o)*(g-o))}function Fp(t,e,i,n,r,o,a){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n);var s=t+i,l=e+n,u=a[0]=Math.min(Math.max(r,t),s),h=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((u-r)*(u-r)+(h-o)*(h-o))}var Wp=[];function Vp(t,e,i){var n=Fp(e.x,e.y,e.width,e.height,t.x,t.y,Wp);return i.set(Wp[0],Wp[1]),n}function jp(t,e,i){for(var n,r,o=0,a=0,s=0,l=0,u=1/0,h=e.data,c=t.x,d=t.y,p=0;p<h.length;){var f=h[p++];1===p&&(s=o=h[p],l=a=h[p+1]);var g=u;switch(f){case Np.M:o=s=h[p++],a=l=h[p++];break;case Np.L:g=Hp(o,a,h[p],h[p+1],c,d,Wp,!0),o=h[p++],a=h[p++];break;case Np.C:g=jr(o,a,h[p++],h[p++],h[p++],h[p++],h[p],h[p+1],c,d,Wp),o=h[p++],a=h[p++];break;case Np.Q:g=Xr(o,a,h[p++],h[p++],h[p],h[p+1],c,d,Wp),o=h[p++],a=h[p++];break;case Np.A:var m=h[p++],v=h[p++],y=h[p++],_=h[p++],b=h[p++],x=h[p++];p+=1;var w=!!(1-h[p++]);n=Math.cos(b)*y+m,r=Math.sin(b)*_+v,p<=1&&(s=n,l=r),g=Bp(m,v,_,b,b+x,w,(c-m)*_/y+m,d,Wp),o=Math.cos(b+x)*y+m,a=Math.sin(b+x)*_+v;break;case Np.R:g=Fp(s=o=h[p++],l=a=h[p++],h[p++],h[p++],c,d,Wp);break;case Np.Z:g=Hp(o,a,s,l,c,d,Wp,!0),o=s,a=l}g<u&&(u=g,i.set(Wp[0],Wp[1]))}return u}var qp=new ti,$p=new ti,Yp=new ti,Up=new ti,Gp=new ti;function Xp(t,e){if(t){var i=t.getTextGuideLine(),n=t.getTextContent();if(n&&i){var r=t.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||Rp,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=r.anchor,h=t.getComputedTransform(),c=h&&ue([],h),d=e.get("length2")||0;u&&Yp.copy(u);for(var p=0;p<a.length;p++){zp(a[p],0,s,qp,Up),ti.scaleAndAdd($p,qp,Up,d),$p.transform(c);var f=t.getBoundingRect(),g=u?u.distance($p):t instanceof Ko?jp($p,t.path,Yp):Vp($p,f,Yp);g<l&&(l=g,$p.transform(h),Yp.transform(h),Yp.toArray(o[0]),$p.toArray(o[1]),qp.toArray(o[2]))}!function(t,e){if(!(e<=180&&e>0))return;e=e/180*Math.PI,qp.fromArray(t[0]),$p.fromArray(t[1]),Yp.fromArray(t[2]),ti.sub(Up,qp,$p),ti.sub(Gp,Yp,$p);var i=Up.len(),n=Gp.len();if(i<.001||n<.001)return;Up.scale(1/i),Gp.scale(1/n);var r=Up.dot(Gp);if(Math.cos(e)<r){var o=Hp($p.x,$p.y,Yp.x,Yp.y,qp.x,qp.y,Zp,!1);Kp.fromArray(Zp),Kp.scaleAndAdd(Gp,o/Math.tan(Math.PI-e));var a=Yp.x!==$p.x?(Kp.x-$p.x)/(Yp.x-$p.x):(Kp.y-$p.y)/(Yp.y-$p.y);if(isNaN(a))return;a<0?ti.copy(Kp,$p):a>1&&ti.copy(Kp,Yp),Kp.toArray(t[1])}}(o,e.get("minTurnAngle")),i.setShape({points:o})}}}var Zp=[],Kp=new ti;function Qp(t,e,i,n){var r="normal"===i,o=r?t:t.ensureState(i);o.ignore=e;var a=n.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=n.getModel("lineStyle").getLineStyle();r?t.useStyle(s):o.style=s}function Jp(t,e){var i=e.smooth,n=e.points;if(n)if(t.moveTo(n[0][0],n[0][1]),i>0&&n.length>=3){var r=wt(n[0],n[1]),o=wt(n[1],n[2]);if(!r||!o)return t.lineTo(n[1][0],n[1][1]),void t.lineTo(n[2][0],n[2][1]);var a=Math.min(r,o)*i,s=Ct([],n[1],n[0],a/r),l=Ct([],n[1],n[2],a/o),u=Ct([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var h=1;h<n.length;h++)t.lineTo(n[h][0],n[h][1])}function tf(t,e,i,n,r,o){var a=t.length;if(!(a<2)){t.sort((function(t,i){return t.rect[e]-i.rect[e]}));for(var s,l=0,u=!1,h=[],c=0,d=0;d<a;d++){var p=t[d],f=p.rect;(s=f[e]-l)<0&&(f[e]-=s,p.label[e]-=s,u=!0);var g=Math.max(-s,0);h.push(g),c+=g,l=f[e]+f[i]}c>0&&o&&w(-c/a,0,a);var m,v,y=t[0],_=t[a-1];return b(),m<0&&S(-m,.8),v<0&&S(v,.8),b(),x(m,v,1),x(v,m,-1),b(),m<0&&C(-m),v<0&&C(v),u}function b(){m=y.rect[e]-n,v=r-_.rect[e]-_.rect[i]}function x(t,e,i){if(t<0){var n=Math.min(e,-t);if(n>0){w(n*i,0,a);var r=n+t;r<0&&S(-r*i,1)}else S(-t*i,1)}}function w(i,n,r){0!==i&&(u=!0);for(var o=n;o<r;o++){var a=t[o];a.rect[e]+=i,a.label[e]+=i}}function S(n,r){for(var o=[],s=0,l=1;l<a;l++){var u=t[l-1].rect,h=Math.max(t[l].rect[e]-u[e]-u[i],0);o.push(h),s+=h}if(s){var c=Math.min(Math.abs(n)/s,r);if(n>0)for(l=0;l<a-1;l++){w(o[l]*c,0,l+1)}else for(l=a-1;l>0;l--){w(-(o[l-1]*c),l,a)}}}function C(t){var e=t<0?-1:1;t=Math.abs(t);for(var i=Math.ceil(t/(a-1)),n=0;n<a-1;n++)if(e>0?w(i,0,n+1):w(-i,a-n-1,a),(t-=i)<=0)return}}function ef(t){if(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].slice());return e}}function nf(t,e){var i=t.label,n=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:i.style.align,verticalAlign:i.style.verticalAlign,labelLinePoints:ef(n&&n.shape.points)}}var rf=["align","verticalAlign","width","height","fontSize"],of=new me,af=Wn(),sf=Wn();function lf(t,e,i){for(var n=0;n<i.length;n++){var r=i[n];null!=e[r]&&(t[r]=e[r])}}var uf=["x","y","rotation"],hf=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,i,n,r){var o=n.style,a=n.__hostTarget.textConfig||{},s=n.getComputedTransform(),l=n.getBoundingRect().plain();ui.applyTransform(l,l,s),s?of.setLocalTransform(s):(of.x=of.y=of.rotation=of.originX=of.originY=0,of.scaleX=of.scaleY=1);var u,h=n.__hostTarget;if(h){u=h.getBoundingRect().plain();var c=h.getComputedTransform();ui.applyTransform(u,u,c)}var d=u&&h.getTextGuideLine();this._labelList.push({label:n,labelLine:d,seriesModel:i,dataIndex:t,dataType:e,layoutOption:r,computedLayoutOption:null,rect:l,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:n.ignore,labelGuideIgnore:d&&d.ignore,x:of.x,y:of.y,rotation:of.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:n.cursor,attachedPos:a.position,attachedRot:a.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var i=t.__model,n=i.get("labelLayout");(W(n)||z(n).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var r=t.getTextContent(),o=Ca(t);r&&!r.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,i,r,n)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),i=t.getHeight();function n(t,e){return function(){Xp(t,e)}}for(var r=0;r<this._labelList.length;r++){var o=this._labelList[r],a=o.label,s=a.__hostTarget,l=o.defaultAttr,u=void 0;u=(u="function"==typeof o.layoutOption?o.layoutOption(nf(o,s)):o.layoutOption)||{},o.computedLayoutOption=u;var h=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*h:l.attachedRot,offset:[u.dx||0,u.dy||0]});var c=!1;if(null!=u.x?(a.x=vn(u.x,e),a.setStyle("x",0),c=!0):(a.x=l.x,a.setStyle("x",l.style.x)),null!=u.y?(a.y=vn(u.y,i),a.setStyle("y",0),c=!0):(a.y=l.y,a.setStyle("y",l.style.y)),u.labelLinePoints){var d=s.getTextGuideLine();d&&(d.setShape({points:u.labelLinePoints}),c=!1)}af(a).needsUpdateLabelLine=c,a.rotation=null!=u.rotate?u.rotate*h:l.rotation;for(var p=0;p<rf.length;p++){var f=rf[p];a.setStyle(f,null!=u[f]?u[f]:l.style[f])}if(u.draggable){if(a.draggable=!0,a.cursor="move",s){var g=o.seriesModel;if(null!=o.dataIndex)g=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on("drag",n(s,g.getModel("labelLine")))}}else a.off("drag"),a.cursor=l.cursor}},t.prototype.layout=function(t){var e,i=t.getWidth(),n=t.getHeight(),r=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(!n.defaultAttr.ignore){var r=n.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new vl(a,o):null;e.push({label:r,labelLine:n.labelLine,rect:u,localRect:a,obb:h,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:o})}}return e}(this._labelList),o=R(r,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),a=R(r,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));tf(o,"x","width",0,i,e),function(t,e,i,n){tf(t,"y","height",e,i,n)}(a,0,n),function(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var i=new ui(0,0,0,0);function n(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var r=0;r<t.length;r++){var o=t[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,h=o.labelLine;i.copy(o.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var c=o.obb,d=!1,p=0;p<e.length;p++){var f=e[p];if(i.intersect(f.rect)){if(a&&f.axisAligned){d=!0;break}if(f.obb||(f.obb=new vl(f.localRect,f.transform)),c||(c=new vl(s,l)),c.intersect(f.obb)){d=!0;break}}}d?(n(u),h&&n(h)):(u.attr("ignore",o.defaultAttr.ignore),h&&h.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}(R(r,(function(t){return t.layoutOption.hideOverlap})))},t.prototype.processLabelsOverall=function(){var t=this;L(this._chartViewList,(function(e){var i=e.__model,n=e.ignoreLabelLineUpdate,r=i.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore)return!0;var o=!n,a=e.getTextContent();!o&&a&&(o=af(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,i),r&&t._animateLabels(e,i)}))}))},t.prototype._updateLabelLine=function(t,e){var i=t.getTextContent(),n=Ca(t),r=n.dataIndex;if(i&&null!=r){var o=e.getData(n.dataType),a=o.getItemModel(r),s={},l=o.getItemVisual(r,"style"),u=o.getVisual("drawType");s.stroke=l[u];var h=a.getModel("labelLine");!function(t,e,i){var n=t.getTextGuideLine(),r=t.getTextContent();if(r){for(var o=e.normal,a=o.get("show"),s=r.ignore,l=0;l<Ia.length;l++){var u=Ia[l],h=e[u],c="normal"===u;if(h){var d=h.get("show");if((c?s:Q(r.states[u]&&r.states[u].ignore,s))||!Q(d,a)){var p=c?n:n&&n.states.normal;p&&(p.ignore=!0);continue}n||(n=new Zs,t.setTextGuideLine(n),c||!s&&a||Qp(n,!0,"normal",e.normal),t.stateProxy&&(n.stateProxy=t.stateProxy)),Qp(n,!1,u,h)}}if(n){M(n.style,i),n.style.fill=null;var f=o.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=f||!1,n.buildPath=Jp}}else n&&t.removeTextGuideLine()}(t,function(t,e){e=e||"labelLine";for(var i={normal:t.getModel(e)},n=0;n<Ma.length;n++){var r=Ma[n];i[r]=t.getModel([r,e])}return i}(a),s),Xp(t,h)}},t.prototype._animateLabels=function(t,e){var i=t.getTextContent(),n=t.getTextGuideLine();if(i&&!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!Vl(t)){var r=(p=af(i)).oldLayout,o=Ca(t),a=o.dataIndex,s={x:i.x,y:i.y,rotation:i.rotation},l=e.getData(o.dataType);if(r){i.attr(r);var u=t.prevStates;u&&(A(u,"select")>=0&&i.attr(p.oldLayoutSelect),A(u,"emphasis")>=0&&i.attr(p.oldLayoutEmphasis)),zl(i,s,e,a)}else if(i.attr(s),!cu(i).valueAnimation){var h=Q(i.style.opacity,1);i.style.opacity=0,Bl(i,{style:{opacity:h}},e,a)}if(p.oldLayout=s,i.states.select){var c=p.oldLayoutSelect={};lf(c,s,uf),lf(c,i.states.select,uf)}if(i.states.emphasis){var d=p.oldLayoutEmphasis={};lf(d,s,uf),lf(d,i.states.emphasis,uf)}du(i,a,l,e,e)}if(n&&!n.ignore&&!n.invisible){r=(p=sf(n)).oldLayout;var p,f={points:n.shape.points};r?(n.attr({shape:r}),zl(n,{shape:f},e)):(n.setShape(f),n.style.strokePercent=0,Bl(n,{style:{strokePercent:1}},e)),p.oldLayout=f}},t}();function cf(t,e,i,n,r){var o=t+e;i.isSilent(o)||n.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e=t.seriesIndex,n=r.selected,a=0;a<n.length;a++)if(n[a].seriesIndex===e){var s=t.getData(),l=Fn(s,r.fromActionPayload);i.trigger(o,{type:o,seriesId:t.id,name:F(l)?s.getName(l[0]):s.getName(l),selected:D({},t.option.selectedMap)})}}))}function df(t,e,i){for(var n;t&&(!e(t)||(n=t,!i));)t=t.__hostTarget||t.parent;return n}var pf=Math.round(9*Math.random()),ff=function(){function t(){this._id="__ec_inner_"+pf++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var i=this._guard(t);return"function"==typeof Object.defineProperty?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),gf=Ko.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+r,n+o),t.lineTo(i-r,n+o),t.closePath()}}),mf=Ko.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+r,n),t.lineTo(i,n+o),t.lineTo(i-r,n),t.closePath()}}),vf=Ko.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=n-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),d=Math.cos(u),p=.6*a,f=.7*a;t.moveTo(i-h,l+s),t.arc(i,l,a,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(i+h-c*p,l+s+d*p,i,n-f,i,n),t.bezierCurveTo(i,n-f,i-h+c*p,l+s+d*p,i-h,l+s),t.closePath()}}),yf=Ko.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,r=e.x,o=e.y,a=n/3*2;t.moveTo(r,o),t.lineTo(r+a,o+i),t.lineTo(r,o+i/4*3),t.lineTo(r-a,o+i),t.lineTo(r,o),t.closePath()}}),_f={line:function(t,e,i,n,r){r.x=t,r.y=e+n/2-1,r.width=i,r.height=2},rect:function(t,e,i,n,r){r.x=t,r.y=e,r.width=i,r.height=n},roundRect:function(t,e,i,n,r){r.x=t,r.y=e,r.width=i,r.height=n,r.r=Math.min(i,n)/4},square:function(t,e,i,n,r){var o=Math.min(i,n);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.r=Math.min(i,n)/2},diamond:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.width=i,r.height=n},pin:function(t,e,i,n,r){r.x=t+i/2,r.y=e+n/2,r.width=i,r.height=n},arrow:function(t,e,i,n,r){r.x=t+i/2,r.y=e+n/2,r.width=i,r.height=n},triangle:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.width=i,r.height=n}},bf={};L({line:da,rect:da,roundRect:da,square:da,circle:ws,diamond:mf,pin:vf,arrow:yf,triangle:gf},(function(t,e){bf[e]=new t}));var xf=Ko.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,i){var n=_i(t,e,i),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(n.y=i.y+.4*i.height),n},buildPath:function(t,e,i){var n=e.symbolType;if("none"!==n){var r=bf[n];r||(r=bf[n="rect"]),_f[n](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,i)}}});function wf(t,e){if("image"!==this.type){var i=this.style;this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff",i.lineWidth=2):i.fill=t,this.markRedraw()}}function Sf(t,e,i,n,r,o,a){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?Il(t.slice(8),new ui(e,i,n,r),a?"center":"cover"):0===t.indexOf("path://")?Ml(t.slice(7),{},new ui(e,i,n,r),a?"center":"cover"):new xf({shape:{symbolType:t,x:e,y:i,width:n,height:r}})).__isEmptyBrush=l,s.setColor=wf,o&&s.setColor(o),s}function Cf(t,e,i){for(var n="radial"===e.type?function(t,e,i){var n=i.width,r=i.height,o=Math.min(n,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*n+i.x,s=s*r+i.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}(t,e,i):function(t,e,i){var n=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,r=r*i.width+i.x,o=o*i.height+i.y,a=a*i.height+i.y),n=isNaN(n)?0:n,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(n,o,r,a)}(t,e,i),r=e.colorStops,o=0;o<r.length;o++)n.addColorStop(r[o].offset,r[o].color);return n}function kf(t,e){return t&&"solid"!==t&&e>0?(e=e||1,"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:q(t)?[t]:F(t)?t:null):null}var Tf=new Po(!0);function Df(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function Mf(t){var e=t.fill;return null!=e&&"none"!==e}function If(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var i=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=i}else t.fill()}function Af(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var i=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=i}else t.stroke()}function Pf(t,e,i){var n=lr(e.image,e.__image,i);if(hr(n)){var r=t.createPattern(n,e.repeat||"repeat");if("function"==typeof DOMMatrix){var o=new DOMMatrix;o.rotateSelf(0,0,(e.rotation||0)/Math.PI*180),o.scaleSelf(e.scaleX||1,e.scaleY||1),o.translateSelf(e.x||0,e.y||0),r.setTransform(o)}return r}}var Of=["shadowBlur","shadowOffsetX","shadowOffsetY"],Lf=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Ef(t,e,i,n,r){var o=!1;if(!n&&e===(i=i||{}))return!1;(n||e.opacity!==i.opacity)&&(o||(zf(t,r),o=!0),t.globalAlpha=null==e.opacity?Cr.opacity:e.opacity),(n||e.blend!==i.blend)&&(o||(zf(t,r),o=!0),t.globalCompositeOperation=e.blend||Cr.blend);for(var a=0;a<Of.length;a++){var s=Of[a];(n||e[s]!==i[s])&&(o||(zf(t,r),o=!0),t[s]=t.dpr*(e[s]||0))}return(n||e.shadowColor!==i.shadowColor)&&(o||(zf(t,r),o=!0),t.shadowColor=e.shadowColor||Cr.shadowColor),o}function Nf(t,e,i,n,r){var o=Bf(e,r.inHover),a=n?null:i&&Bf(i,r.inHover)||{};if(o===a)return!1;var s=Ef(t,o,a,n,r);if((n||o.fill!==a.fill)&&(s||(zf(t,r),s=!0),t.fillStyle=o.fill),(n||o.stroke!==a.stroke)&&(s||(zf(t,r),s=!0),t.strokeStyle=o.stroke),(n||o.opacity!==a.opacity)&&(s||(zf(t,r),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(zf(t,r),s=!0),t.lineWidth=l)}for(var u=0;u<Lf.length;u++){var h=Lf[u],c=h[0];(n||o[c]!==a[c])&&(s||(zf(t,r),s=!0),t[c]=o[c]||h[1])}return s}function Rf(t,e){var i=e.transform,n=t.dpr||1;i?t.setTransform(n*i[0],n*i[1],n*i[2],n*i[3],n*i[4],n*i[5]):t.setTransform(n,0,0,n,0,0)}function zf(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Bf(t,e){return e&&t.__hoverStyle||t.style}function Hf(t,e){Ff(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Ff(t,e,i,n){var r=e.transform;if(!e.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1))return e.__dirty&=~Ai.REDARAW_BIT,void(e.__isRendered=!1);var o=e.__clipPaths,a=i.prevElClipPaths,s=!1,l=!1;if(a&&!function(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}(o,a)||(a&&a.length&&(zf(t,i),t.restore(),l=s=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),o&&o.length&&(zf(t,i),t.save(),function(t,e,i){for(var n=!1,r=0;r<t.length;r++){var o=t[r];n=n||o.isZeroArea(),Rf(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}i.allClipped=n}(o,t,i),s=!0),i.prevElClipPaths=o),i.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=i.prevEl;u||(l=s=!0);var h,c,d=e instanceof Ko&&e.autoBatch&&function(t){var e=Mf(t),i=Df(t);return!(t.lineDash||!(+e^+i)||e&&"string"!=typeof t.fill||i&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);s||(h=r,c=u.transform,h&&c?h[0]!==c[0]||h[1]!==c[1]||h[2]!==c[2]||h[3]!==c[3]||h[4]!==c[4]||h[5]!==c[5]:h||c)?(zf(t,i),Rf(t,e)):d||zf(t,i);var p=Bf(e,i.inHover);e instanceof Ko?(1!==i.lastDrawType&&(l=!0,i.lastDrawType=1),Nf(t,e,u,l,i),d&&(i.batchFill||i.batchStroke)||t.beginPath(),function(t,e,i,n){var r=Df(i),o=Mf(i),a=i.strokePercent,s=a<1,l=!e.path;e.silent&&!s||!l||e.createPathProxy();var u=e.path||Tf;if(!n){var h=i.fill,c=i.stroke,d=o&&!!h.colorStops,p=r&&!!c.colorStops,f=o&&!!h.image,g=r&&!!c.image,m=void 0,v=void 0,y=void 0,_=void 0,b=void 0;(d||p)&&(b=e.getBoundingRect()),d&&(m=e.__dirty?Cf(t,h,b):e.__canvasFillGradient,e.__canvasFillGradient=m),p&&(v=e.__dirty?Cf(t,c,b):e.__canvasStrokeGradient,e.__canvasStrokeGradient=v),f&&(y=e.__dirty||!e.__canvasFillPattern?Pf(t,h,e):e.__canvasFillPattern,e.__canvasFillPattern=y),g&&(_=e.__dirty||!e.__canvasStrokePattern?Pf(t,c,e):e.__canvasStrokePattern,e.__canvasStrokePattern=y),d?t.fillStyle=m:f&&(y?t.fillStyle=y:o=!1),p?t.strokeStyle=v:g&&(_?t.strokeStyle=_:r=!1)}var x=i.lineDash&&i.lineWidth>0&&kf(i.lineDash,i.lineWidth),w=i.lineDashOffset,S=!!t.setLineDash,C=e.getGlobalScale();if(u.setScale(C[0],C[1],e.segmentIgnoreThreshold),x){var k=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;k&&1!==k&&(x=E(x,(function(t){return t/k})),w/=k)}var T=!0;(l||e.__dirty&Ko.SHAPE_CHANGED_BIT||x&&!S&&r)&&(u.setDPR(t.dpr),s?u.setContext(null):(u.setContext(t),T=!1),u.reset(),x&&!S&&(u.setLineDash(x),u.setLineDashOffset(w)),e.buildPath(u,e.shape,n),u.toStatic(),e.pathUpdated()),T&&u.rebuildPath(t,s?a:1),x&&S&&(t.setLineDash(x),t.lineDashOffset=w),n||(i.strokeFirst?(r&&Af(t,i),o&&If(t,i)):(o&&If(t,i),r&&Af(t,i))),x&&S&&t.setLineDash([])}(t,e,p,d),d&&(i.batchFill=p.fill||"",i.batchStroke=p.stroke||"")):e instanceof ta?(3!==i.lastDrawType&&(l=!0,i.lastDrawType=3),Nf(t,e,u,l,i),function(t,e,i){var n=i.text;if(null!=n&&(n+=""),n){t.font=i.font||"12px sans-serif",t.textAlign=i.textAlign,t.textBaseline=i.textBaseline;var r=void 0;if(t.setLineDash){var o=i.lineDash&&i.lineWidth>0&&kf(i.lineDash,i.lineWidth),a=i.lineDashOffset;if(o){var s=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;s&&1!==s&&(o=E(o,(function(t){return t/s})),a/=s),t.setLineDash(o),t.lineDashOffset=a,r=!0}}i.strokeFirst?(Df(i)&&t.strokeText(n,i.x,i.y),Mf(i)&&t.fillText(n,i.x,i.y)):(Mf(i)&&t.fillText(n,i.x,i.y),Df(i)&&t.strokeText(n,i.x,i.y)),r&&t.setLineDash([])}}(t,e,p)):e instanceof ra?(2!==i.lastDrawType&&(l=!0,i.lastDrawType=2),function(t,e,i,n,r){Ef(t,Bf(e,r.inHover),i&&Bf(i,r.inHover),n,r)}(t,e,u,l,i),function(t,e,i){var n=e.__image=lr(i.image,e.__image,e,e.onload);if(n&&hr(n)){var r=i.x||0,o=i.y||0,a=e.getWidth(),s=e.getHeight(),l=n.width/n.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=n.width,s=n.height),i.sWidth&&i.sHeight){var u=i.sx||0,h=i.sy||0;t.drawImage(n,u,h,i.sWidth,i.sHeight,r,o,a,s)}else if(i.sx&&i.sy){var c=a-(u=i.sx),d=s-(h=i.sy);t.drawImage(n,u,h,c,d,r,o,a,s)}else t.drawImage(n,r,o,a,s)}}(t,e,p)):e instanceof _l&&(4!==i.lastDrawType&&(l=!0,i.lastDrawType=4),function(t,e,i){var n=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover};for(o=e.getCursor(),a=n.length;o<a;o++){(h=n[o]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),Ff(t,h,s,o===a-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}for(var l=0,u=r.length;l<u;l++){var h;(h=r[l]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),Ff(t,h,s,l===u-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,i)),d&&n&&zf(t,i),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),i.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var Wf=new ff,Vf=new we(100),jf=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function qf(t,e){if("none"===t)return null;var i=e.getDevicePixelRatio(),n=e.getZr(),r="svg"===n.painter.type;t.dirty&&Wf.delete(t);var o=Wf.get(t);if(o)return o;var a=M(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(t){for(var e,o=[i],s=!0,l=0;l<jf.length;++l){var u=a[jf[l]],h=typeof u;if(null!=u&&!F(u)&&"string"!==h&&"number"!==h&&"boolean"!==h){s=!1;break}o.push(u)}if(s){e=o.join(",")+(r?"-svg":"");var c=Vf.get(e);c&&(r?t.svgElement=c:t.image=c)}var d,p=function t(e){if(!e||0===e.length)return[[0,0]];if("number"==typeof e){return[[o=Math.ceil(e),o]]}for(var i=!0,n=0;n<e.length;++n)if("number"!=typeof e[n]){i=!1;break}if(i)return t([e]);var r=[];for(n=0;n<e.length;++n)if("number"==typeof e[n]){var o=Math.ceil(e[n]);r.push([o,o])}else{(o=E(e[n],(function(t){return Math.ceil(t)}))).length%2==1?r.push(o.concat(o)):r.push(o)}return r}(a.dashArrayX),f=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if("number"==typeof t){var e=Math.ceil(t);return[e,e]}var i=E(t,(function(t){return Math.ceil(t)}));return t.length%2?i.concat(i):i}(a.dashArrayY),g=function t(e){if(!e||0===e.length)return[["rect"]];if("string"==typeof e)return[[e]];for(var i=!0,n=0;n<e.length;++n)if("string"!=typeof e[n]){i=!1;break}if(i)return t([e]);var r=[];for(n=0;n<e.length;++n)"string"==typeof e[n]?r.push([e[n]]):r.push(e[n]);return r}(a.symbol),m=(x=p,E(x,(function(t){return $f(t)}))),v=$f(f),y=!r&&I(),_=r&&n.painter.createSVGElement("g"),b=function(){for(var t=1,e=0,i=m.length;e<i;++e)t=In(t,m[e]);var n=1;for(e=0,i=g.length;e<i;++e)n=In(n,g[e].length);t*=n;var r=v*m.length*g.length;0;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(r,a.maxTileHeight))}}();var x;y&&(y.width=b.width*i,y.height=b.height*i,d=y.getContext("2d"));(function(){d&&(d.clearRect(0,0,y.width,y.height),a.backgroundColor&&(d.fillStyle=a.backgroundColor,d.fillRect(0,0,y.width,y.height)));for(var t=0,e=0;e<f.length;++e)t+=f[e];if(t<=0)return;var o=-v,s=0,l=0,u=0;for(;o<b.height;){if(s%2==0){for(var h=l/2%g.length,c=0,m=0,x=0;c<2*b.width;){var w=0;for(e=0;e<p[u].length;++e)w+=p[u][e];if(w<=0)break;if(m%2==0){var S=.5*(1-a.symbolSize),C=c+p[u][m]*S,k=o+f[s]*S,T=p[u][m]*a.symbolSize,D=f[s]*a.symbolSize,M=x/2%g[h].length;I(C,k,T,D,g[h][M])}c+=p[u][m],++x,++m===p[u].length&&(m=0)}++u===p.length&&(u=0)}o+=f[s],++l,++s===f.length&&(s=0)}function I(t,e,o,s,l){var u=r?1:i,h=Sf(l,t*u,e*u,o*u,s*u,a.color,a.symbolKeepAspect);r?_.appendChild(n.painter.paintOne(h)):Hf(d,h)}})(),s&&Vf.put(e,y||_);t.image=y,t.svgElement=_,t.svgWidth=b.width,t.svgHeight=b.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/i,Wf.set(t,s),t.dirty=!1,s}function $f(t){for(var e=0,i=0;i<t.length;++i)e+=t[i];return t.length%2==1?2*e:e}var Yf=it,Uf=L,Gf=W,Xf=Y,Zf=A,Kf="undefined"!=typeof window,Qf={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Jf=/^[a-zA-Z0-9_]+$/;function tg(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(!this.isDisposed())return ig(this,t,e);Ig(this.id)}}function eg(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return ig(this,t,e)}}function ig(t,e,i){return i[0]=i[0]&&i[0].toLowerCase(),At.prototype[e].apply(t,i)}var ng,rg,og,ag,sg,lg,ug,hg,cg,dg,pg,fg,gg,mg,vg,yg,_g,bg,xg,wg,Sg,Cg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(At),kg=Cg.prototype;kg.on=eg("on"),kg.off=eg("off");var Tg=function(t){function e(e,i,n){var r=t.call(this,new Op)||this;r._chartsViews=[],r._chartsMap={},r._componentsViews=[],r._componentsMap={},r._pendingActions=[],n=n||{},"string"==typeof i&&(i=zg[i]),r._dom=e;var o=r._zr=gn(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height,useDirtyRect:null!=n.useDirtyRect&&n.useDirtyRect});r._throttledZrFlush=Kd(B(o.flush,o),17),(i=k(i))&&_c(i,!0),r._theme=i,r._locale=function(t){if(V(t)){var e=Mu[t.toUpperCase()]||{};return"ZH"===t||"EN"===t?k(e):T(k(e),k(Mu.EN),!1)}return T(k(t),k(Mu.EN),!1)}(n.locale||Au),r._coordSysMgr=new Kh;var a=r._api=_g(r);function s(t,e){return t.__prio-e.__prio}return Ri(Rg,s),Ri(Og,s),r._scheduler=new Sp(r,a,Og,Rg),r._messageCenter=new Cg,r._labelManager=new hf,r._initEvents(),r.resize=B(r.resize,r),o.animation.on("frame",r._onframe,r),dg(o,r),pg(o,r),rt(r),r}return a(e,t),e.prototype._onframe=function(){if(!this._disposed){Sg(this);var t=this._scheduler;if(this.__optionUpdated){var e=this.__optionUpdated.silent;this.__flagInMainProcess=!0,ng(this),ag.update.call(this),this._zr.flush(),this.__flagInMainProcess=!1,this.__optionUpdated=!1,hg.call(this,e),cg.call(this,e)}else if(t.unfinished){var i=1,n=this._model,r=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(n),lg(this,n),t.performVisualTasks(n),vg(this,this._model,r,"remain"),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.setOption=function(t,e,i){if(this._disposed)Ig(this.id);else{var n,r,o;if(Xf(e)&&(i=e.lazyUpdate,n=e.silent,r=e.replaceMerge,o=e.transition,e=e.notMerge),this.__flagInMainProcess=!0,!this._model||e){var a=new tc(this._api),s=this._theme,l=this._model=new Uh;l.scheduler=this._scheduler,l.init(null,null,null,s,this._locale,a)}this._model.setOption(t,{replaceMerge:r},Lg),xg(this,o),i?(this.__optionUpdated={silent:n},this.__flagInMainProcess=!1,this.getZr().wakeUp()):(ng(this),ag.update.call(this),this._zr.flush(),this.__optionUpdated=!1,this.__flagInMainProcess=!1,hg.call(this,n),cg.call(this,n))}},e.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Kf&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){if(h.canvasSupported)return(t=D({},t||{})).pixelRatio=t.pixelRatio||this.getDevicePixelRatio(),t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},e.prototype.getSvgDataURL=function(){if(h.svgSupported){var t=this._zr;return L(t.storage.getDisplayList(),(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,i=this._model,n=[],r=this;Uf(e,(function(t){i.eachComponent({mainType:t},(function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)}))}));var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Uf(n,(function(t){t.group.ignore=!1})),o}Ig(this.id)},e.prototype.getConnectedDataURL=function(t){if(this._disposed)Ig(this.id);else if(h.canvasSupported){var e="svg"===t.type,i=this.group,n=Math.min,r=Math.max;if(Fg[i]){var o=1/0,a=1/0,s=-1/0,l=-1/0,u=[],c=t&&t.pixelRatio||this.getDevicePixelRatio();L(Hg,(function(h,c){if(h.group===i){var d=e?h.getZr().painter.getSvgDom().innerHTML:h.getRenderedCanvas(k(t)),p=h.getDom().getBoundingClientRect();o=n(p.left,o),a=n(p.top,a),s=r(p.right,s),l=r(p.bottom,l),u.push({dom:d,left:p.left,top:p.top})}}));var d=(s*=c)-(o*=c),p=(l*=c)-(a*=c),f=I(),g=gn(f,{renderer:e?"svg":"canvas"});if(g.resize({width:d,height:p}),e){var m="";return Uf(u,(function(t){var e=t.left-o,i=t.top-a;m+='<g transform="translate('+e+","+i+')">'+t.dom+"</g>"})),g.painter.getSvgRoot().innerHTML=m,t.connectedBackgroundColor&&g.painter.setBackgroundColor(t.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return t.connectedBackgroundColor&&g.add(new da({shape:{x:0,y:0,width:d,height:p},style:{fill:t.connectedBackgroundColor}})),Uf(u,(function(t){var e=new ra({style:{x:t.left*c-o,y:t.top*c-a,image:t.dom}});g.add(e)})),g.refreshImmediately(),f.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,e){return sg(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return sg(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){var i;if(!this._disposed)return L(jn(this._model,t),(function(t,n){n.indexOf("Models")>=0&&L(t,(function(t){var r=t.coordinateSystem;if(r&&r.containPoint)i=i||!!r.containPoint(e);else if("seriesModels"===n){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(i=i||o.containPoint(e,t))}else 0}),this)}),this),!!i;Ig(this.id)},e.prototype.getVisual=function(t,e){var i=jn(this._model,t,{defaultMainType:"series"});var n=i.seriesModel.getData(),r=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?n.indexOfRawIndex(i.dataIndex):null;return null!=r?function(t,e,i){switch(i){case"color":return t.getItemVisual(e,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,i);default:0}}(n,r,e):function(t,e){switch(e){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}(n,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,e,i,n=this;Uf(Mg,(function(t){var e=function(e){var i,r=n.getModel(),o=e.target;if("globalout"===t?i={}:o&&df(o,(function(t){var e=Ca(t);if(e&&null!=e.dataIndex){var n=e.dataModel||r.getSeriesByIndex(e.seriesIndex);return i=n&&n.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return i=D({},e.eventData),!0}),!0),i){var a=i.componentType,s=i.componentIndex;"markLine"!==a&&"markPoint"!==a&&"markArea"!==a||(a="series",s=i.seriesIndex);var l=a&&null!=s&&r.getComponent(a,s),u=l&&n["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];0,i.event=e,i.type=t,n._$eventProcessor.eventInfo={targetEl:o,packedEvent:i,model:l,view:u},n.trigger(t,i)}};e.zrEventfulCallAtLast=!0,n._zr.on(t,e,n)})),Uf(Pg,(function(t,e){n._messageCenter.on(e,(function(t){this.trigger(e,t)}),n)})),Uf(["selectchanged"],(function(t){n._messageCenter.on(t,(function(e){this.trigger(t,e)}),n)})),t=this._messageCenter,e=this,i=this._api,t.on("selectchanged",(function(t){var n=i.getModel();t.isFromClick?(cf("map","selectchanged",e,n,t),cf("pie","selectchanged",e,n,t)):"select"===t.fromAction?(cf("map","selected",e,n,t),cf("pie","selected",e,n,t)):"unselect"===t.fromAction&&(cf("map","unselected",e,n,t),cf("pie","unselected",e,n,t))}))},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?Ig(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)Ig(this.id);else{this._disposed=!0,Un(this.getDom(),Vg,"");var t=this._api,e=this._model;Uf(this._componentsViews,(function(i){i.dispose(e,t)})),Uf(this._chartsViews,(function(i){i.dispose(e,t)})),this._zr.dispose(),delete Hg[this.id]}},e.prototype.resize=function(t){if(this._disposed)Ig(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var i=e.resetOption("media"),n=t&&t.silent;this.__flagInMainProcess=!0,i&&ng(this),ag.update.call(this,{type:"resize",animation:{duration:0}}),this.__flagInMainProcess=!1,hg.call(this,n),cg.call(this,n)}}},e.prototype.showLoading=function(t,e){if(this._disposed)Ig(this.id);else if(Xf(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Bg[t]){var i=Bg[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},e.prototype.hideLoading=function(){this._disposed?Ig(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=D({},t);return e.type=Pg[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)Ig(this.id);else if(Xf(e)||(e={silent:!!e}),Ag[t.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(t);else{var i=e.silent;ug.call(this,t,i);var n=e.flush;n?this._zr.flush():!1!==n&&h.browser.weChat&&this._throttledZrFlush(),hg.call(this,i),cg.call(this,i)}},e.prototype.updateLabelLayout=function(){var t=this._labelManager;t.updateLayoutConfig(this._api),t.layout(this._api),t.processLabelsOverall()},e.prototype.appendData=function(t){if(this._disposed)Ig(this.id);else{var e=t.seriesIndex;0,this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){for(var e=[],i=t.currentStates,n=0;n<i.length;n++){var r=i[n];"emphasis"!==r&&"blur"!==r&&"select"!==r&&e.push(r)}t.selected&&t.states.select&&e.push("select"),2===t.hoverState&&t.states.emphasis?e.push("emphasis"):1===t.hoverState&&t.states.blur&&e.push("blur"),t.useStates(e)}function e(t,e){if(!t.preventAutoZ){var i=t.get("z"),n=t.get("zlevel");e.group.traverse((function(t){if(!t.isGroup){null!=i&&(t.z=i),null!=n&&(t.zlevel=n);var e=t.getTextContent(),r=t.getTextGuideLine();if(e&&(e.z=t.z,e.zlevel=t.zlevel,e.z2=t.z2+2),r){var o=t.textGuideLineConfig&&t.textGuideLineConfig.showAbove;r.z=t.z,r.zlevel=t.zlevel,r.z2=t.z2+(o?1:-1)}}}))}}function i(t,e){e.group.traverse((function(t){if(!Vl(t)){var e=t.getTextContent(),i=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),i&&i.stateTransition&&(i.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function n(e,i){var n=e.getModel("stateAnimation"),r=e.isAnimationEnabled(),o=n.get("duration"),a=o>0?{duration:o,delay:n.get("delay"),easing:n.get("easing")}:null;i.group.traverse((function(e){if(e.states&&e.states.emphasis){if(Vl(e))return;if(e instanceof Ko&&function(t){var e=Da(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var i=t.states.select||{};e.selectFill=i.style&&i.style.fill||null,e.selectStroke=i.style&&i.style.stroke||null}(e),e.__dirty){var i=e.prevStates;i&&e.useStates(i)}if(r){e.stateTransition=a;var n=e.getTextContent(),o=e.getTextGuideLine();n&&(n.stateTransition=a),o&&(o.stateTransition=a)}e.__dirty&&t(e)}}))}ng=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),rg(t,!0),rg(t,!1),e.plan()},rg=function(t,e){for(var i=t._model,n=t._scheduler,r=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,l=0;l<r.length;l++)r[l].__alive=!1;function u(t){var l=t.__requireNewView;t.__requireNewView=!1;var u="_ec_"+t.id+"_"+t.type,h=!l&&o[u];if(!h){var c=Xn(t.type);0,(h=new(e?Bd.getClass(c.main,c.sub):Gd.getClass(c.sub))).init(i,s),o[u]=h,r.push(h),a.add(h.group)}t.__viewId=h.__id=u,h.__alive=!0,h.__model=t,h.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&n.prepareView(h,t,i,s)}e?i.eachComponent((function(t,e){"series"!==t&&u(e)})):i.eachSeries(u);for(l=0;l<r.length;){var h=r[l];h.__alive?l++:(!e&&h.renderTask.dispose(),a.remove(h.group),h.dispose(i,s),r.splice(l,1),o[h.__id]===h&&delete o[h.__id],h.__id=h.group.__ecComponentInfo=null)}},og=function(t,e,i,n,r){var o=t._model;if(o.setUpdatePayload(i),n){var a={};a[n+"Id"]=i[n+"Id"],a[n+"Index"]=i[n+"Index"],a[n+"Name"]=i[n+"Name"];var s={mainType:n,query:a};r&&(s.subType=r);var l,u=i.excludeSeriesId;null!=u&&(l=st(),Uf(An(u),(function(t){var e=zn(t,null);null!=e&&l.set(e,!0)}))),o&&o.eachComponent(s,(function(e){l&&null!=l.get(e.id)||(is(i)&&!i.notBlur?e instanceof Rd&&function(t,e,i){if(is(e)){var n="highlight"===e.type,r=t.seriesIndex,o=t.getData(e.dataType),a=Fn(o,e);a=(F(a)?a[0]:a)||0;var s=o.getItemGraphicEl(a);if(!s)for(var l=o.count(),u=0;!s&&u<l;)s=o.getItemGraphicEl(u++);if(s){var h=Ca(s);Za(r,h.focus,h.blurScope,i,n)}else{var c=t.get(["emphasis","focus"]),d=t.get(["emphasis","blurScope"]);null!=c&&Za(r,c,d,i,n)}}}(e,i,t._api):es(i)&&e instanceof Rd&&(!function(t,e,i){if(es(e)){var n=e.dataType,r=Fn(t.getData(n),e);F(r)||(r=[r]),t["toggleSelect"===e.type?"toggleSelect":"select"===e.type?"select":"unselect"](r,n)}}(e,i,t._api),Ka(e),wg(t)),h(t["series"===n?"_chartsMap":"_componentsMap"][e.__viewId]))}),t)}else Uf([].concat(t._componentsViews).concat(t._chartsViews),h);function h(n){n&&n.__alive&&n[e]&&n[e](n.__model,o,t._api,i)}},ag={prepareAndUpdate:function(t){ng(this),ag.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,r=this._coordSysMgr,o=this._scheduler;if(e){e.setUpdatePayload(t),o.restoreData(e,t),o.performSeriesTasks(e),r.create(e,i),o.performDataProcessorTasks(e,t),lg(this,e),r.update(e,i),fg(e),o.performVisualTasks(e,t),gg(this,e,i,t);var a=e.get("backgroundColor")||"transparent",s=e.get("darkMode");if(h.canvasSupported)n.setBackgroundColor(a),null!=s&&"auto"!==s&&n.setDarkMode(s);else{var l=Ee(a);a=Re(l,"rgb"),0===l[3]&&(a="transparent")}yg(e,i)}},updateTransform:function(t){var e=this,i=this._model,n=this._api;if(i){i.setUpdatePayload(t);var r=[];i.eachComponent((function(o,a){if("series"!==o){var s=e.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,i,n,t);l&&l.update&&r.push(s)}else r.push(s)}}));var o=st();i.eachSeries((function(r){var a=e._chartsMap[r.__viewId];if(a.updateTransform){var s=a.updateTransform(r,i,n,t);s&&s.update&&o.set(r.uid,1)}else o.set(r.uid,1)})),fg(i),this._scheduler.performVisualTasks(i,t,{setDirty:!0,dirtyMap:o}),vg(this,i,n,t,o),yg(i,this._api)}},updateView:function(t){var e=this._model;e&&(e.setUpdatePayload(t),Gd.markUpdateMethod(t,"updateView"),fg(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),gg(this,this._model,this._api,t),yg(e,this._api))},updateVisual:function(t){var e=this,i=this._model;i&&(i.setUpdatePayload(t),i.eachSeries((function(t){t.getData().clearAllVisual()})),Gd.markUpdateMethod(t,"updateVisual"),fg(i),this._scheduler.performVisualTasks(i,t,{visualType:"visual",setDirty:!0}),i.eachComponent((function(n,r){if("series"!==n){var o=e.getViewOfComponentModel(r);o&&o.__alive&&o.updateVisual(r,i,e._api,t)}})),i.eachSeries((function(n){e._chartsMap[n.__viewId].updateVisual(n,i,e._api,t)})),yg(i,this._api))},updateLayout:function(t){ag.update.call(this,t)}},sg=function(t,e,i,n){if(t._disposed)Ig(t.id);else{for(var r,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=jn(o,i),l=0;l<a.length;l++){var u=a[l];if(u[e]&&null!=(r=u[e](o,s,n)))return r}0}},lg=function(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries((function(t){n.updateStreamModes(t,i[t.__viewId])}))},ug=function(t,e){var i=this,n=this.getModel(),r=t.type,o=t.escapeConnect,a=Ag[r],s=a.actionInfo,l=(s.update||"update").split(":"),u=l.pop(),h=null!=l[0]&&Xn(l[0]);this.__flagInMainProcess=!0;var c=[t],d=!1;t.batch&&(d=!0,c=E(t.batch,(function(e){return(e=M(D({},e),t)).batch=null,e})));var p,f=[],g=es(t),m=is(t)||g;if(Uf(c,(function(t){(p=(p=a.action(t,i._model,i._api))||D({},t)).type=s.event||p.type,f.push(p),m?(og(i,u,t,"series"),wg(i)):h&&og(i,u,t,h.main,h.sub)})),"none"===u||m||h||(this.__optionUpdated?(ng(this),ag.update.call(this,t),this.__optionUpdated=!1):ag[u].call(this,t)),p=d?{type:s.event||r,escapeConnect:o,batch:f}:f[0],this.__flagInMainProcess=!1,!e){var v=this._messageCenter;if(v.trigger(p.type,p),g){var y={type:"selectchanged",escapeConnect:o,selected:Qa(n),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};v.trigger(y.type,y)}}},hg=function(t){for(var e=this._pendingActions;e.length;){var i=e.shift();ug.call(this,i,t)}},cg=function(t){!t&&this.trigger("updated")},dg=function(t,e){t.on("rendered",(function(i){e.trigger("rendered",i),!t.animation.isFinished()||e.__optionUpdated||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},pg=function(t,e){t.on("mouseover",(function(t){var i=df(t.target,ts);if(i){var n=Ca(i);Za(n.seriesIndex,n.focus,n.blurScope,e._api,!0),function(t,e){!Xa(t,e)&&!t.__highByOuter&&Wa(t,Ea)}(i,t),wg(e)}})).on("mouseout",(function(t){var i=df(t.target,ts);if(i){var n=Ca(i);Za(n.seriesIndex,n.focus,n.blurScope,e._api,!1),function(t,e){!Xa(t,e)&&!t.__highByOuter&&Wa(t,Na)}(i,t),wg(e)}})).on("click",(function(t){var i=df(t.target,(function(t){return null!=Ca(t).dataIndex}),!0);if(i){var n=i.selected?"unselect":"select",r=Ca(i);e._api.dispatchAction({type:n,dataType:r.dataType,dataIndexInside:r.dataIndex,seriesIndex:r.seriesIndex,isFromClick:!0})}}))},fg=function(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))},gg=function(t,e,i,n){mg(t,e,i,n),Uf(t._chartsViews,(function(t){t.__alive=!1})),vg(t,e,i,n),Uf(t._chartsViews,(function(t){t.__alive||t.remove(e,i)}))},mg=function(t,r,o,a,s){Uf(s||t._componentsViews,(function(t){var s=t.__model;i(s,t),t.render(s,r,o,a),e(s,t),n(s,t)}))},vg=function(t,r,o,a,s){var l=t._scheduler,u=t._labelManager;u.clearLabels();var c=!1;r.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var r=n.renderTask;l.updatePayload(r,a),i(e,n),s&&s.get(e.uid)&&r.dirty(),r.perform(l.getPerformArgs(r))&&(c=!0),e.__transientTransitionOpt=null,n.group.silent=!!e.get("silent"),function(t,e){var i=t.get("blendMode")||null;0;e.group.traverse((function(t){t.isGroup||(t.style.blend=i),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.style.blend=i}))}))}(e,n),Ka(e),u.addLabelsOfSeries(n)})),l.unfinished=c||l.unfinished,u.updateLayoutConfig(o),u.layout(o),u.processLabelsOverall(),r.eachSeries((function(i){var r=t._chartsMap[i.__viewId];e(i,r),n(i,r)})),function(t,e){var i=t._zr.storage,n=0;i.traverse((function(t){t.isGroup||n++})),n>e.get("hoverLayerThreshold")&&!h.node&&!h.worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var i=t._chartsMap[e.__viewId];i.__alive&&i.group.traverse((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}(t,r)},yg=function(t,e){Uf(Ng,(function(i){i(t,e)}))},wg=function(t){t.__needsUpdateStatus=!0,t.getZr().wakeUp()},Sg=function(e){e.__needsUpdateStatus&&(e.getZr().storage.traverse((function(e){Vl(e)||t(e)})),e.__needsUpdateStatus=!1)},_g=function(t){return new(function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return a(i,e),i.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},i.prototype.getComponentByElement=function(e){for(;e;){var i=e.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);e=e.parent}},i.prototype.enterEmphasis=function(e,i){qa(e,i),wg(t)},i.prototype.leaveEmphasis=function(e,i){$a(e,i),wg(t)},i.prototype.enterBlur=function(e){!function(t){Wa(t,Ra)}(e),wg(t)},i.prototype.leaveBlur=function(e){Ya(e),wg(t)},i.prototype.enterSelect=function(e){Ua(e),wg(t)},i.prototype.leaveSelect=function(e){Ga(e),wg(t)},i.prototype.getModel=function(){return t.getModel()},i.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},i.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},i}(Xh))(t)},bg=function(t){function e(t,e){for(var i=0;i<t.length;i++){t[i].__connectUpdateStatus=e}}Uf(Pg,(function(i,n){t._messageCenter.on(n,(function(i){if(Fg[t.group]&&0!==t.__connectUpdateStatus){if(i&&i.escapeConnect)return;var n=t.makeActionFromEvent(i),r=[];Uf(Hg,(function(e){e!==t&&e.group===t.group&&r.push(e)})),e(r,0),Uf(r,(function(t){1!==t.__connectUpdateStatus&&t.dispatchAction(n)})),e(r,2)}}))}))},xg=function(t,e){var i=t._model;L(An(e),(function(t){var e,n=t.from,r=t.to;null==r&&Qc(e);var o={includeMainTypes:["series"],enableAll:!1,enableNone:!1},a=n?jn(i,n,o):null,s=jn(i,r,o).seriesModel;null==s&&(e=""),a&&a.seriesModel!==s&&(e=""),null!=e&&Qc(e),s.__transientTransitionOpt={from:n?n.dimension:null,to:r.dimension,dividingMethod:t.dividingMethod}}))}}(),e}(At),Dg=Tg.prototype;Dg.on=tg("on"),Dg.off=tg("off"),Dg.one=function(t,e,i){var n=this;this.on.call(this,t,(function i(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e&&e.apply&&e.apply(this,r),n.off(t,i)}),i)};var Mg=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Ig(t){0}var Ag={},Pg={},Og=[],Lg=[],Eg=[],Ng=[],Rg=[],zg={},Bg={},Hg={},Fg={},Wg=+new Date-0,Vg=(new Date,"_echarts_instance_");function jg(t){return Hg[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,Vg)]}function qg(t,e){zg[t]=e}function $g(t){Zf(Lg,t)<0&&Lg.push(t)}function Yg(t,e){Zg(Og,t,e,2e3)}function Ug(t,e,i){"function"==typeof e&&(i=e,e="");var n=Xf(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,Pg[e]||(Yf(Jf.test(n)&&Jf.test(e)),Ag[n]||(Ag[n]={action:i,actionInfo:t}),Pg[e]=n)}function Gg(t,e){Zg(Rg,t,e,3e3,"visual")}var Xg=[];function Zg(t,e,i,n,r){if((Gf(e)||Xf(e))&&(i=e,e=n),!(Zf(Xg,i)>=0)){Xg.push(i);var o=Sp.wrapStageHandler(i,r);o.__prio=e,o.__raw=i,t.push(o)}}function Kg(t,e){Bg[t]=e}var Qg=function(t){var e=(t=k(t)).type;e||Qc("");var i=e.split(":");2!==i.length&&Qc("");var n=!1;"echarts"===i[0]&&(e=i[1],n=!0),t.__isBuiltIn=n,sd.set(e,t)};Gg(2e3,np),Gg(4500,op),Gg(4500,ap),Gg(2e3,Lp),Gg(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){var i=t.getItemModel(e),n=i.getShallow("symbol",!0),r=i.getShallow("symbolSize",!0),o=i.getShallow("symbolRotate",!0),a=i.getShallow("symbolKeepAspect",!0);null!=n&&t.setItemVisual(e,"symbol",n),null!=r&&t.setItemVisual(e,"symbolSize",r),null!=o&&t.setItemVisual(e,"symbolRotate",o),null!=a&&t.setItemVisual(e,"symbolKeepAspect",a)}:null}}}),Gg(7e3,(function(t,e){t.eachRawSeries((function(i){if(!t.isSeriesFiltered(i)){var n=i.getData();n.hasItemVisual()&&n.each((function(t){var i=n.getItemVisual(t,"decal");i&&(n.ensureUniqueItemVisual(t,"style").decal=qf(i,e))}));var r=n.getVisual("decal");if(r)n.getVisual("style").decal=qf(r,e)}}))})),$g(_c),Yg(900,(function(t){var e=st();t.eachSeries((function(t){var i=t.get("stack");if(i){var n=e.get(i)||e.set(i,[]),r=t.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;n.length&&r.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(o)}})),e.each(bc)})),Kg("default",(function(t,e){M(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var i=new hn,n=new da({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});i.add(n);var r,o=new Sa({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily}}),a=new da({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return i.add(a),e.showSpinner&&((r=new ll({shape:{startAngle:-sp/2,endAngle:-sp/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*sp/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*sp/2}).delay(300).start("circularInOut"),i.add(r)),i.resize=function(){var i=o.getBoundingRect().width,s=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*s-(e.showSpinner&&i?10:0)-i)/2-(e.showSpinner&&i?0:5+i/2)+(e.showSpinner?0:i/2)+(i?0:s),u=t.getHeight()/2;e.showSpinner&&r.setShape({cx:l,cy:u}),a.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},i.resize(),i})),Ug({type:"highlight",event:"highlight",update:"highlight"},ht),Ug({type:"downplay",event:"downplay",update:"downplay"},ht),Ug({type:"select",event:"select",update:"select"},ht),Ug({type:"unselect",event:"unselect",update:"unselect"},ht),Ug({type:"toggleSelect",event:"toggleSelect",update:"toggleSelect"},ht),qg("light",kp),qg("dark",Mp);var Jg=[],tm={registerPreprocessor:$g,registerProcessor:Yg,registerPostInit:function(t){Zf(Eg,t)<0&&t&&Eg.push(t)},registerPostUpdate:function(t){Zf(Ng,t)<0&&t&&Ng.push(t)},registerAction:Ug,registerCoordinateSystem:function(t,e){Kh.register(t,e)},registerLayout:function(t,e){Zg(Rg,t,e,1e3,"layout")},registerVisual:Gg,registerTransform:Qg,registerLoading:Kg,registerMap:function(t,e,i){Ap(t,e,i)},PRIORITY:Qf,ComponentModel:Sh,ComponentView:Bd,SeriesModel:Rd,ChartView:Gd,registerComponentModel:function(t){Sh.registerClass(t)},registerComponentView:function(t){Bd.registerClass(t)},registerSeriesModel:function(t){Rd.registerClass(t)},registerChartView:function(t){Gd.registerClass(t)},registerSubTypeDefaulter:function(t,e){Sh.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){var i;i=e,dn[t]=i}};function em(t){F(t)?L(t,(function(t){em(t)})):A(Jg,t)>=0||(Jg.push(t),W(t)&&(t={install:t}),t.install(tm))}var im=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return a(e,t),e.type="title",e.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Sh),nm=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.prototype.render=function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,r=t.getModel("textStyle"),o=t.getModel("subtextStyle"),a=t.get("textAlign"),s=Q(t.get("textBaseline"),t.get("textVerticalAlign")),l=new Sa({style:ou(r,{text:t.get("text"),fill:r.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),h=t.get("subtext"),c=new Sa({style:ou(o,{text:h,fill:o.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),p=t.get("sublink"),f=t.get("triggerEvent",!0);l.silent=!d&&!f,c.silent=!p&&!f,d&&l.on("click",(function(){ch(d,"_"+t.get("target"))})),p&&c.on("click",(function(){ch(p,"_"+t.get("subtarget"))})),Ca(l).eventData=Ca(c).eventData=f?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(l),h&&n.add(c);var g=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=vh(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),n.x=v.x,n.y=v.y,n.markRedraw();var y={align:a,verticalAlign:s};l.setStyle(y),c.setStyle(y),g=n.getBoundingRect();var _=v.margin,b=t.getItemStyle(["color","opacity"]);b.fill=t.get("backgroundColor");var x=new da({shape:{x:g.x-_[3],y:g.y-_[0],width:g.width+_[1]+_[3],height:g.height+_[0]+_[2],r:t.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});n.add(x)}},e.type="title",e}(Bd);function rm(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,i){var n=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];L(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var s=um(i.model),l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=i;var u=i.model.getModel("tooltip",n);if(L(i.getAxes(),H(p,!1,null)),i.getTooltipAxes&&n&&u.get("show")){var h="axis"===u.get("trigger"),c="cross"===u.get(["axisPointer","type"]),d=i.getTooltipAxes(u.get(["axisPointer","axis"]));(h||c)&&L(d.baseAxes,H(p,!c||"cross",h)),c&&L(d.otherAxes,H(p,"cross",!1))}}function p(n,s,h){var c=h.model.getModel("axisPointer",r),d=c.get("show");if(d&&("auto"!==d||n||lm(c))){null==s&&(s=c.get("triggerTooltip"));var p=(c=n?function(t,e,i,n,r,o){var a=e.getModel("axisPointer"),s={};L(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){s[t]=k(a.get(t))})),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===r){var u=a.get(["label","show"]);if(l.show=null==u||u,!o){var h=s.lineStyle=a.get("crossStyle");h&&M(l,h.textStyle)}}return t.model.getModel("axisPointer",new ku(s,i,n))}(h,u,r,e,n,s):c).get("snap"),f=um(h.model),g=s||p||"category"===h.type,m=t.axesInfo[f]={key:f,axis:h,coordSys:i,axisPointerModel:c,triggerTooltip:s,involveSeries:g,snap:p,useHandle:lm(c),seriesModels:[],linkGroup:null};l[f]=m,t.seriesInvolved=t.seriesInvolved||g;var v=function(t,e){for(var i=e.model,n=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(om(o[n+"AxisId"],i.id)||om(o[n+"AxisIndex"],i.componentIndex)||om(o[n+"AxisName"],i.name))return r}}(o,h);if(null!=v){var y=a[v]||(a[v]={axesInfo:{}});y.axesInfo[f]=m,y.mapper=o[v].mapper,m.linkGroup=y}}}}))}(i,t,e),i.seriesInvolved&&function(t,e){e.eachSeries((function(e){var i=e.coordinateSystem,n=e.get(["tooltip","trigger"],!0),r=e.get(["tooltip","show"],!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==r&&!1!==e.get(["axisPointer","show"],!0)&&L(t.coordSysAxesInfo[um(i.model)],(function(t){var n=t.axis;i.getAxis(n.dim)===n&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}(i,t),i}function om(t,e){return"all"===t||F(t)&&A(t,e)>=0||t===e}function am(t){var e=sm(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,r=i.option,o=i.get("status"),a=i.get("value");null!=a&&(a=n.parse(a));var s=lm(i);null==o&&(r.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function sm(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[um(t)]}function lm(t){return!!t.get(["handle","show"])}function um(t){return t.type+"||"+t.id}var hm={},cm=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.prototype.render=function(e,i,n,r){this.axisPointerClass&&am(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,n,!0)},e.prototype.updateAxisPointer=function(t,e,i,n){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,e){var i=this._axisPointer;i&&i.remove(e)},e.prototype.dispose=function(e,i){this._disposeAxisPointer(i),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,n){var r=e.getAxisPointerClass(this.axisPointerClass);if(r){var o=function(t){var e=sm(t);return e&&e.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new r)).render(t,o,i,n):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){hm[t]=e},e.getAxisPointerClass=function(t){return t&&hm[t]},e.type="axis",e}(Bd),dm=Wn(),pm=k,fm=B;function gm(t,e,i,n){(function t(e,i){if(Y(e)&&Y(i)){var n=!0;return L(i,(function(i,r){n=n&&t(e[r],i)})),!!n}return e===i})(dm(i).lastProp,n)||(dm(i).lastProp=n,e?zl(i,n,t):(i.stopAnimation(),i.attr(n)))}function mm(t,e){t[e.get(["label","show"])?"show":"hide"]()}function vm(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function ym(t,e,i){var n=e.get("z"),r=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=r&&(t.zlevel=r),t.silent=i)}))}var _m=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,i,n){var r=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,r,t,e,i);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(a){var c=H(gm,e,h);this.updatePointerEl(a,l,c),this.updateLabelEl(a,l,c,e)}else a=this._group=new hn,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),i.getZr().add(a);ym(a,e,!0),this._renderHandle(r)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var i=e.get("animation"),n=t.axis,r="category"===n.type,o=e.get("snap");if(!o&&!r)return!1;if("auto"===i||null==i){var a=this.animationThreshold;if(r&&n.getBandWidth()>a)return!0;if(o){var s=sm(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===i},t.prototype.makeElOption=function(t,e,i,n,r){},t.prototype.createPointerEl=function(t,e,i,n){var o=e.pointer;if(o){var a=dm(t).pointerEl=new r[o.type](pm(e.pointer));t.add(a)}},t.prototype.createLabelEl=function(t,e,i,n){if(e.label){var r=dm(t).labelEl=new Sa(pm(e.label));t.add(r),mm(r,n)}},t.prototype.updatePointerEl=function(t,e,i){var n=dm(t).pointerEl;n&&e.pointer&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,i,n){var r=dm(t).labelEl;r&&(r.setStyle(e.label.style),i(r,{x:e.label.x,y:e.label.y}),mm(r,n))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),r=this._handle,o=i.getModel("handle"),a=i.get("status");if(!o.get("show")||!a||"hide"===a)return r&&n.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=Zl(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){$t(t.event)},onmousedown:fm(this._onHandleDragMove,this,0,0),drift:fm(this._onHandleDragMove,this),ondragend:fm(this._onHandleDragEnd,this)}),n.add(r)),ym(r,i,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");F(s)||(s=[s,s]),r.scaleX=s[0]/2,r.scaleY=s[1]/2,function(t,e,i,n){var r=t[e];if(r){var o=r[Xd]||r,a=r["\0__throttleType"];if(r[Zd]!==i||a!==n){if(null==i||!n)return t[e]=o;(r=t[e]=Kd(o,i,"debounce"===n))[Xd]=o,r["\0__throttleType"]=n,r[Zd]=i}}}(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){gm(this._axisPointerModel,!e&&this._moveAnimation,this._handle,vm(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(vm(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(vm(n)),dm(i).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},t}(),bm=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();ir(bm);var xm=bm;function wm(t){return Y(t)&&null!=t.value?t.value:t+""}var Sm=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication}return t.createByAxisModel=function(e){var i=e.option,n=i.data,r=n&&E(n,wm);return new t({categories:r,needCollect:!r,deduplication:!1!==i.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!=typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=this._getOrCreateMap();return null==(e=n.get(t))&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=st(this.categories))},t}(),Cm=yn;function km(t,e,i,n){var r={},o=t[1]-t[0],a=r.interval=kn(o/e,!0);null!=i&&a<i&&(a=r.interval=i),null!=n&&a>n&&(a=r.interval=n);var s=r.intervalPrecision=Tm(a);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Dm(t,0,e),Dm(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(r.niceTickExtent=[Cm(Math.ceil(t[0]/a)*a,s),Cm(Math.floor(t[1]/a)*a,s)],t),r}function Tm(t){return _n(t)+2}function Dm(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function Mm(t,e){return t>=e[0]&&t<=e[1]}function Im(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Am(t,e){return t*(e[1]-e[0])+e[0]}var Pm=function(t){function e(e){var i=t.call(this,e)||this;i.type="ordinal";var n=i.getSetting("ordinalMeta");return n||(n=new Sm({})),F(n)&&(n=new Sm({categories:E(n,(function(t){return Y(t)?t.value:t}))})),i._ordinalMeta=n,i._extent=i.getSetting("extent")||[0,n.categories.length-1],i}return a(e,t),e.prototype.parse=function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return Mm(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return Im(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(Am(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);r<a;++r){var s=e[r];i[r]=s,n[s]=r}for(var l=0;r<o;++r){for(;null!=n[l];)l++;i.push(l),n[l]=r}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[e];return null==i?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}(xm);xm.registerClass(Pm);var Om=yn,Lm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return a(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Mm(t,this._extent)},e.prototype.normalize=function(t){return Im(t,this._extent)},e.prototype.scale=function(t){return Am(t,this._extent)},e.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Tm(t)},e.prototype.getTicks=function(t){var e=this._interval,i=this._extent,n=this._niceExtent,r=this._intervalPrecision,o=[];if(!e)return o;i[0]<n[0]&&(t?o.push({value:Om(n[0]-e,r)}):o.push({value:i[0]}));for(var a=n[0];a<=n[1]&&(o.push({value:a}),(a=Om(a+e,r))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:n[1];return i[1]>s&&(t?o.push({value:Om(s+e,r)}):o.push({value:i[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),i=[],n=this.getExtent(),r=1;r<e.length;r++){for(var o=e[r],a=e[r-1],s=0,l=[],u=(o.value-a.value)/t;s<t-1;){var h=Om(a.value+(s+1)*u);h>n[0]&&h<n[1]&&l.push(h),s++}i.push(l)}return i},e.prototype.getLabel=function(t,e){if(null==t)return"";var i=e&&e.precision;return null==i?i=_n(t.value)||0:"auto"===i&&(i=this._intervalPrecision),eh(Om(t.value,i,!0))},e.prototype.niceTicks=function(t,e,i){t=t||5;var n=this._extent,r=n[1]-n[0];if(isFinite(r)){r<0&&(r=-r,n.reverse());var o=km(n,t,e,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax||(e[1]+=i/2),e[0]-=i/2}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=Om(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=Om(Math.ceil(e[1]/r)*r))},e.type="interval",e}(xm);xm.registerClass(Lm);var Em=Lm;function Nm(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}"undefined"!=typeof Float32Array&&Float32Array;Hd();var Rm=function(t){function e(e){var i=t.call(this,e)||this;return i.type="time",i}return a(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Bu(t.value,Lu[function(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(zu(this._minLevelUnit))]||Lu.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,i){var n=this.getSetting("useUTC");return function(t,e,i,n,r){var o=null;if("string"==typeof i)o=i;else if("function"==typeof i)o=i(t.value,e,{level:t.level});else{var a=D({},Ou);if(t.level>0)for(var s=0;s<Eu.length;++s)a[Eu[s]]="{primary|"+a[Eu[s]]+"}";var l=i?!1===i.inherit?i:M(i,a):a,u=Hu(t.value,r);if(l[u])o=l[u];else if(l.inherit){for(s=Nu.indexOf(u)-1;s>=0;--s)if(l[u]){o=l[u];break}o=o||a.none}if(F(o)){var h=null==t.level?0:t.level>=0?t.level:o.length+t.level;o=o[h=Math.min(h,o.length-1)]}}return Bu(new Date(t.value),o,r,n)}(t,e,i,this.getSetting("locale"),n)},e.prototype.getTicks=function(t){var e=this._interval,i=this._extent,n=[];if(!e)return n;n.push({value:i[0],level:0});var r=this.getSetting("useUTC"),o=function(t,e,i,n){var r=Nu,o=0;function a(t,e,i,r,o,a,s){for(var l=new Date(e),u=e,h=l[r]();u<i&&u<=n[1];)s.push({value:u}),h+=t,l[o](h),u=l.getTime();s.push({value:u,notAdd:!0})}function s(t,r,o){var s=[],l=!r.length;if(!function(t,e,i,n){var r=Sn(e),o=Sn(i),a=function(t){return Fu(r,t,n)===Fu(o,t,n)},s=function(){return a("year")},l=function(){return s()&&a("month")},u=function(){return l()&&a("day")},h=function(){return u()&&a("hour")},c=function(){return h()&&a("minute")},d=function(){return c()&&a("second")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return h();case"minute":return c();case"second":return d();case"millisecond":return d()&&a("millisecond")}}(zu(t),n[0],n[1],i)){l&&(r=[{value:jm(new Date(n[0]),t,i)},{value:n[1]}]);for(var u=0;u<r.length-1;u++){var h=r[u].value,c=r[u+1].value;if(h!==c){var d=void 0,p=void 0,f=void 0;switch(t){case"year":d=Math.max(1,Math.round(e/864e5/365)),p=Wu(i),f=Gu(i);break;case"half-year":case"quarter":case"month":d=Hm(e),p=Vu(i),f=Xu(i);break;case"week":case"half-week":case"day":d=Bm(e,31),p=ju(i),f=Zu(i),!0;break;case"half-day":case"quarter-day":case"hour":d=Fm(e),p=qu(i),f=Ku(i);break;case"minute":d=Wm(e,!0),p=$u(i),f=Qu(i);break;case"second":d=Wm(e,!1),p=Yu(i),f=Ju(i);break;case"millisecond":d=Vm(e),p=Uu(i),f=th(i)}a(d,h,c,p,f,0,s),"year"===t&&o.length>1&&0===u&&o.unshift({value:o[0].value-d})}}for(u=0;u<s.length;u++)o.push(s[u]);return s}}for(var l=[],u=[],h=0,c=0,d=0;d<r.length&&o++<1e4;++d){var p=zu(r[d]);if((_=r[d])===zu(_)){s(r[d],l[l.length-1]||[],u);var f=r[d+1]?zu(r[d+1]):null;if(p!==f){if(u.length){c=h,u.sort((function(t,e){return t.value-e.value}));for(var g=[],m=0;m<u.length;++m){var v=u[m].value;0!==m&&u[m-1].value===v||(g.push(u[m]),v>=n[0]&&v<=n[1]&&h++)}var y=(n[1]-n[0])/e;if(h>1.5*y&&c>y/1.5)break;if(l.push(g),h>y||t===r[d])break}u=[]}}}var _;0;var b=R(E(l,(function(t){return R(t,(function(t){return t.value>=n[0]&&t.value<=n[1]&&!t.notAdd}))})),(function(t){return t.length>0})),x=[],w=b.length-1;for(d=0;d<b.length;++d)for(var S=b[d],C=0;C<S.length;++C)x.push({value:S[C].value,level:w-d});x.sort((function(t,e){return t.value-e.value}));var k=[];for(d=0;d<x.length;++d)0!==d&&x[d].value===x[d-1].value||k.push(x[d]);return k}(this._minLevelUnit,this._approxInterval,r,i);return(n=n.concat(o)).push({value:i[1],level:0}),n},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,e,i){t=t||10;var n=this._extent,r=n[1]-n[0];this._approxInterval=r/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var o=zm.length,a=Math.min(function(t,e,i,n){for(;i<n;){var r=i+n>>>1;t[r][1]<e?i=r+1:n=r}return i}(zm,this._approxInterval,0,o),o-1);this._interval=zm[a][1],this._minLevelUnit=zm[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return"number"==typeof t?t:+Sn(t)},e.prototype.contain=function(t){return Mm(this.parse(t),this._extent)},e.prototype.normalize=function(t){return Im(this.parse(t),this._extent)},e.prototype.scale=function(t){return Am(t,this._extent)},e.type="time",e}(Em),zm=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",15768e6],["year",31536e6]];function Bm(t,e){return(t/=864e5)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function Hm(t){return(t/=2592e6)>6?6:t>3?3:t>2?2:1}function Fm(t){return(t/=36e5)>12?12:t>6?6:t>3.5?4:t>2?2:1}function Wm(t,e){return(t/=e?6e4:1e3)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function Vm(t){return kn(t,!0)}function jm(t,e,i){var n=new Date(t);switch(zu(e)){case"year":case"month":n[Xu(i)](0);case"day":n[Zu(i)](1);case"hour":n[Ku(i)](0);case"minute":n[Qu(i)](0);case"second":n[Ju(i)](0),n[th(i)](0)}return n.getTime()}xm.registerClass(Rm);var qm=xm.prototype,$m=Em.prototype,Ym=_n,Um=yn,Gm=Math.floor,Xm=Math.ceil,Zm=Math.pow,Km=Math.log,Qm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Em,e._interval=0,e}return a(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,i=this._extent,n=e.getExtent();return E($m.getTicks.call(this,t),(function(t){var e=t.value,r=yn(Zm(this.base,e));return r=e===i[0]&&this._fixMin?tv(r,n[0]):r,{value:r=e===i[1]&&this._fixMax?tv(r,n[1]):r}}),this)},e.prototype.setExtent=function(t,e){var i=this.base;t=Km(t)/Km(i),e=Km(e)/Km(i),$m.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=qm.getExtent.call(this);e[0]=Zm(t,e[0]),e[1]=Zm(t,e[1]);var i=this._originalScale.getExtent();return this._fixMin&&(e[0]=tv(e[0],i[0])),this._fixMax&&(e[1]=tv(e[1],i[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Km(t[0])/Km(e),t[1]=Km(t[1])/Km(e),qm.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.niceTicks=function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n,r=(n=i,Math.pow(10,Cn(n)));for(t/i*r<=.5&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var o=[yn(Xm(e[0]/r)*r),yn(Gm(e[1]/r)*r)];this._interval=r,this._niceExtent=o}},e.prototype.niceExtent=function(t){$m.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Mm(t=Km(t)/Km(this.base),this._extent)},e.prototype.normalize=function(t){return Im(t=Km(t)/Km(this.base),this._extent)},e.prototype.scale=function(t){return t=Am(t,this._extent),Zm(this.base,t)},e.type="log",e}(xm),Jm=Qm.prototype;function tv(t,e){return Um(t,Ym(e))}Jm.getMinorTicks=$m.getMinorTicks,Jm.getLabel=$m.getLabel,xm.registerClass(Qm);var ev=function(){function t(t,e,i){this._prepareParams(t,e,i)}return t.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var n=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var r=this._modelMinRaw=e.get("min",!0);W(r)?this._modelMinNum=ov(t,r({min:i[0],max:i[1]})):"dataMin"!==r&&(this._modelMinNum=ov(t,r));var o=this._modelMaxRaw=e.get("max",!0);if(W(o)?this._modelMaxNum=ov(t,o({min:i[0],max:i[1]})):"dataMax"!==o&&(this._modelMaxNum=ov(t,o)),n)this._axisDataLen=e.getCategories().length;else{var a=e.get("boundaryGap"),s=F(a)?a:[a||0,a||0];"boolean"==typeof s[0]||"boolean"==typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[yi(s[0],1),yi(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,n=this._axisDataLen,r=this._boundaryGapInner,o=t?null:i-e||Math.abs(e),a="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,l=null!=a,u=null!=s;null==a&&(a=t?n?0:NaN:e-r[0]*o),null==s&&(s=t?n?n-1:NaN:i+r[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),a>s&&(a=NaN,s=NaN);var h=Z(a)||Z(s)||t&&!n;this._needCrossZero&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!u&&(s=0));var c=this._determinedMin,d=this._determinedMax;return null!=c&&(a=c,l=!0),null!=d&&(s=d,u=!0),{min:a,max:s,minFixed:l,maxFixed:u,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){this[nv[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){this[iv[t]]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),iv={min:"_determinedMin",max:"_determinedMax"},nv={min:"_dataMin",max:"_dataMax"};function rv(t,e,i){var n=t.rawExtentInfo;return n||(n=new ev(t,e,i),t.rawExtentInfo=n,n)}function ov(t,e){return null==e?null:Z(e)?NaN:t.parse(e)}function av(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function sv(t,e){var i={};return L(t.mapDimensionsAll(e),(function(e){i[function(t,e){return Nm(t,e)?t.getCalculationInfo("stackResultDimension"):e}(t,e)]=!0})),z(i)}var lv=Math.PI,uv=function(){function t(t,e){this.group=new hn,this.opt=e,this.axisModel=t,M(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new hn({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return t.prototype.hasBuilder=function(t){return!!hv[t]},t.prototype.add=function(t){hv[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,i){var n,r,o=bn(e-t);return xn(o)?(r=i>0?"top":"bottom",n="center"):xn(o-lv)?(r=i>0?"bottom":"top",n="center"):(r="middle",n=o>0&&o<lv?i>0?"right":"left":i>0?"left":"right"),{rotation:o,textAlign:n,textVerticalAlign:r}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),hv={axisLine:function(t,e,i,n){var r=e.get(["axisLine","show"]);if("auto"===r&&t.handleAutoShown&&(r=t.handleAutoShown("axisLine")),r){var o=e.axis.getExtent(),a=n.transform,s=[o[0],0],l=[o[1],0];a&&(kt(s,s,a),kt(l,l,a));var u=D({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new tl({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});h.anid="line",i.add(h);var c=e.get(["axisLine","symbol"]),d=e.get(["axisLine","symbolSize"]),p=e.get(["axisLine","symbolOffset"])||0;if("number"==typeof p&&(p=[p,p]),null!=c){"string"==typeof c&&(c=[c,c]),"string"!=typeof d&&"number"!=typeof d||(d=[d,d]);var f=d[0],g=d[1];L([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(e,n){if("none"!==c[n]&&null!=c[n]){var r=Sf(c[n],-f/2,-g/2,f,g,u.stroke,!0),o=e.r+e.offset;r.attr({rotation:e.rotate,x:s[0]+o*Math.cos(t.rotation),y:s[1]-o*Math.sin(t.rotation),silent:!0,z2:11}),i.add(r)}}))}}},axisTickLabel:function(t,e,i,n){var r=function(t,e,i,n){var r=i.axis,o=i.getModel("axisTick"),a=o.get("show");"auto"===a&&n.handleAutoShown&&(a=n.handleAutoShown("axisTick"));if(!a||r.scale.isBlank())return;for(var s=o.getModel("lineStyle"),l=n.tickDirection*o.get("length"),u=fv(r.getTicksCoords(),e.transform,l,M(s.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<u.length;h++)t.add(u[h]);return u}(i,n,e,t),o=function(t,e,i,n){var r=i.axis;if(!K(n.axisLabelShow,i.get(["axisLabel","show"]))||r.scale.isBlank())return;var o=i.getModel("axisLabel"),a=o.get("margin"),s=r.getViewLabels(),l=(K(n.labelRotate,o.get("rotate"))||0)*lv/180,u=uv.innerTextLayout(n.rotation,l,n.labelDirection),h=i.getCategories&&i.getCategories(!0),c=[],d=uv.isLabelSilent(i),p=i.get("triggerEvent");return L(s,(function(s,l){var f="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(s.tickValue):s.tickValue,g=s.formattedLabel,m=s.rawLabel,v=o;if(h&&h[f]){var y=h[f];Y(y)&&y.textStyle&&(v=new ku(y.textStyle,o,i.ecModel))}var _=v.getTextColor()||i.get(["axisLine","lineStyle","color"]),b=r.dataToCoord(f),x=new Sa({x:b,y:n.labelOffset+n.labelDirection*a,rotation:u.rotation,silent:d,z2:10,style:ou(v,{text:g,align:v.getShallow("align",!0)||u.textAlign,verticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||u.textVerticalAlign,fill:"function"==typeof _?_("category"===r.type?m:"value"===r.type?f+"":f,l):_})});if(x.anid="label_"+f,p){var w=uv.makeAxisEventDataBase(i);w.targetType="axisLabel",w.value=m,Ca(x).eventData=w}e.add(x),x.updateTransform(),c.push(x),t.add(x),x.decomposeTransform()})),c}(i,n,e,t);!function(t,e,i){if(n=t.axis,"category"===n.type&&0===(r=n.getLabelModel(),null==(o=r.get("interval"))?"auto":o))return;var n,r,o;var a=t.get(["axisLabel","showMinLabel"]),s=t.get(["axisLabel","showMaxLabel"]);i=i||[];var l=(e=e||[])[0],u=e[1],h=e[e.length-1],c=e[e.length-2],d=i[0],p=i[1],f=i[i.length-1],g=i[i.length-2];!1===a?(cv(l),cv(d)):dv(l,u)&&(a?(cv(u),cv(p)):(cv(l),cv(d)));!1===s?(cv(h),cv(f)):dv(c,h)&&(s?(cv(c),cv(g)):(cv(h),cv(f)))}(e,o,r),function(t,e,i,n){var r=i.axis,o=i.getModel("minorTick");if(!o.get("show")||r.scale.isBlank())return;var a=r.getMinorTicksCoords();if(!a.length)return;for(var s=o.getModel("lineStyle"),l=n*o.get("length"),u=M(s.getLineStyle(),M(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),h=0;h<a.length;h++)for(var c=fv(a[h],e.transform,l,u,"minorticks_"+h),d=0;d<c.length;d++)t.add(c[d])}(i,n,e,t.tickDirection)},axisName:function(t,e,i,n){var r=K(t.axisName,e.get("name"));if(r){var o,a,s=e.get("nameLocation"),l=t.nameDirection,u=e.getModel("nameTextStyle"),h=e.get("nameGap")||0,c=e.axis.getExtent(),d=c[0]>c[1]?-1:1,p=["start"===s?c[0]-d*h:"end"===s?c[1]+d*h:(c[0]+c[1])/2,pv(s)?t.labelOffset+l*h:0],f=e.get("nameRotate");null!=f&&(f=f*lv/180),pv(s)?o=uv.innerTextLayout(t.rotation,null!=f?f:t.rotation,l):(o=function(t,e,i,n){var r,o,a=bn(i-t),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;xn(a-lv/2)?(o=l?"bottom":"top",r="center"):xn(a-1.5*lv)?(o=l?"top":"bottom",r="center"):(o="middle",r=a<1.5*lv&&a>lv/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:r,textVerticalAlign:o}}(t.rotation,s,f||0,c),null!=(a=t.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var g=u.getFont(),m=e.get("nameTruncate",!0)||{},v=m.ellipsis,y=K(t.nameTruncateMaxWidth,m.maxWidth,a),_=e.get("tooltip",!0),b=e.mainType,x={componentType:b,name:r,$vars:["name"]};x[b+"Index"]=e.componentIndex;var w=new Sa({x:p[0],y:p[1],rotation:o.rotation,silent:uv.isLabelSilent(e),style:ou(u,{text:r,font:g,overflow:"truncate",width:y,ellipsis:v,fill:u.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(w.tooltip=_&&_.show?D({content:r,formatter:function(){return r},formatterParams:x},_):null,w.__fullText=r,w.anid="name",e.get("triggerEvent")){var S=uv.makeAxisEventDataBase(e);S.targetType="axisName",S.name=r,Ca(w).eventData=S}n.add(w),w.updateTransform(),i.add(w),w.decomposeTransform()}}};function cv(t){t&&(t.ignore=!0)}function dv(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n){var r=re([]);return le(r,r,-t.rotation),i.applyTransform(ae([],r,t.getLocalTransform())),n.applyTransform(ae([],r,e.getLocalTransform())),i.intersect(n)}}function pv(t){return"middle"===t||"center"===t}function fv(t,e,i,n,r){for(var o=[],a=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=i,e&&(kt(a,a,e),kt(s,s,e));var h=new tl({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});h.anid=r+"_"+t[l].tickValue,o.push(h)}return o}var gv=uv;function mv(t,e,i,n,r){var o=vv(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),a=i.getModel("label"),s=ih(a.get("padding")||0),l=a.getFont(),u=fi(o,l),h=r.position,c=u.width+s[1]+s[3],d=u.height+s[0]+s[2],p=r.align;"right"===p&&(h[0]-=c),"center"===p&&(h[0]-=c/2);var f=r.verticalAlign;"bottom"===f&&(h[1]-=d),"middle"===f&&(h[1]-=d/2),function(t,e,i,n){var r=n.getWidth(),o=n.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+i,o)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(h,c,d,n);var g=a.get("backgroundColor");g&&"auto"!==g||(g=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:ou(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function vv(t,e,i,n,r){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:r.precision}),a=r.formatter;if(a){var s={value:av(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};L(n,(function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,r=e&&e.getDataParams(n);r&&s.seriesData.push(r)})),V(a)?o=a.replace("{value}",o):W(a)&&(o=a(s))}return o}function yv(t,e,i){var n=[1,0,0,1,0,0];return le(n,n,i.rotation),se(n,n,i.position),ql([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function _v(t,e,i){i=i||{};var n=t.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,h=n.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],d={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,f="x"===u?[c[2]-p,c[3]+p]:[c[0]-p,c[1]+p];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));f[d.onZero]=Math.max(Math.min(g,f[1]),f[0])}o.position=["y"===u?f[d[l]]:c[0],"x"===u?f[d[l]]:c[3]],o.rotation=Math.PI/2*("x"===u?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?f[d[s]]-f[d.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),K(i.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var m=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-m:m,o.z2=1,o}var bv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.makeElOption=function(t,e,i,n,r){var o=i.axis,a=o.grid,s=n.get("type"),l=xv(a,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&"none"!==s){var h=function(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle()).fill=null:"shadow"===i&&((e=n.getAreaStyle()).stroke=null),e}(n),c=wv[s](o,u,l);c.style=h,t.graphicKey=c.type,t.pointer=c}!function(t,e,i,n,r,o){var a=gv.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=r.get(["label","margin"]),mv(e,n,r,o,{position:yv(n.axis,t,i),align:a.textAlign,verticalAlign:a.textVerticalAlign})}(e,t,_v(a.model,i),i,n,r)},e.prototype.getHandleTransform=function(t,e,i){var n=_v(e.axis.grid.model,e,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var r=yv(e.axis,t,n);return{x:r[0],y:r[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,i,n){var r=i.axis,o=r.grid,a=r.getGlobalExtent(!0),s=xv(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,u=[t.x,t.y];u[l]+=e[l],u[l]=Math.min(a[1],u[l]),u[l]=Math.max(a[0],u[l]);var h=(s[1]+s[0])/2,c=[h,h];c[l]=u[l];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:c,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(_m);function xv(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var wv={line:function(t,e,i){var n,r,o;return{type:"Line",subPixelOptimize:!0,shape:(n=[e,i[0]],r=[e,i[1]],o=Sv(t),{x1:n[o=o||0],y1:n[1-o],x2:r[o],y2:r[1-o]})}},shadow:function(t,e,i){var n,r,o,a=Math.max(1,t.getBandWidth()),s=i[1]-i[0];return{type:"Rect",shape:(n=[e-a/2,i[0]],r=[a,s],o=Sv(t),{x:n[o=o||0],y:n[1-o],width:r[o],height:r[1-o]})}}};function Sv(t){return"x"===t.dim?0:1}var Cv=bv,kv=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Sh),Tv=Wn(),Dv=L;function Mv(t,e,i){if(!h.node){var n=e.getZr();Tv(n).records||(Tv(n).records={}),function(t,e){if(Tv(t).initialized)return;function i(i,n){t.on(i,(function(i){var r=function(t){var e={showTip:[],hideTip:[]},i=function(n){var r=e[n.type];r?r.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}(e);Dv(Tv(t).records,(function(t){t&&n(t,i,r.dispatchAction)})),function(t,e){var i,n=t.showTip.length,r=t.hideTip.length;n?i=t.showTip[n-1]:r&&(i=t.hideTip[r-1]);i&&(i.dispatchAction=null,e.dispatchAction(i))}(r.pendings,e)}))}Tv(t).initialized=!0,i("click",H(Av,"click")),i("mousemove",H(Av,"mousemove")),i("globalout",Iv)}(n,e),(Tv(n).records[t]||(Tv(n).records[t]={})).handler=i}}function Iv(t,e,i){t.handler("leave",null,i)}function Av(t,e,i,n){e.handler(t,i,n)}function Pv(t,e){if(!h.node){var i=e.getZr();(Tv(i).records||{})[t]&&(Tv(i).records[t]=null)}}var Ov=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.prototype.render=function(t,e,i){var n=e.getComponent("tooltip"),r=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";Mv("axisPointer",i,(function(t,e,i){"none"!==r&&("leave"===t||r.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){Pv("axisPointer",e)},e.prototype.dispose=function(t,e){Pv("axisPointer",e)},e.type="axisPointer",e}(Bd);function Lv(t,e){var i,n=[],r=t.seriesIndex;if(null==r||!(i=e.getSeriesByIndex(r)))return{point:[]};var o=i.getData(),a=Fn(o,t);if(null==a||a<0||F(a))return{point:[]};var s=o.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,c=u.dim,d="x"===h||"radius"===h?1:0,p=o.mapDimension(c),f=[];f[d]=o.get(p,a),f[1-d]=o.get(o.getCalculationInfo("stackResultDimension"),a),n=l.dataToPoint(f)||[]}else n=l.dataToPoint(o.getValues(E(l.dimensions,(function(t){return o.mapDimension(t)})),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),n=[g.x+g.width/2,g.y+g.height/2]}return{point:n,el:s}}var Ev=Wn();function Nv(t,e,i){var n=t.currTrigger,r=[t.x,t.y],o=t,a=t.dispatchAction||B(i.dispatchAction,i),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Fv(r)&&(r=Lv({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=Fv(r),u=o.axesInfo,h=s.axesInfo,c="leave"===n||Fv(r),d={},p={},f={list:[],map:{}},g={showPointer:H(zv,p),showTooltip:H(Bv,f)};L(s.coordSysMap,(function(t,e){var i=l||t.containPoint(r);L(s.coordSysAxesInfo[e],(function(t,e){var n=t.axis,o=function(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}(u,t);if(!c&&i&&(!u||o)){var a=o&&o.value;null!=a||l||(a=n.pointToData(r)),null!=a&&Rv(t,a,g,!1,d)}}))}));var m={};return L(h,(function(t,e){var i=t.linkGroup;i&&!p[e]&&L(i.axesInfo,(function(e,n){var r=p[n];if(e!==t&&r){var o=r.value;i.mapper&&(o=t.axis.scale.parse(i.mapper(o,Hv(e),Hv(t)))),m[t.key]=o}}))})),L(m,(function(t,e){Rv(h[e],t,g,!0,d)})),function(t,e,i){var n=i.axesInfo=[];L(e,(function(e,i){var r=e.axisPointerModel.option,o=t[i];o?(!e.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})}))}(p,h,d),function(t,e,i,n){if(Fv(e)||!t.list.length)return void n({type:"hideTip"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}(f,r,t,a),function(t,e,i){var n=i.getZr(),r=Ev(n).axisPointerLastHighlights||{},o=Ev(n).axisPointerLastHighlights={};L(t,(function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&L(i.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t}))}));var a=[],s=[];L(r,(function(t,e){!o[e]&&s.push(t)})),L(o,(function(t,e){!r[e]&&a.push(t)})),s.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),a.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:a})}(h,0,i),d}}function Rv(t,e,i,n,r){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var a=function(t,e){var i=e.axis,n=i.dim,r=t,o=[],a=Number.MAX_VALUE,s=-1;return L(e.seriesModels,(function(e,l){var u,h,c=e.getData().mapDimensionsAll(n);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(c,t,i);h=d.dataIndices,u=d.nestestValue}else{if(!(h=e.getData().indicesOfNearest(c[0],t,"category"===i.type?.5:null)).length)return;u=e.getData().get(c[0],h[0])}if(null!=u&&isFinite(u)){var p=t-u,f=Math.abs(p);f<=a&&((f<a||p>=0&&s<0)&&(a=f,s=p,r=u,o.length=0),L(h,(function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:o,snapToValue:r}}(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&D(r,s[0]),!n&&t.snap&&o.containData(l)&&null!=l&&(e=l),i.showPointer(t,e,s),i.showTooltip(t,a,l)}else i.showPointer(t,e)}function zv(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function Bv(t,e,i,n){var r=i.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,u=um(l),h=t.map[u];h||(h=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function Hv(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function Fv(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function Wv(t){cm.registerAxisPointerClass("CartesianAxisPointer",Cv),t.registerComponentModel(kv),t.registerComponentView(Ov),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!F(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=rm(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Nv)}var Vv=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Sh);function jv(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}var qv=["-ms-","-moz-","-o-","-webkit-",""];function $v(t,e,i){var n=[],r=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),u=t.get("shadowOffsetY"),c=t.getModel("textStyle"),d=Sd(t,"html"),p=l+"px "+u+"px "+a+"px "+s;return n.push("box-shadow:"+p),e&&r&&n.push(function(t,e){var i="cubic-bezier(0.23, 1, 0.32, 1)",n="opacity "+t/2+"s "+i+",visibility "+t/2+"s "+i;return e||(n+=",left "+t+"s "+i+",top "+t+"s "+i),E(qv,(function(t){return t+"transition:"+n})).join(";")}(r,i)),o&&(h.canvasSupported?n.push("background-Color:"+o):(n.push("background-Color:#"+function(t){var e=Ee(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}(o)),n.push("filter:alpha(opacity=70)"))),L(["width","color","radius"],(function(e){var i,r,o="border-"+e,a=(i=((i=o)||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),r&&i&&(i=i.charAt(0).toUpperCase()+i.slice(1)),i),s=t.get(a);null!=s&&n.push(o+":"+s+("color"===e?"":"px"))})),n.push(function(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px");var r=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+r),L(["decoration","align"],(function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)})),e.join(";")}(c)),null!=d&&n.push("padding:"+ih(d).join("px ")+"px"),n.join(";")+";"}function Yv(t,e,i,n,r){var o=e&&e.painter;if(i){var a=o&&o.getViewportRoot();a&&function(t,e,i,n,r){Nt(Et,e,n,r,!0)&&Nt(t,i,Et[0],Et[1])}(t,a,document.body,n,r)}else{t[0]=n,t[1]=r;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Uv=function(){function t(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,h.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var r=this._zr=e.getZr(),o=this._appendToBody=i&&i.appendToBody;Yv(this._styleCoord,r,o,e.getWidth()/2,e.getHeight()/2),o?document.body.appendChild(n):t.appendChild(n),this._container=t;var a=this;n.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=r.handler;jt(r.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t)}},n.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e=this._container,i=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n.position&&"absolute"!==i.position&&(n.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=this._styleCoord,r=i.offsetHeight/2;e=hh(e),i.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+$v(t,!this._firstShow,this._longHide)+";left:"+n[0]+"px;top:"+(n[1]-r)+"px;border-color: "+e+";"+(t.get("extraCssText")||""),i.style.display=i.innerHTML?"block":"none",i.style.pointerEvents=this._enterable?"auto":"none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,i,n,r){if(null!=t){var o=this.el;if(V(r)&&"item"===i.get("trigger")&&!jv(i)&&(t+=function(t,e,i){if(!V(i)||"inside"===i)return"";e=hh(e);var n,r=n="left"===(n=i)?"right":"right"===n?"left":"top"===n?"bottom":"top",o="",a="";return A(["left","right"],r)>-1?(o=r+":-6px;top:50%;",a="translateY(-50%) rotate("+("left"===r?-225:-45)+"deg)"):(o=r+":-6px;left:50%;",a="translateX(-50%) rotate("+("top"===r?225:45)+"deg)"),'<div style="'+["position:absolute;width:10px;height:10px;",""+o+(a=E(qv,(function(t){return t+"transform:"+a})).join(";"))+";","border-bottom: "+e+" solid 1px;","border-right: "+e+" solid 1px;","background-color: "+t+";","box-shadow: 8px 8px 16px -3px #000;"].join("")+'"></div>'}(i.get("backgroundColor"),n,r)),V(t))o.innerHTML=t;else if(t){o.innerHTML="",F(t)||(t=[t]);for(var a=0;a<t.length;a++)X(t[a])&&t[a].parentNode!==o&&o.appendChild(t[a])}}},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.clientWidth,t.clientHeight]},t.prototype.moveTo=function(t,e){var i=this._styleCoord;if(Yv(i,this._zr,this._appendToBody,t,e),null!=i[0]&&null!=i[1]){var n=this.el.style;n.left=i[0].toFixed(0)+"px",n.top=i[1].toFixed(0)+"px"}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this;this.el.style.visibility="hidden",this.el.style.opacity="0",this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(B(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t.prototype.getOuterSize=function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);i&&(t+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),e+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:t,height:e}},t}();function Gv(t){return Math.max(0,t)}function Xv(t){var e=Gv(t.shadowBlur||0),i=Gv(t.shadowOffsetX||0),n=Gv(t.shadowOffsetY||0);return{left:Gv(e-i),right:Gv(e+i),top:Gv(e-n),bottom:Gv(e+n)}}function Zv(t,e,i,n){t[0]=i,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Kv=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),Zv(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,i,n,r){Y(t)&&Qc(""),this.el&&this._zr.remove(this.el);var o=i.getModel("textStyle");this.el=new Sa({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:i.get("backgroundColor"),borderRadius:i.get("borderRadius"),borderWidth:1,borderColor:n,shadowColor:i.get("shadowColor"),shadowBlur:i.get("shadowBlur"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY"),textShadowColor:o.get("textShadowColor"),textShadowBlur:o.get("textShadowBlur")||0,textShadowOffsetX:o.get("textShadowOffsetX")||0,textShadowOffsetY:o.get("textShadowOffsetY")||0,fill:i.get(["textStyle","color"]),padding:Sd(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),this._zr.add(this.el);var a=this;this.el.on("mouseover",(function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0})),this.el.on("mouseout",(function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=Xv(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},t.prototype.moveTo=function(t,e){var i=this.el;if(i){var n=this._styleCoord;Zv(n,this._zr,t,e),t=n[0],e=n[1];var r=i.style,o=Gv(r.borderWidth||0),a=Xv(r);i.x=t+o+a.left,i.y=e+o+a.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(B(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.getOuterSize=function(){var t=this.getSize();return{width:t[0],height:t[1]}},t.prototype.dispose=function(){this._zr.remove(this.el)},t}(),Qv=B,Jv=L,ty=vn,ey=new da({shape:{x:-1,y:-1,width:2,height:2}});function iy(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(i instanceof ku&&(i=i.get("tooltip",!0)),V(i)&&(i={formatter:i}),e=new ku(i,e,e.ecModel))}return e}function ny(t,e){return t.dispatchAction||B(e.dispatchAction,e)}function ry(t){return"center"===t||"middle"===t}var oy=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.prototype.init=function(t,e){if(!h.node){var i,n=t.getComponent("tooltip"),r=n.get("renderMode");this._renderMode="auto"===(i=r)?h.domSupported?"html":"richText":i||"html",this._tooltipContent="richText"===this._renderMode?new Kv(e):new Uv(e.getDom(),e,{appendToBody:n.get("appendToBody",!0)})}},e.prototype.render=function(t,e,i){if(!h.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");Mv("itemTooltip",this._api,Qv((function(e,i,n){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,n):"leave"===e&&this._hide(n))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,i,n){if(n.from!==this.uid&&!h.node){var r=ny(n,i);this._ticket="";var o=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var a=ey;a.x=n.x,a.y=n.y,a.update(),a.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:a},r)}else if(o)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:o,tooltipOption:n.tooltipOption},r);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var s=Lv(n,e),l=s.point[0],u=s.point[1];null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,position:n.position,target:s.el},r)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},r))}},e.prototype.manuallyHideTip=function(t,e,i,n){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(ny(n,i))},e.prototype._manuallyAxisShowTip=function(t,e,i,n){var r=n.seriesIndex,o=n.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=e.getSeriesByIndex(r);if(s)if("axis"===iy([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,t]).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:n.position}),!0}},e.prototype._tryShow=function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;n&&n.length?this._showAxisTooltip(n,t):i&&df(i,(function(t){return null!=Ca(t).dataIndex}),!0)?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},e.prototype._showOrMove=function(t,e){var i=t.get("showDelay");e=B(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},e.prototype._showAxisTooltip=function(t,e){var i=this._ecModel,n=this._tooltipModel,r=[e.offsetX,e.offsetY],o=iy([e.tooltipOption,n]),a=this._renderMode,s=[],l=md("section",{blocks:[],noHeader:!0}),u=[],h=new Cd;Jv(t,(function(t){Jv(t.dataByAxis,(function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value;if(e&&null!=n){var r=vv(n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt),o=md("section",{header:r,noHeader:!nt(r),sortBlocks:!0,blocks:[]});l.blocks.push(o),L(t.seriesDataIndices,(function(l){var c=i.getSeriesByIndex(l.seriesIndex),d=l.dataIndexInside,p=c.getDataParams(d);p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=av(e.axis,{value:n}),p.axisValueLabel=r,p.marker=h.makeTooltipMarker("item",hh(p.color),a);var f=Gc(c.formatTooltip(d,!0,null));f.markupFragment&&o.blocks.push(f.markupFragment),f.markupText&&u.push(f.markupText),s.push(p)}))}}))})),l.blocks.reverse(),u.reverse();var c=e.position,d=o.get("order"),p=_d(l,h,a,d,i.get("useUTC"),o.get("textStyle"));p&&u.unshift(p);var f="richText"===a?"\n\n":"<br/>",g=u.join(f);this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(o,c,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(o,g,s,Math.random()+"",r[0],r[1],c,null,h)}))},e.prototype._showSeriesItemTooltip=function(t,e,i){var n=df(e,(function(t){return null!=Ca(t).dataIndex}),!0),r=this._ecModel,o=Ca(n),a=o.seriesIndex,s=r.getSeriesByIndex(a),l=o.dataModel||s,u=o.dataIndex,h=o.dataType,c=l.getData(h),d=this._renderMode,p=iy([c.getItemModel(u),l,s&&(s.coordinateSystem||{}).model,this._tooltipModel]),f=p.get("trigger");if(null==f||"item"===f){var g=l.getDataParams(u,h),m=new Cd;g.marker=m.makeTooltipMarker("item",hh(g.color),d);var v=Gc(l.formatTooltip(u,!1,h)),y=p.get("order"),_=v.markupFragment?_d(v.markupFragment,m,d,y,r.get("useUTC"),p.get("textStyle")):v.markupText,b="item_"+l.name+"_"+u;this._showOrMove(p,(function(){this._showTooltipContent(p,_,g,b,t.offsetX,t.offsetY,t.position,t.target,m)})),i({type:"showTip",dataIndexInside:u,dataIndex:c.getRawIndex(u),seriesIndex:a,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,i){var n=e.tooltip;if(V(n)){n={content:n,formatter:n}}var r=new ku(n,this._tooltipModel,this._ecModel),o=r.get("content"),a=Math.random()+"",s=new Cd;this._showOrMove(r,(function(){this._showTooltipContent(r,o,r.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e,s)})),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,i,n,r,o,a,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,h=t.get("formatter");a=a||t.get("position");var c=e,d=this._getNearestPoint([r,o],i,t.get("trigger"),t.get("borderColor"));if(h&&V(h)){var p=t.ecModel.get("useUTC"),f=F(i)?i[0]:i;c=h,f&&f.axisType&&f.axisType.indexOf("time")>=0&&(c=Bu(f.axisValue,c,p)),c=uh(c,i,!0)}else if(W(h)){var g=Qv((function(e,n){e===this._ticket&&(u.setContent(n,l,t,d.color,a),this._updatePosition(t,a,r,o,u,i,s))}),this);this._ticket=n,c=h(i,n,g)}u.setContent(c,l,t,d.color,a),u.show(t,d.color),this._updatePosition(t,a,r,o,u,i,s)}},e.prototype._getNearestPoint=function(t,e,i,n){return"axis"===i||F(e)?{color:n||("html"===this._renderMode?"#fff":"none")}:F(e)?void 0:{color:n||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,i,n,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=r.getSize(),h=t.get("align"),c=t.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),W(e)&&(e=e([i,n],o,r.el,d,{viewSize:[s,l],contentSize:u.slice()})),F(e))i=ty(e[0],s),n=ty(e[1],l);else if(Y(e)){var p=e;p.width=u[0],p.height=u[1];var f=vh(p,{width:s,height:l});i=f.x,n=f.y,h=null,c=null}else if(V(e)&&a){var g=function(t,e,i){var n=i[0],r=i[1],o=0,a=0,s=e.width,l=e.height;switch(t){case"inside":o=e.x+s/2-n/2,a=e.y+l/2-r/2;break;case"top":o=e.x+s/2-n/2,a=e.y-r-10;break;case"bottom":o=e.x+s/2-n/2,a=e.y+l+10;break;case"left":o=e.x-n-10-5,a=e.y+l/2-r/2;break;case"right":o=e.x+s+10+5,a=e.y+l/2-r/2}return[o,a]}(e,d,u);i=g[0],n=g[1]}else{g=function(t,e,i,n,r,o,a){var s=i.getOuterSize(),l=s.width,u=s.height;null!=o&&(t+l+o+2>n?t-=l+o:t+=o);null!=a&&(e+u+a>r?e-=u+a:e+=a);return[t,e]}(i,n,r,s,l,h?null:20,c?null:20);i=g[0],n=g[1]}if(h&&(i-=ry(h)?u[0]/2:"right"===h?u[0]:0),c&&(n-=ry(c)?u[1]/2:"bottom"===c?u[1]:0),jv(t)){g=function(t,e,i,n,r){var o=i.getOuterSize(),a=o.width,s=o.height;return t=Math.min(t+a,n)-a,e=Math.min(e+s,r)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(i,n,r,s,l);i=g[0],n=g[1]}r.moveTo(i,n)},e.prototype._updateContentNotChangedOnAxis=function(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return i&&Jv(e,(function(e,n){var r=e.dataByAxis||[],o=(t[n]||{}).dataByAxis||[];(i=i&&r.length===o.length)&&Jv(r,(function(t,e){var n=o[e]||{},r=t.seriesDataIndices||[],a=n.seriesDataIndices||[];(i=i&&t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&r.length===a.length)&&Jv(r,(function(t,e){var n=a[e];i=i&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex}))}))})),this._lastDataByCoordSys=t,!!i},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){h.node||(this._tooltipContent.dispose(),Pv("itemTooltip",e))},e.type="tooltip",e}(Bd);var ay=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return a(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,i=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),F(e)&&L(e,(function(t,n){V(t)&&(t={type:t}),e[n]=T(t,function(t,e){return"all"===e?{type:"all",title:t.getLocale(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocale(["legend","selector","inverse"])}:void 0}(i,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],i=[];t.eachRawSeries((function(n){var r,o=n.name;if(i.push(o),n.legendVisualProvider){var a=n.legendVisualProvider.getAllNames();t.isSeriesFiltered(n)||(i=i.concat(a)),a.length?e=e.concat(a):r=!0}else r=!0;r&&Bn(n)&&e.push(n.name)})),this._availableNames=i;var n=E(this.get("data")||e,(function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new ku(t,this,this.ecModel)}),this);this._data=n},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&L(this._data,(function(t){e[t.get("name")]=!1}));e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;L(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;L(t,(function(t){var i=t.get("name",!0);e.hasOwnProperty(i)||(e[i]=!0),e[i]=!e[i]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&A(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Sh);function sy(t,e,i){var n=e.getBoxLayoutParams(),r=e.get("padding"),o={width:i.getWidth(),height:i.getHeight()},a=vh(n,o,r);mh(e.get("orient"),t,e.get("itemGap"),a.width,a.height),function(t,e,i,n,r){var o=!r||!r.hv||r.hv[0],a=!r||!r.hv||r.hv[1],s=r&&r.boundingMode||"all";if(o||a){var l;if("raw"===s)l="group"===t.type?new ui(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var u=t.getLocalTransform();(l=l.clone()).applyTransform(u)}var h=vh(M({width:l.width,height:l.height},e),i,n),c=o?h.x-l.x:0,d=a?h.y-l.y:0;"raw"===s?(t.x=c,t.y=d):(t.x+=c,t.y+=d),t.markRedraw()}}(t,n,o,r)}function ly(t,e){var i=ih(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new da({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1})}var uy=H,hy=L,cy=hn;function dy(t,e,i,n,r,o,a){var s;return"line"!==e&&e.indexOf("empty")<0?(s=i.getItemStyle(),t.style.stroke=n,t.style.decal=o,a||(s.stroke=r)):s=i.getItemStyle(["borderWidth","borderColor"]),t.setStyle(s),t}function py(t,e,i,n){my(t,e,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),gy(t,e,i,n)}function fy(t){for(var e,i=t.getZr().storage.getDisplayList(),n=0,r=i.length;n<r&&!(e=i[n].states.emphasis);)n++;return e&&e.hoverLayer}function gy(t,e,i,n){fy(i)||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function my(t,e,i,n){fy(i)||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}var vy=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.newlineDisabled=!1,i}return a(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new cy),this.group.add(this._selectorGroup=new cy),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var r=t.get("align"),o=t.get("orient");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===o?"right":"left");var a=t.get("selector",!0),s=t.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(r,t,e,i,a,o,s);var l=t.getBoxLayoutParams(),u={width:i.getWidth(),height:i.getHeight()},h=t.get("padding"),c=vh(l,u,h),d=this.layoutInner(t,r,c,n,a,s),p=vh(M({width:d.width,height:d.height},l),u,h);this.group.x=p.x-d.x,this.group.y=p.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=ly(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,i,n,r,o,a){var s=this.getContentGroup(),l=st(),u=e.get("selectedMode"),h=[];i.eachRawSeries((function(t){!t.get("legendHoverLink")&&h.push(t.id)})),hy(e.getData(),(function(r,o){var a=r.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var c=new cy;return c.newline=!0,void s.add(c)}var d=i.getSeriesByName(a)[0];if(!l.get(a)){if(d){var p=d.getData(),f=p.getVisual("style"),g=f[p.getVisual("drawType")]||f.fill,m=f.stroke,v=f.decal,y=p.getVisual("legendSymbol")||"roundRect",_=p.getVisual("symbol");this._createItem(a,o,r,e,y,_,t,g,m,v,u).on("click",uy(py,a,null,n,h)).on("mouseover",uy(gy,d.name,null,n,h)).on("mouseout",uy(my,d.name,null,n,h)),l.set(a,!0)}else i.eachRawSeries((function(i){if(!l.get(a)&&i.legendVisualProvider){var s=i.legendVisualProvider;if(!s.containName(a))return;var c=s.indexOfName(a),d=s.getItemVisual(c,"style"),p=d.stroke,f=d.decal,g=d.fill,m=Ee(d.fill);m&&0===m[3]&&(m[3]=.2,g=Re(m,"rgba"));this._createItem(a,o,r,e,"roundRect",null,t,g,p,f,u).on("click",uy(py,null,a,n,h)).on("mouseover",uy(gy,null,a,n,h)).on("mouseout",uy(my,null,a,n,h)),l.set(a,!0)}}),this);0}}),this),r&&this._createSelector(r,e,n,o,a)},e.prototype._createSelector=function(t,e,i,n,r){var o=this.getSelectorGroup();hy(t,(function(t){var n=t.type,r=new Sa({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});o.add(r),nu(r,{normal:e.getModel("selectorLabel"),emphasis:e.getModel(["emphasis","selectorLabel"])},{defaultText:t.title}),Ja(r)}))},e.prototype._createItem=function(t,e,i,n,r,o,a,s,l,u,h){var c=n.get("itemWidth"),d=n.get("itemHeight"),p=n.get("inactiveColor"),f=n.get("inactiveBorderColor"),g=n.get("symbolKeepAspect"),m=n.getModel("itemStyle"),v=n.isSelected(t),y=new cy,_=i.getModel("textStyle"),b=i.get("icon"),x=i.getModel("tooltip"),w=x.parentModel,S=Sf(r=b||r,0,0,c,d,v?s:p,null==g||g);if(y.add(dy(S,r,m,l,f,u,v)),!b&&o&&(o!==r||"none"===o)){var C=.8*d;"none"===o&&(o="circle");var k=Sf(o,(c-C)/2,(d-C)/2,C,C,v?s:p,null==g||g);y.add(dy(k,o,m,l,f,u,v))}var T="left"===a?c+5:-5,M=a,I=n.get("formatter"),A=t;"string"==typeof I&&I?A=I.replace("{name}",null!=t?t:""):"function"==typeof I&&(A=I(t)),y.add(new Sa({style:ou(_,{text:A,x:T,y:d/2,fill:v?_.getTextColor():p,align:M,verticalAlign:"middle"})}));var P=new da({shape:y.getBoundingRect(),invisible:!0});if(x.get("show")){var O={componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]};P.tooltip=D({content:t,formatter:w.get("formatter",!0)||function(t){return t.name},formatterParams:O},x.option)}return y.add(P),y.eachChild((function(t){t.silent=!0})),P.silent=!h,this.getContentGroup().add(y),Ja(y),y.__legendDataIndex=e,y},e.prototype.layoutInner=function(t,e,i,n,r,o){var a=this.getContentGroup(),s=this.getSelectorGroup();mh(t.get("orient"),a,t.get("itemGap"),i.width,i.height);var l=a.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),r){mh("horizontal",s,t.get("selectorItemGap",!0));var h=s.getBoundingRect(),c=[-h.x,-h.y],d=t.get("selectorButtonGap",!0),p=t.getOrient().index,f=0===p?"width":"height",g=0===p?"height":"width",m=0===p?"y":"x";"end"===o?c[p]+=l[f]+d:u[p]+=h[f]+d,c[1-p]+=l[g]/2-h[g]/2,s.x=c[0],s.y=c[1],a.x=u[0],a.y=u[1];var v={x:0,y:0};return v[f]=l[f]+d+h[f],v[g]=Math.max(l[g],h[g]),v[m]=Math.min(0,h[m]+c[1-p]),v}return a.x=u[0],a.y=u[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Bd);function yy(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0}))}function _y(t,e,i){var n,r={},o="toggleSelected"===t;return i.eachComponent("legend",(function(i){o&&null!=n?i[n?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](e.name),n=i.isSelected(e.name)),L(i.getData(),(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&n:r[e]=n}}))})),"allSelect"===t||"inverseSelect"===t?{selected:r}:{name:e.name,selected:r}}function by(t){t.registerComponentModel(ay),t.registerComponentView(vy),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,yy),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",H(_y,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",H(_y,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",H(_y,"inverseSelect")),t.registerAction("legendSelect","legendselected",H(_y,"select")),t.registerAction("legendUnSelect","legendunselected",H(_y,"unSelect"))}(t)}function xy(t,e,i){var n=[1,1];n[t.getOrient().index]=0,_h(e,i,{type:"box",ignoreSize:!!n})}var wy=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}var i,n;return a(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,i,n){var r=bh(e);t.prototype.init.call(this,e,i,n),xy(this,e,r)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),xy(this,this.option,e)},e.type="legend.scroll",e.defaultOption=(i=ay.defaultOption,n={scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},T(T({},i,!0),n,!0)),e}(ay),Sy=hn,Cy=["width","height"],ky=["x","y"],Ty=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.newlineDisabled=!0,i._currentIndex=0,i}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new Sy),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Sy)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,i,n,r,o,a,s){var l=this;t.prototype.renderInner.call(this,e,i,n,r,o,a,s);var u=this._controllerGroup,h=i.get("pageIconSize",!0),c=F(h)?h:[h,h];p("pagePrev",0);var d=i.getModel("pageTextStyle");function p(t,e){var n=t+"DataIndex",o=Zl(i.get("pageIcons",!0)[i.getOrient().name][e],{onclick:B(l._pageGo,l,n,i,r)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});o.name=t,u.add(o)}u.add(new Sa({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},e.prototype.layoutInner=function(t,e,i,n,r,o){var a=this.getSelectorGroup(),s=t.getOrient().index,l=Cy[s],u=ky[s],h=Cy[1-s],c=ky[1-s];r&&mh("horizontal",a,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),p=a.getBoundingRect(),f=[-p.x,-p.y],g=k(i);r&&(g[l]=i[l]-p[l]-d);var m=this._layoutContentAndController(t,n,g,s,l,h,c,u);if(r){if("end"===o)f[s]+=m[l]+d;else{var v=p[l]+d;f[s]-=v,m[u]-=v}m[l]+=p[l]+d,f[1-s]+=m[c]+m[h]/2-p[h]/2,m[h]=Math.max(m[h],p[h]),m[c]=Math.min(m[c],p[c]+f[1-s]),a.x=f[0],a.y=f[1],a.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,e,i,n,r,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,h=this._controllerGroup;mh(t.get("orient"),l,t.get("itemGap"),n?i.width:null,n?null:i.height),mh("horizontal",h,t.get("pageButtonItemGap",!0));var c=l.getBoundingRect(),d=h.getBoundingRect(),p=this._showController=c[r]>i[r],f=[-c.x,-c.y];e||(f[n]=l[s]);var g=[0,0],m=[-d.x,-d.y],v=Q(t.get("pageButtonGap",!0),t.get("itemGap",!0));p&&("end"===t.get("pageButtonPosition",!0)?m[n]+=i[r]-d[r]:g[n]+=d[r]+v);m[1-n]+=c[o]/2-d[o]/2,l.setPosition(f),u.setPosition(g),h.setPosition(m);var y={x:0,y:0};if(y[r]=p?i[r]:c[r],y[o]=Math.max(c[o],d[o]),y[a]=Math.min(0,d[a]+m[1-n]),u.__rectSize=i[r],p){var _={x:0,y:0};_[r]=Math.max(i[r]-d[r]-v,0),_[o]=y[o],u.setClipPath(new da({shape:_})),u.__rectSize=_[r]}else h.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var b=this._getPageInfo(t);return null!=b.pageIndex&&zl(l,{x:b.contentPosition[0],y:b.contentPosition[1]},p?t:null),this._updatePageInfoView(t,b),y},e.prototype._pageGo=function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var i=this._controllerGroup;L(["pagePrev","pageNext"],(function(n){var r=null!=e[n+"DataIndex"],o=i.childOfName(n);o&&(o.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")}));var n=i.childOfName("pageText"),r=t.get("pageFormatter"),o=e.pageIndex,a=null!=o?o+1:0,s=e.pageCount;n&&r&&n.setStyle("text",V(r)?r.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):r({current:a,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,r=t.getOrient().index,o=Cy[r],a=ky[r],s=this._findTargetItemIndex(e),l=i.children(),u=l[s],h=l.length,c=h?1:0,d={contentPosition:[i.x,i.y],pageCount:c,pageIndex:c-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return d;var p=y(u);d.contentPosition[r]=-p.s;for(var f=s+1,g=p,m=p,v=null;f<=h;++f)(!(v=y(l[f]))&&m.e>g.s+n||v&&!_(v,g.s))&&(g=m.i>g.i?m:v)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),m=v;for(f=s-1,g=p,m=p,v=null;f>=-1;--f)(v=y(l[f]))&&_(m,v.s)||!(g.i<m.i)||(m=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=v;return d;function y(t){if(t){var e=t.getBoundingRect(),i=e[a]+t[a];return{s:i,e:i+e[o],i:t.__legendDataIndex}}}function _(t,e){return t.e>=e&&t.s<=e+n}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(n,r){var o=n.__legendDataIndex;null==i&&null!=o&&(i=r),o===t&&(e=r)})),null!=e?e:i):0;var e,i},e.type="legend.scroll",e}(vy);function Dy(t){em(by),t.registerComponentModel(wy),t.registerComponentView(Ty),function(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(i)}))}))}(t)}var My=["x","y","radius","angle","single"],Iy=["cartesian2d","polar","singleAxis"];function Ay(t){return t+"Axis"}function Py(t,e){var i,n=st(),r=[],o=st();t.eachComponent({mainType:"dataZoom",query:e},(function(t){o.get(t.uid)||s(t)}));do{i=!1,t.eachComponent("dataZoom",a)}while(i);function a(t){!o.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis((function(t,i){var r=n.get(t);r&&r[i]&&(e=!0)})),e}(t)&&(s(t),i=!0)}function s(t){o.set(t.uid,!0),r.push(t),t.eachTargetAxis((function(t,e){(n.get(t)||n.set(t,[]))[e]=!0}))}return r}var Oy=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}();function Ly(t){var e={};return L(["start","end","startValue","endValue","throttle"],(function(i){t.hasOwnProperty(i)&&(e[i]=t[i])})),e}var Ey=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.type="dataZoom.select",e}(function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i._autoThrottle=!0,i._noTarget=!0,i._rangePropMode=["percent","percent"],i}return a(e,t),e.prototype.init=function(t,e,i){var n=Ly(t);this.settledOption=n,this.mergeDefaultAndTheme(t,i),this._doInit(n)},e.prototype.mergeOption=function(t){var e=Ly(t);T(this.option,t,!0),T(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;L([["start","startValue"],["end","endValue"]],(function(t,n){"value"===this._rangePropMode[n]&&(e[t[0]]=i[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=st();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return L(My,(function(i){var n=this.getReferringComponents(Ay(i),$n);if(n.specified){e=!0;var r=new Oy;L(n.models,(function(t){r.add(t.componentIndex)})),t.set(i,r)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var i=this.ecModel,n=!0;if(n){var r="vertical"===e?"y":"x";o(i.findComponents({mainType:r+"Axis"}),r)}n&&o(i.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single");function o(e,i){var r=e[0];if(r){var o=new Oy;if(o.add(r.componentIndex),t.set(i,o),n=!1,"x"===i||"y"===i){var a=r.getReferringComponents("grid",qn).models[0];a&&L(e,(function(t){r.componentIndex!==t.componentIndex&&a===t.getReferringComponents("grid",qn).models[0]&&o.add(t.componentIndex)}))}}}n&&L(My,(function(e){if(n){var r=i.findComponents({mainType:Ay(e),filter:function(t){return"category"===t.get("type",!0)}});if(r[0]){var o=new Oy;o.add(r[0].componentIndex),t.set(e,o),n=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,i=this.get("rangeMode");L([["start","startValue"],["end","endValue"]],(function(n,r){var o=null!=t[n[0]],a=null!=t[n[1]];o&&!a?e[r]="percent":!o&&a?e[r]="value":i?e[r]=i[r]:o&&(e[r]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,i){null==t&&(t=this.ecModel.getComponent(Ay(e),i))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(i,n){L(i.indexList,(function(i){t.call(e,n,i)}))}))},e.prototype.getAxisProxy=function(t,e){var i=this.getAxisModel(t,e);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[e])return this.ecModel.getComponent(Ay(t),e)},e.prototype.setRawRange=function(t){var e=this.option,i=this.settledOption;L([["start","startValue"],["end","endValue"]],(function(n){null==t[n[0]]&&null==t[n[1]]||(e[n[0]]=i[n[0]]=t[n[0]],e[n[1]]=i[n[1]]=t[n[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;L(["start","startValue","end","endValue"],(function(i){e[i]=t[i]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,i=this._targetAxisInfoMap.keys(),n=0;n<i.length;n++)for(var r=i[n],o=this._targetAxisInfoMap.get(r),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(r,o.indexList[a]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},e}(Sh)),Ny=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.type="dataZoom.select",e}(function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.prototype.render=function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},e.type="dataZoom",e}(Bd));function Ry(t,e,i,n,r,o){t=t||0;var a=i[1]-i[0];if(null!=r&&(r=By(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===n){var s=Math.abs(e[1]-e[0]);s=By(s,[0,a]),r=o=By(s,[r,o]),n=0}e[0]=By(e[0],i),e[1]=By(e[1],i);var l=zy(e,n);e[n]+=t;var u,h=r||0,c=i.slice();return l.sign<0?c[0]+=h:c[1]-=h,e[n]=By(e[n],c),u=zy(e,n),null!=r&&(u.sign!==l.sign||u.span<r)&&(e[1-n]=e[n]+l.sign*r),u=zy(e,n),null!=o&&u.span>o&&(e[1-n]=e[n]+u.sign*o),e}function zy(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function By(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var Hy=L,Fy=function(t){return t.sort((function(t,e){return t-e})),t};var Wy=function(){function t(t,e,i,n){this._dimName=t,this._axisIndex=e,this.ecModel=n,this._dataZoomModel=i}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(function(t){var e=t.get("coordinateSystem");return A(Iy,e)>=0}(e)){var i=Ay(this._dimName),n=e.getReferringComponents(i,qn).models[0];n&&this._axisIndex===n.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return k(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,i=this._dataExtent,n=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];Hy(["start","end"],(function(l,u){var h=t[l],c=t[l+"Value"];"percent"===r[u]?(null==h&&(h=o[u]),c=n.parse(mn(h,o,i))):(e=!0,h=mn(c=null==c?i[u]:n.parse(c),i,o)),s[u]=c,a[u]=h})),Fy(s),Fy(a);var l=this._minMaxSpan;function u(t,e,i,r,o){var a=o?"Span":"ValueSpan";Ry(0,t,i,"all",l["min"+a],l["max"+a]);for(var s=0;s<2;s++)e[s]=mn(t[s],i,r,!0),o&&(e[s]=n.parse(e[s]))}return e?u(s,a,i,o,!1):u(a,s,o,i,!0),{valueWindow:s,percentWindow:a}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,i){var n=[1/0,-1/0];Hy(i,(function(t){!function(t,e,i){e&&L(sv(e,i),(function(i){var n=e.getApproximateExtent(i);n[0]<t[0]&&(t[0]=n[0]),n[1]>t[1]&&(t[1]=n[1])}))}(n,t.getData(),e)}));var r=t.getAxisModel(),o=rv(r.axis.scale,r,n).calculate();return[o.min,o.max]}(this,this._dimName,e),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),r=t.get("filterMode"),o=this._valueWindow;"none"!==r&&Hy(n,(function(t){var e=t.getData(),n=e.mapDimensionsAll(i);n.length&&("weakFilter"===r?e.filterSelf((function(t){for(var i,r,a,s=0;s<n.length;s++){var l=e.get(n[s],t),u=!isNaN(l),h=l<o[0],c=l>o[1];if(u&&!h&&!c)return!0;u&&(a=!0),h&&(i=!0),c&&(r=!0)}return a&&i&&r})):Hy(n,(function(i){if("empty"===r)t.setData(e=e.map(i,(function(t){return function(t){return t>=o[0]&&t<=o[1]}(t)?t:NaN})));else{var n={};n[i]=o,e.selectRange(n)}})),Hy(n,(function(t){e.setApproximateExtent(o,t)})))}))}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,i=this._dataExtent;Hy(["min","max"],(function(n){var r=e.get(n+"Span"),o=e.get(n+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?r=mn(i[0]+o,i,[0,100],!0):null!=r&&(o=mn(r,[0,100],i,!0)-i[0]),t[n+"Span"]=r,t[n+"ValueSpan"]=o}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,i=this._valueWindow;if(e){var n=function(t,e){var i=Math.log,n=Math.LN10,r=Math.floor(i(t[1]-t[0])/n),o=Math.round(i(Math.abs(e[1]-e[0]))/n),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}(i,[0,500]);n=Math.min(n,20);var r=t.axis.scale.rawExtentInfo;0!==e[0]&&r.setDeterminedMinMax("min",+i[0].toFixed(n)),100!==e[1]&&r.setDeterminedMinMax("max",+i[1].toFixed(n)),r.freeze()}},t}(),Vy={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(i){i.eachTargetAxis((function(n,r){var o=t.getComponent(Ay(n),r);e(n,r,o,i)}))}))}e((function(t,e,i,n){i.__dzAxisProxy=null}));var i=[];e((function(e,n,r,o){r.__dzAxisProxy||(r.__dzAxisProxy=new Wy(e,n,o,t),i.push(r.__dzAxisProxy))}));var n=st();return L(i,(function(t){L(t.getTargetSeriesModels(),(function(t){n.set(t.uid,t)}))})),n},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,i){t.getAxisProxy(e,i).reset(t)})),t.eachTargetAxis((function(i,n){t.getAxisProxy(i,n).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})}}))}};var jy=!1;function qy(t){jy||(jy=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,Vy),function(t){t.registerAction("dataZoom",(function(t,e){L(Py(e,t),(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function $y(t){t.registerComponentModel(Ey),t.registerComponentView(Ny),qy(t)}var Yy=function(){},Uy={};function Gy(t,e){Uy[t]=e}function Xy(t){return Uy[t]}var Zy=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;L(this.option.feature,(function(t,i){var n=Xy(i);n&&(n.getDefaultOption&&(n.defaultOption=n.getDefaultOption(e)),T(t,n.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}},e}(Sh);function Ky(t){return null==t?0:t.length||1}function Qy(t){return t}var Jy=function(){function t(t,e,i,n,r,o){this._old=t,this._new=e,this._oldKeyGetter=i||Qy,this._newKeyGetter=n||Qy,this.context=r,this._diffModeMultiple="multiple"===o}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},n=new Array(t.length),r=new Array(e.length);this._initIndexMap(t,null,n,"_oldKeyGetter"),this._initIndexMap(e,i,r,"_newKeyGetter");for(var o=0;o<t.length;o++){var a=n[o],s=i[a],l=Ky(s);if(l>1){var u=s.shift();1===s.length&&(i[a]=s[0]),this._update&&this._update(u,o)}else 1===l?(i[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(r,i)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,i={},n={},r=[],o=[];this._initIndexMap(t,i,r,"_oldKeyGetter"),this._initIndexMap(e,n,o,"_newKeyGetter");for(var a=0;a<r.length;a++){var s=r[a],l=i[s],u=n[s],h=Ky(l),c=Ky(u);if(h>1&&1===c)this._updateManyToOne&&this._updateManyToOne(u,l),n[s]=null;else if(1===h&&c>1)this._updateOneToMany&&this._updateOneToMany(u,l),n[s]=null;else if(1===h&&1===c)this._update&&this._update(u,l),n[s]=null;else if(h>1)for(var d=0;d<h;d++)this._remove&&this._remove(l[d]);else this._remove&&this._remove(l)}this._performRestAdd(o,n)},t.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=e[n],o=Ky(r);if(o>1)for(var a=0;a<o;a++)this._add&&this._add(r[a]);else 1===o&&this._add&&this._add(r);e[n]=null}},t.prototype._initIndexMap=function(t,e,i,n){for(var r=this._diffModeMultiple,o=0;o<t.length;o++){var a="_ec_"+this[n](t[o],o);if(r||(i[o]=a),e){var s=e[a],l=Ky(s);0===l?(e[a]=o,r&&i.push(a)):1===l?e[a]=[s,o]:s.push(o)}}},t}();var t_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(t,e,i,n){var r=this.group;if(r.removeAll(),t.get("show")){var o=+t.get("itemSize"),a=t.get("feature")||{},s=this._features||(this._features={}),l=[];L(a,(function(t,e){l.push(e)})),new Jy(this._featureNames||[],l).add(u).update(u).remove(H(u,null)).execute(),this._featureNames=l,sy(r,t,i),r.add(ly(r.getBoundingRect(),t)),r.eachChild((function(t){var e=t.__title,n=t.ensureState("emphasis"),a=n.textConfig||(n.textConfig={}),s=t.getTextContent(),l=s&&s.states.emphasis;if(l&&!W(l)&&e){var u=l.style||(l.style={}),h=fi(e,Sa.makeFont(u)),c=t.x+r.x,d=!1;t.y+r.y+o+h.height>i.getHeight()&&(a.position="top",d=!0);var p=d?-5-h.height:o+8;c+h.width/2>i.getWidth()?(a.position=["100%",p],u.align="right"):c-h.width/2<0&&(a.position=[0,p],u.align="left")}}))}function u(u,h){var c,d=l[u],p=l[h],f=a[d],g=new ku(f,t,t.ecModel);if(n&&null!=n.newTitle&&n.featureName===d&&(f.title=n.newTitle),d&&!p){if(function(t){return 0===t.indexOf("my")}(d))c={onclick:g.option.onclick,featureName:d};else{var m=Xy(d);if(!m)return;c=new m}s[d]=c}else if(!(c=s[p]))return;if(c.uid=Du("toolbox-feature"),c.model=g,c.ecModel=e,c.api=i,c instanceof Yy){if(!d&&p)return void(c.dispose&&c.dispose(e,i));if(!g.get("show")||c.unusable)return void(c.remove&&c.remove(e,i))}!function(n,a,s){var l,u,h=n.getModel("iconStyle"),c=n.getModel(["emphasis","iconStyle"]),d=a instanceof Yy&&a.getIcons?a.getIcons():n.get("icon"),p=n.get("title")||{};"string"==typeof d?(l={})[s]=d:l=d;"string"==typeof p?(u={})[s]=p:u=p;var f=n.iconPaths={};L(l,(function(s,l){var d=Zl(s,{},{x:-o/2,y:-o/2,width:o,height:o});d.setStyle(h.getItemStyle()),d.ensureState("emphasis").style=c.getItemStyle();var p=new Sa({style:{text:u[l],align:c.get("textAlign"),borderRadius:c.get("textBorderRadius"),padding:c.get("textPadding"),fill:null},ignore:!0});d.setTextContent(p);var g=t.getModel("tooltip");g&&g.get("show")&&(d.tooltip=D({content:u[l],formatter:g.get("formatter",!0)||function(){return u[l]},formatterParams:{componentType:"toolbox",name:l,title:u[l],$vars:["name","title"]},position:g.get("position",!0)||"bottom"},g.option)),d.__title=u[l],d.on("mouseover",(function(){var e=c.getItemStyle(),i="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";p.setStyle({fill:c.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:c.get("textBackgroundColor")}),d.setTextConfig({position:c.get("textPosition")||i}),p.ignore=!t.get("showTitle"),qa(this)})).on("mouseout",(function(){"emphasis"!==n.get(["iconStatus",l])&&$a(this),p.hide()})),("emphasis"===n.get(["iconStatus",l])?qa:$a)(d),r.add(d),d.on("click",B(a.onclick,a,e,i,l)),f[l]=d}))}(g,c,d),g.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&("emphasis"===e?qa:$a)(n[t])},c instanceof Yy&&c.render&&c.render(g,e,i,n)}},e.prototype.updateView=function(t,e,i,n){L(this._features,(function(t){t instanceof Yy&&t.updateView&&t.updateView(t.model,e,i,n)}))},e.prototype.remove=function(t,e){L(this._features,(function(i){i instanceof Yy&&i.remove&&i.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){L(this._features,(function(i){i instanceof Yy&&i.dispose&&i.dispose(t,e)}))},e.type="toolbox",e}(Bd),e_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",r="svg"===e.getZr().painter.getType(),o=r?"svg":i.get("type",!0)||"png",a=e.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if("function"!=typeof MouseEvent||!h.browser.newEdge&&(h.browser.ie||h.browser.edge))if(window.navigator.msSaveOrOpenBlob||r){var s=a.split(","),l=s[0].indexOf("base64")>-1,u=r?decodeURIComponent(s[1]):s[1];l&&(u=atob(u));var c=n+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var d=u.length,p=new Uint8Array(d);d--;)p[d]=u.charCodeAt(d);var f=new Blob([p]);window.navigator.msSaveOrOpenBlob(f,c)}else{var g=document.createElement("iframe");document.body.appendChild(g);var m=g.contentWindow,v=m.document;v.open("image/svg+xml","replace"),v.write(u),v.close(),m.focus(),v.execCommand("SaveAs",!0,c),document.body.removeChild(g)}}else{var y=i.get("lang"),_='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(y&&y[0]||"")+'" /></body>',b=window.open();b.document.write(_),b.document.title=n}else{var x=document.createElement("a");x.download=n+"."+o,x.target="_blank",x.href=a;var w=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});x.dispatchEvent(w)}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocale(["toolbox","saveAsImage","lang"])}},e}(Yy);e_.prototype.unusable=!h.canvasSupported;var i_=e_,n_=[["line","bar"],["stack"]],r_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return L(t.get("type"),(function(t){e[t]&&(i[t]=e[t])})),i},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,e,i){var n=this.model,r=n.get(["seriesIndex",i]);if(o_[i]){var o,a={series:[]};L(n_,(function(t){A(t,i)>=0&&L(t,(function(t){n.setIconStatus(t,"normal")}))})),n.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},(function(t){var e=t.subType,r=t.id,o=o_[i](e,r,t,n);o&&(M(o,t.option),a.series.push(o));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===i||"bar"===i)){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim+"Axis",h=t.getReferringComponents(u,qn).models[0].componentIndex;a[u]=a[u]||[];for(var c=0;c<=h;c++)a[u][h]=a[u][h]||{};a[u][h].boundaryGap="bar"===i}}})),"stack"===i&&(o=T({stack:n.option.title.tiled,tiled:n.option.title.stack},n.option.title)),e.dispatchAction({type:"changeMagicType",currentType:i,newOption:a,newTitle:o,featureName:"magicType"})}},e}(Yy),o_={line:function(t,e,i,n){if("bar"===t)return T({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(t,e,i,n){if("line"===t)return T({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(t,e,i,n){var r="__ec_magicType_stack__"===i.get("stack");if("line"===t||"bar"===t)return n.setIconStatus("stack",r?"normal":"emphasis"),T({id:e,stack:r?"":"__ec_magicType_stack__"},n.get(["option","stack"])||{},!0)}};Ug({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var a_=r_,s_=new Array(60).join("-");function l_(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var u_=new RegExp("[\t]+","g");function h_(t,e){var i=t.split(new RegExp("\n*"+s_+"\n*","g")),n={series:[]};return L(i,(function(t,i){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf("\t")>=0)return!0}(t)){var r=function(t){for(var e=t.split(/\n+/g),i=[],n=E(l_(e.shift()).split(u_),(function(t){return{name:t,data:[]}})),r=0;r<e.length;r++){var o=l_(e[r]).split(u_);i.push(o.shift());for(var a=0;a<o.length;a++)n[a]&&(n[a].data[r]=o[a])}return{series:n,categories:i}}(t),o=e[i],a=o.axisDim+"Axis";o&&(n[a]=n[a]||[],n[a][o.axisIndex]={data:r.categories},n.series=n.series.concat(r.series))}else{r=function(t){for(var e=t.split(/\n+/g),i=l_(e.shift()),n=[],r=0;r<e.length;r++){var o=l_(e[r]);if(o){var a=o.split(u_),s="",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),n[r]={name:s,value:[]},l=n[r].value):l=n[r]=[];for(var h=0;h<a.length;h++)l.push(+a[h]);1===l.length&&(u?n[r].value=l[0]:n[r]=l[0])}}return{name:i,data:n}}(t);n.series.push(r)}})),n}var c_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onclick=function(t,e){var i=e.getDom(),n=this.model;this._dom&&i.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",r.style.backgroundColor=n.get("backgroundColor")||"#fff";var o=document.createElement("h4"),a=n.get("lang")||[];o.innerHTML=a[0]||n.get("title"),o.style.cssText="margin: 10px 20px;",o.style.color=n.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var u=n.get("optionToContent"),h=n.get("contentToOption"),c=function(t){var e,i,n,r=function(t){var e={},i=[],n=[];return t.eachRawSeries((function(t){var r=t.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)i.push(t);else{var o=r.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else i.push(t)}})),{seriesGroupByCategoryAxis:e,other:i,meta:n}}(t);return{value:R([(i=r.seriesGroupByCategoryAxis,n=[],L(i,(function(t,e){var i=t.categoryAxis,r=t.valueAxis.dim,o=[" "].concat(E(t.series,(function(t){return t.name}))),a=[i.model.getCategories()];L(t.series,(function(t){var e=t.getRawData();a.push(t.getRawData().mapArray(e.mapDimension(r),(function(t){return t})))}));for(var s=[o.join("\t")],l=0;l<a[0].length;l++){for(var u=[],h=0;h<a.length;h++)u.push(a[h][l]);s.push(u.join("\t"))}n.push(s.join("\n"))})),n.join("\n\n"+s_+"\n\n")),(e=r.other,E(e,(function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,r=arguments[t-1],o=e.getName(r),a=0;a<t-1;a++)n[a]=arguments[a];i.push((o?o+"\t":"")+n.join("\t"))})),i.join("\n")})).join("\n\n"+s_+"\n\n"))],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+s_+"\n\n"),meta:r.meta}}(t);if("function"==typeof u){var d=u(e.getOption());"string"==typeof d?s.innerHTML=d:X(d)&&s.appendChild(d)}else s.appendChild(l),l.readOnly=n.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=n.get("textColor"),l.style.borderColor=n.get("textareaBorderColor"),l.style.backgroundColor=n.get("textareaColor"),l.value=c.value;var p=c.meta,f=document.createElement("div");f.style.cssText="position:absolute;bottom:0;left:0;right:0;";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),v=document.createElement("div");g+=";background-color:"+n.get("buttonColor"),g+=";color:"+n.get("buttonTextColor");var y=this;function _(){i.removeChild(r),y._dom=null}qt(m,"click",_),qt(v,"click",(function(){if(null==h&&null!=u||null!=h&&null==u)_();else{var t;try{t="function"==typeof h?h(s,e.getOption()):h_(l.value,p)}catch(t){throw _(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),_()}})),m.innerHTML=a[1],v.innerHTML=a[2],v.style.cssText=g,m.style.cssText=g,!n.get("readOnly")&&f.appendChild(v),f.appendChild(m),r.appendChild(o),r.appendChild(s),r.appendChild(f),s.style.height=i.clientHeight-80+"px",i.appendChild(r),this._dom=r},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocale(["toolbox","dataView","title"]),lang:t.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(Yy);function d_(t,e){return E(t,(function(t,i){var n=e&&e[i];if(Y(n)&&!F(n)){Y(t)&&!F(t)||(t={value:t});var r=null!=n.name&&null==t.name;return t=M(t,n),r&&delete t.name,t}return t}))}Ug({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var i=[];L(t.newOption.series,(function(t){var n=e.getSeriesByName(t.name)[0];if(n){var r=n.get("data");i.push({name:t.name,data:d_(t.data,r)})}else i.push(D({type:"scatter"},t))})),e.mergeOption(M({series:i},t.newOption))}));var p_=c_,f_=L,g_=Wn();function m_(t){var e=g_(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var v_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onclick=function(t,e){!function(t){g_(t).snapshots=null}(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocale(["toolbox","restore","title"])}},e}(Yy);Ug({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var y_=v_,__="\0_ec_interaction_mutex";function b_(t,e){return!!x_(t)[e]}function x_(t){return t[__]||(t[__]={})}Ug({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){}));var w_=Math.min,S_=Math.max,C_=Math.pow,k_={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},T_={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},D_={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},M_=0,I_=function(t){function e(e){var i=t.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=e,i.group=new hn,i._uid="brushController_"+M_++,L(ib,(function(t,e){this._handlers[e]=B(t,this)}),i),i}return a(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||function(t,e,i){x_(t)[e]=i}(e,"globalPan",this._uid),L(this._handlers,(function(t,i){e.on(i,t)})),this._brushType=t.brushType,this._brushOption=T(k(D_),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;!function(t,e,i){var n=x_(t);n[e]===i&&(n[e]=null)}(t,"globalPan",this._uid),L(this._handlers,(function(e,i){t.off(i,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};L(t,(function(t){e[t.panelId]=k(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=E(t,(function(t){return T(k(D_),t,!0)}));var e=this._covers,i=this._covers=[],n=this,r=this._creatingCover;return new Jy(e,t,(function(t,e){return o(t.__brushOption,e)}),o).add(a).update(a).remove((function(t){e[t]!==r&&n.group.remove(e[t])})).execute(),this;function o(t,e){return(null!=t.id?t.id:"\0-brush-index-"+e)+"-"+t.brushType}function a(o,a){var s=t[o];if(null!=a&&e[a]===r)i[o]=e[a];else{var l=i[o]=null!=a?(e[a].__brushOption=s,e[a]):P_(n,A_(n,s));E_(n,l)}}},e.prototype.unmount=function(){return this.enableBrush(!1),B_(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(At);function A_(t,e){var i=rb[e.brushType].createCover(t,e);return i.__brushOption=e,L_(i,e),t.group.add(i),i}function P_(t,e){var i=N_(e);return i.endCreating&&(i.endCreating(t,e),L_(e,e.__brushOption)),e}function O_(t,e){var i=e.__brushOption;N_(e).updateCoverShape(t,e,i.range,i)}function L_(t,e){var i=e.z;null==i&&(i=1e4),t.traverse((function(t){t.z=i,t.z2=i}))}function E_(t,e){N_(e).updateCommon(t,e),O_(t,e)}function N_(t){return rb[t.__brushOption.brushType]}function R_(t,e,i){var n,r=t._panels;if(!r)return!0;var o=t._transform;return L(r,(function(t){t.isTargetByCursor(e,i,o)&&(n=t)})),n}function z_(t,e){var i=t._panels;if(!i)return!0;var n=e.__brushOption.panelId;return null==n||i[n]}function B_(t){var e=t._covers,i=e.length;return L(e,(function(e){t.group.remove(e)}),t),e.length=0,!!i}function H_(t,e){var i=E(t._covers,(function(t){var e=t.__brushOption,i=k(e.range);return{brushType:e.brushType,panelId:e.panelId,range:i}}));t.trigger("brush",{areas:i,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function F_(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function W_(t,e,i,n){var r=new hn;return r.add(new da({name:"main",style:$_(i),silent:!0,draggable:!0,cursor:"move",drift:H(G_,t,e,r,["n","s","w","e"]),ondragend:H(H_,e,{isEnd:!0})})),L(n,(function(i){r.add(new da({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:H(G_,t,e,r,i),ondragend:H(H_,e,{isEnd:!0})}))})),r}function V_(t,e,i,n){var r=n.brushStyle.lineWidth||0,o=S_(r,6),a=i[0][0],s=i[1][0],l=a-r/2,u=s-r/2,h=i[0][1],c=i[1][1],d=h-o+r/2,p=c-o+r/2,f=h-a,g=c-s,m=f+r,v=g+r;q_(t,e,"main",a,s,f,g),n.transformable&&(q_(t,e,"w",l,u,o,v),q_(t,e,"e",d,u,o,v),q_(t,e,"n",l,u,m,o),q_(t,e,"s",l,p,m,o),q_(t,e,"nw",l,u,o,o),q_(t,e,"ne",d,u,o,o),q_(t,e,"sw",l,p,o,o),q_(t,e,"se",d,p,o,o))}function j_(t,e){var i=e.__brushOption,n=i.transformable,r=e.childAt(0);r.useStyle($_(i)),r.attr({silent:!n,cursor:n?"move":"default"}),L([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(i){var r=e.childOfName(i.join("")),o=1===i.length?U_(t,i[0]):function(t,e){var i=[U_(t,e[0]),U_(t,e[1])];return("e"===i[0]||"w"===i[0])&&i.reverse(),i.join("")}(t,i);r&&r.attr({silent:!n,invisible:!n,cursor:n?T_[o]+"-resize":null})}))}function q_(t,e,i,n,r,o,a){var s,l,u,h,c,d=e.childOfName(i);d&&d.setShape((s=K_(t,e,[[n,r],[n+o,r+a]]),l=w_(s[0][0],s[1][0]),u=w_(s[0][1],s[1][1]),h=S_(s[0][0],s[1][0]),c=S_(s[0][1],s[1][1]),{x:l,y:u,width:h-l,height:c-u}))}function $_(t){return M({strokeNoScale:!0},t.brushStyle)}function Y_(t,e,i,n){var r=[w_(t,i),w_(e,n)],o=[S_(t,i),S_(e,n)];return[[r[0],o[0]],[r[1],o[1]]]}function U_(t,e){return{left:"w",right:"e",top:"n",bottom:"s"}[$l({w:"left",e:"right",n:"top",s:"bottom"}[e],function(t){return jl(t.group)}(t))]}function G_(t,e,i,n,r,o){var a=i.__brushOption,s=t.toRectRange(a.range),l=Z_(e,r,o);L(n,(function(t){var e=k_[t];s[e[0]][e[1]]+=l[e[0]]})),a.range=t.fromRectRange(Y_(s[0][0],s[1][0],s[0][1],s[1][1])),E_(e,i),H_(e,{isEnd:!1})}function X_(t,e,i,n){var r=e.__brushOption.range,o=Z_(t,i,n);L(r,(function(t){t[0]+=o[0],t[1]+=o[1]})),E_(t,e),H_(t,{isEnd:!1})}function Z_(t,e,i){var n=t.group,r=n.transformCoordToLocal(e,i),o=n.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function K_(t,e,i){var n=z_(t,e);return n&&!0!==n?n.clipPath(i,t._transform):k(i)}function Q_(t){var e=t.event;e.preventDefault&&e.preventDefault()}function J_(t,e,i){return t.childOfName("main").contain(e,i)}function tb(t,e,i,n){var r,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(i.slice()),function(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],r=i[0]-n[0],o=i[1]-n[1];return C_(r*r+o*o,.5)>6}(t)||o){if(a&&!o){"single"===s.brushMode&&B_(t);var l=k(s);l.brushType=eb(l.brushType,a),l.panelId=!0===a?null:a.panelId,o=t._creatingCover=A_(t,l),t._covers.push(o)}if(o){var u=rb[eb(t._brushType,a)];o.__brushOption.range=u.getCreatingRange(K_(t,o,t._track)),n&&(P_(t,o),u.updateCommon(t,o)),O_(t,o),r={isEnd:n}}}else n&&"single"===s.brushMode&&s.removeOnClick&&R_(t,e,i)&&B_(t)&&(r={isEnd:n,removeOnClick:!0});return r}function eb(t,e){return"auto"===t?e.defaultBrushType:t}var ib={mousedown:function(t){if(this._dragging)nb(this,t);else if(!t.target||!t.target.draggable){Q_(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=R_(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,i=t.offsetY,n=this.group.transformCoordToLocal(e,i);if(function(t,e,i){if(t._brushType&&!function(t,e,i){var n=t._zr;return e<0||e>n.getWidth()||i<0||i>n.getHeight()}(t,e.offsetX,e.offsetY)){var n=t._zr,r=t._covers,o=R_(t,e,i);if(!t._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(!0===o||s.panelId===o.panelId)&&rb[s.brushType].contain(r[a],i[0],i[1]))return}o&&n.setCursorStyle("crosshair")}}(this,t,n),this._dragging){Q_(t);var r=tb(this,t,n,!1);r&&H_(this,r)}},mouseup:function(t){nb(this,t)}};function nb(t,e){if(t._dragging){Q_(e);var i=e.offsetX,n=e.offsetY,r=t.group.transformCoordToLocal(i,n),o=tb(t,e,r,!0);t._dragging=!1,t._track=[],t._creatingCover=null,o&&H_(t,o)}}var rb={lineX:ob(0),lineY:ob(1),rect:{createCover:function(t,e){function i(t){return t}return W_({toRectRange:i,fromRectRange:i},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=F_(t);return Y_(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,n){V_(t,e,i,n)},updateCommon:j_,contain:J_},polygon:{createCover:function(t,e){var i=new hn;return i.add(new Zs({name:"main",style:$_(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Us({name:"main",draggable:!0,drift:H(X_,t,e),ondragend:H(H_,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,n){e.childAt(0).setShape({points:K_(t,e,i)})},updateCommon:j_,contain:J_}};function ob(t){return{createCover:function(e,i){return W_({toRectRange:function(e){var i=[e,[0,100]];return t&&i.reverse(),i},fromRectRange:function(e){return e[t]}},e,i,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var i=F_(e);return[w_(i[0][t],i[1][t]),S_(i[0][t],i[1][t])]},updateCoverShape:function(e,i,n,r){var o,a=z_(e,i);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[n,o];t&&l.reverse(),V_(e,i,l,r)},updateCommon:j_,contain:J_}}var ab=I_,sb={axisPointer:1,tooltip:1,brush:1};function lb(t,e,i){var n=e.getComponentByElement(t.topTarget),r=n&&n.coordinateSystem;return n&&n!==i&&!sb.hasOwnProperty(n.mainType)&&r&&r.model!==i}function ub(t){return t=db(t),function(e){return Gl(e,t)}}function hb(t,e){return t=db(t),function(i){var n=null!=e?e:i,r=n?t.width:t.height,o=n?t.x:t.y;return[o,o+(r||0)]}}function cb(t,e,i){var n=db(t);return function(t,r){return n.contain(r[0],r[1])&&!lb(t,e,i)}}function db(t){return ui.create(t)}var pb=["dataToPoint","pointToData"],fb=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],gb=function(){function t(t,e,i){var n=this;this._targetInfoList=[];var r=vb(e,t);L(yb,(function(t,e){(!i||!i.include||A(i.include,e)>=0)&&t(r,n._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=xb[t.brushType](0,i,e);t.__rangeOffset={offset:Sb[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,i){L(t,(function(t){var n=this.findTargetInfo(t,e);n&&!0!==n&&L(n.coordSyses,(function(n){var r=xb[t.brushType](1,n,t.range);i(t,r.values,n,e)}))}),this)},t.prototype.setInputRanges=function(t,e){L(t,(function(t){var i,n,r,o,a,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var l=xb[t.brushType](0,s.coordSys,t.coordRange),u=t.__rangeOffset;t.range=u?Sb[t.brushType](l.values,u.offset,(i=l.xyMinMax,n=u.xyMinMax,r=kb(i),o=kb(n),a=[r[0]/o[0],r[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}}),this)},t.prototype.makePanelOpts=function(t,e){return E(this._targetInfoList,(function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e?e(i):null,clipPath:ub(n),isTargetByCursor:cb(n,t,i.coordSysModel),getLinearBrushOtherExtent:hb(n)}}))},t.prototype.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return!0===n||n&&A(n.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=vb(e,t),r=0;r<i.length;r++){var o=i[r],a=t.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<_b.length;s++)if(_b[s](n,o))return o}return!0},t}();function mb(t){return t[0]>t[1]&&t.reverse(),t}function vb(t,e){return jn(t,e,{includeMainTypes:fb})}var yb={grid:function(t,e){var i=t.xAxisModels,n=t.yAxisModels,r=t.gridModels,o=st(),a={},s={};(i||n||r)&&(L(i,(function(t){var e=t.axis.grid.model;o.set(e.id,e),a[e.id]=!0})),L(n,(function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0})),L(r,(function(t){o.set(t.id,t),a[t.id]=!0,s[t.id]=!0})),o.each((function(t){var r=t.coordinateSystem,o=[];L(r.getCartesians(),(function(t,e){(A(i,t.getAxis("x").model)>=0||A(n,t.getAxis("y").model)>=0)&&o.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:bb.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){L(t.geoModels,(function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:bb.geo})}))}},_b=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,r=t.gridModel;return!r&&i&&(r=i.axis.grid.model),!r&&n&&(r=n.axis.grid.model),r&&r===e.gridModel},function(t,e){var i=t.geoModel;return i&&i===e.geoModel}],bb={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(jl(t)),e}},xb={lineX:H(wb,0),lineY:H(wb,1),rect:function(t,e,i){var n=e[pb[t]]([i[0][0],i[1][0]]),r=e[pb[t]]([i[0][1],i[1][1]]),o=[mb([n[0],r[0]]),mb([n[1],r[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,i){var n=[[1/0,-1/0],[1/0,-1/0]];return{values:E(i,(function(i){var r=e[pb[t]](i);return n[0][0]=Math.min(n[0][0],r[0]),n[1][0]=Math.min(n[1][0],r[1]),n[0][1]=Math.max(n[0][1],r[0]),n[1][1]=Math.max(n[1][1],r[1]),r})),xyMinMax:n}}};function wb(t,e,i,n){var r=i.getAxis(["x","y"][t]),o=mb(E([0,1],(function(t){return e?r.coordToData(r.toLocalCoord(n[t])):r.toGlobalCoord(r.dataToCoord(n[t]))}))),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}var Sb={lineX:H(Cb,0),lineY:H(Cb,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,e,i){return E(t,(function(t,n){return[t[0]-i[0]*e[n][0],t[1]-i[1]*e[n][1]]}))}};function Cb(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]]}function kb(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var Tb,Db,Mb=gb,Ib=L,Ab="\0_ec_\0"+"toolbox-dataZoom_",Pb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(t,e,i,n){this._brushController||(this._brushController=new ab(i.getZr()),this._brushController.on("brush",B(this._onBrush,this)).mount()),function(t,e,i,n,r){var o=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(o="dataZoomSelect"===n.key&&n.dataZoomSelectActive);i._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new Mb(Lb(t),e,{include:["grid"]}).makePanelOpts(r,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));i._brushController.setPanels(a).enableBrush(!(!o||!a.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,n,i),function(t,e){t.setIconStatus("back",function(t){return m_(t).length}(e)>1?"emphasis":"normal")}(t,e)},e.prototype.onclick=function(t,e,i){Ob[i].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var i={},n=this.ecModel;this._brushController.updateCovers([]),new Mb(Lb(this.model),n,{include:["grid"]}).matchOutputRanges(e,n,(function(t,e,i){if("cartesian2d"===i.type){var n=t.brushType;"rect"===n?(r("x",i,e[0]),r("y",i,e[1])):r({lineX:"x",lineY:"y"}[n],i,e)}})),function(t,e){var i=m_(t);f_(e,(function(e,n){for(var r=i.length-1;r>=0;r--){if(i[r][n])break}if(r<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(o){var a=o.getPercentRange();i[0][n]={dataZoomId:n,start:a[0],end:a[1]}}}})),i.push(e)}(n,i),this._dispatchZoomAction(i)}function r(t,e,r){var o=e.getAxis(t),a=o.model,s=function(t,e,i){var n;return i.eachComponent({mainType:"dataZoom",subType:"select"},(function(i){i.getAxisModel(t,e.componentIndex)&&(n=i)})),n}(t,a,n),l=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(r=Ry(0,r.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(i[s.id]={dataZoomId:s.id,startValue:r[0],endValue:r[1]})}},e.prototype._dispatchZoomAction=function(t){var e=[];Ib(t,(function(t,i){e.push(k(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(Yy),Ob={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=m_(t),i=e[e.length-1];e.length>1&&e.pop();var n={};return f_(i,(function(t,i){for(var r=e.length-1;r>=0;r--)if(t=e[r][i]){n[i]=t;break}})),n}(this.ecModel))}};function Lb(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}Tb="dataZoom",Db=function(t){var e=t.getComponent("toolbox",0);if(e){var i=e.getModel(["feature","dataZoom"]),n=[],r=jn(t,Lb(i));return Ib(r.xAxisModels,(function(t){return o(t,"xAxis","xAxisIndex")})),Ib(r.yAxisModels,(function(t){return o(t,"yAxis","yAxisIndex")})),n}function o(t,e,r){var o=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:Ab+e+o};a[r]=o,n.push(a)}},it(null==Rh.get(Tb)&&Db),Rh.set(Tb,Db);var Eb=Pb;function Nb(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var i=t.getCategoriesData(),n=t.getGraph().data,r=i.mapArray(i.getName);n.filterSelf((function(t){var i=n.getItemModel(t).getShallow("category");if(null!=i){"number"==typeof i&&(i=r[i]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(i))return!1}return!0}))}))}function Rb(t){var e={};t.eachSeriesByType("graph",(function(t){var i=t.getCategoriesData(),n=t.getData(),r={};i.each((function(n){var o=i.getName(n);r["ec-"+o]=n;var a=i.getItemModel(n),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(o,e)),i.setItemVisual(n,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var h=a.getShallow(l[u],!0);null!=h&&i.setItemVisual(n,l[u],h)}})),i.count()&&n.each((function(t){var e=n.getItemModel(t).getShallow("category");if(null!=e){"string"==typeof e&&(e=r["ec-"+e]);var o=i.getItemVisual(e,"style");D(n.ensureUniqueItemVisual(t,"style"),o);for(var a=["symbol","symbolSize","symbolKeepAspect"],s=0;s<a.length;s++)n.setItemVisual(t,a[s],i.getItemVisual(e,a[s]))}}))}))}function zb(t){return t instanceof Array||(t=[t,t]),t}function Bb(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),i=t.getEdgeData(),n=zb(t.get("edgeSymbol")),r=zb(t.get("edgeSymbolSize"));i.setVisual("fromSymbol",n&&n[0]),i.setVisual("toSymbol",n&&n[1]),i.setVisual("fromSymbolSize",r&&r[0]),i.setVisual("toSymbolSize",r&&r[1]),i.setVisual("style",t.getModel("lineStyle").getLineStyle()),i.each((function(t){var n=i.getItemModel(t),r=e.getEdgeByIndex(t),o=zb(n.getShallow("symbol",!0)),a=zb(n.getShallow("symbolSize",!0)),s=n.getModel("lineStyle").getLineStyle(),l=i.ensureUniqueItemVisual(t,"style");switch(D(l,s),l.stroke){case"source":var u=r.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":u=r.node2.getVisual("style");l.stroke=u&&u.fill}o[0]&&r.setVisual("fromSymbol",o[0]),o[1]&&r.setVisual("toSymbol",o[1]),a[0]&&r.setVisual("fromSymbolSize",a[0]),a[1]&&r.setVisual("toSymbolSize",a[1])}))}))}var Hb=function(t){return t.get("autoCurveness")||null},Fb=function(t,e){var i=Hb(t),n=20,r=[];if("number"==typeof i)n=i;else if(F(i))return void(t.__curvenessList=i);e>n&&(n=e);var o=n%2?n+2:n+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=r},Wb=function(t,e,i){var n=[t.id,t.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[i.uid,n,r].join("--\x3e")},Vb=function(t){var e=t.split("--\x3e");return[e[0],e[2],e[1]].join("--\x3e")},jb=function(t,e){var i=e.__edgeMap;return i[t]?i[t].length:0};function qb(t,e,i,n){var r=Hb(e),o=F(r);if(!r)return null;var a=function(t,e){var i=Wb(t.node1,t.node2,e);return e.__edgeMap[i]}(t,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===i){s=l;break}var u=function(t,e){return jb(Wb(t.node1,t.node2,e),e)+jb(Wb(t.node2,t.node1,e),e)}(t,e);Fb(e,u),t.lineStyle=t.lineStyle||{};var h=Wb(t.node1,t.node2,e),c=e.__curvenessList,d=o||u%2?0:1;if(a.isForward)return c[d+s];var p=Vb(h),f=jb(p,e),g=c[s+f+d];return n?o?r&&0===r[0]?(f+d)%2?g:-g:((f%2?0:1)+d)%2?g:-g:(f+d)%2?g:-g:c[s+f+d]}function $b(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),Yb(i,t)}}function Yb(t,e){t.eachEdge((function(t,i){var n=J(t.getModel().get(["lineStyle","curveness"]),-qb(t,e,i,!0),0),r=pt(t.node1.getLayout()),o=pt(t.node2.getLayout()),a=[r,o];+n&&a.push([(r[0]+o[0])/2-(r[1]-o[1])*n,(r[1]+o[1])/2-(o[0]-r[0])*n]),t.setLayout(a)}))}function Ub(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var n=t.getData(),r=[];L(i.dimensions,(function(t){r=r.concat(n.mapDimensionsAll(t))}));for(var o=0;o<n.count();o++){for(var a=[],s=!1,l=0;l<r.length;l++){var u=n.get(r[l],o);isNaN(u)||(s=!0),a.push(u)}s?n.setItemLayout(o,i.dataToPoint(a)):n.setItemLayout(o,[NaN,NaN])}Yb(n.graph,t)}else e&&"none"!==e||$b(t)}))}function Gb(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=t.option.nodeScaleRatio,n=e.scaleX;return((e.getZoom()-1)*i+1)/n}function Xb(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var Zb=Math.PI,Kb=[];function Qb(t,e){var i=t.coordinateSystem;if(!i||"view"===i.type){var n=i.getBoundingRect(),r=t.getData(),o=r.graph,a=n.width/2+n.x,s=n.height/2+n.y,l=Math.min(n.width,n.height)/2,u=r.count();r.setLayout({cx:a,cy:s}),u&&(Jb[e](t,o,r,l,a,s,u),o.eachEdge((function(e,i){var n,r=J(e.getModel().get(["lineStyle","curveness"]),qb(e,t,i),0),o=pt(e.node1.getLayout()),l=pt(e.node2.getLayout()),u=(o[0]+l[0])/2,h=(o[1]+l[1])/2;+r&&(n=[a*(r*=3)+u*(1-r),s*r+h*(1-r)]),e.setLayout([o,l,n])})))}}var Jb={value:function(t,e,i,n,r,o,a){var s=0,l=i.getSum("value"),u=2*Math.PI/(l||a);e.eachNode((function(t){var e=t.getValue("value"),i=u*(l?e:1)/2;s+=i,t.setLayout([n*Math.cos(s)+r,n*Math.sin(s)+o]),s+=i}))},symbolSize:function(t,e,i,n,r,o,a){var s=0;Kb.length=a;var l=Gb(t);e.eachNode((function(t){var e=Xb(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var i=Math.asin(e/2/n);isNaN(i)&&(i=Zb/2),Kb[t.dataIndex]=i,s+=2*i}));var u=(2*Zb-s)/a/2,h=0;e.eachNode((function(t){var e=u+Kb[t.dataIndex];h+=e,t.setLayout([n*Math.cos(h)+r,n*Math.sin(h)+o]),h+=e}))}};function tx(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&Qb(t,"symbolSize")}))}var ex=gt;function ix(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},n=t.getGraph(),r=n.data,o=n.edgeData,a=t.getModel("force"),s=a.get("initLayout");t.preservedPoints?r.each((function(t){var e=r.getId(t);r.setItemLayout(t,i[e]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&Qb(t,"value"):$b(t);var l=r.getDataExtent("value"),u=o.getDataExtent("value"),h=a.get("repulsion"),c=a.get("edgeLength"),d=F(h)?h:[h,h],p=F(c)?c:[c,c];p=[p[1],p[0]];var f=r.mapArray("value",(function(t,e){var i=r.getItemLayout(e),n=mn(t,l,d);return isNaN(n)&&(n=(d[0]+d[1])/2),{w:n,rep:n,fixed:r.getItemModel(e).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}})),g=o.mapArray("value",(function(e,i){var r=n.getEdgeByIndex(i),o=mn(e,u,p);isNaN(o)&&(o=(p[0]+p[1])/2);var a=r.getModel(),s=J(r.getModel().get(["lineStyle","curveness"]),-qb(r,t,i,!0),0);return{n1:f[r.node1.dataIndex],n2:f[r.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}})),m=e.getBoundingRect(),v=function(t,e,i){for(var n=t,r=e,o=i.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],u=null==i.gravity?.1:i.gravity,h=0;h<n.length;h++){var c=n[h];c.p||(c.p=ct(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=pt(c.p),c.edges=null}var d,p,f=null==i.friction?.6:i.friction,g=f;return{warmUp:function(){g=.8*f},setFixed:function(t){n[t].fixed=!0},setUnfixed:function(t){n[t].fixed=!1},beforeStep:function(t){d=t},afterStep:function(t){p=t},step:function(t){d&&d(n,r);for(var e,i,o,a=[],s=n.length,h=0;h<r.length;h++){var c=r[h];if(!c.ignoreForceLayout){var f=c.n1;mt(a,(_=c.n2).p,f.p);var m=vt(a)-c.d,v=_.w/(f.w+_.w);isNaN(v)&&(v=0),bt(a,a),!f.fixed&&ex(f.p,f.p,a,v*m*g),!_.fixed&&ex(_.p,_.p,a,-(1-v)*m*g)}}for(h=0;h<s;h++){(w=n[h]).fixed||(mt(a,l,w.p),ex(w.p,w.p,a,u*g))}for(h=0;h<s;h++){f=n[h];for(var y=h+1;y<s;y++){var _;mt(a,(_=n[y]).p,f.p),0===(m=vt(a))&&(e=a,i=Math.random()-.5,o=Math.random()-.5,e[0]=i,e[1]=o,m=1);var b=(f.rep+_.rep)/m/m;!f.fixed&&ex(f.pp,f.pp,a,b),!_.fixed&&ex(_.pp,_.pp,a,-b)}}var x=[];for(h=0;h<s;h++){var w;(w=n[h]).fixed||(mt(x,w.p,w.pp),ex(w.p,w.p,x,g),dt(w.pp,w.p))}var S=(g*=.992)<.01;p&&p(n,r,S),t&&t(S)}}}(f,g,{rect:m,gravity:a.get("gravity"),friction:a.get("friction")});v.beforeStep((function(t,e){for(var i=0,r=t.length;i<r;i++)t[i].fixed&&dt(t[i].p,n.getNodeByIndex(i).getLayout())})),v.afterStep((function(t,e,o){for(var a=0,s=t.length;a<s;a++)t[a].fixed||n.getNodeByIndex(a).setLayout(t[a].p),i[r.getId(a)]=t[a].p;for(a=0,s=e.length;a<s;a++){var l=e[a],u=n.getEdgeByIndex(a),h=l.n1.p,c=l.n2.p,d=u.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],dt(d[0],h),dt(d[1],c),+l.curveness&&(d[2]=[(h[0]+c[0])/2-(h[1]-c[1])*l.curveness,(h[1]+c[1])/2-(c[0]-h[0])*l.curveness]),u.setLayout(d)}})),t.forceLayout=v,t.preservedPoints=i,v.step()}else t.forceLayout=null}))}var nx=kt;function rx(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var ox=function(t){function e(e){var i=t.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new me,i._rawTransformable=new me,i.name=e,i}return a(e,t),e.prototype.setBoundingRect=function(t,e,i,n){return this._rect=new ui(t,e,i,n),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new ui(t,e,i,n)},e.prototype.transformTo=function(t,e,i,n){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new ui(t,e,i,n)),o.decomposeTransform(),this._updateTransform()},e.prototype.setCenter=function(t){t&&(this._center=t,this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),r=this.getZoom();n=kt([],n,t),i=kt([],i,t),e.originX=n[0],e.originY=n[1],e.x=i[0]-n[0],e.y=i[1]-n[1],e.scaleX=e.scaleY=r,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),oe(this.transform||(this.transform=[]),e.transform||[1,0,0,1,0,0]),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],ue(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._roamTransformable.transform,e=this._rawTransformable;return{roamTransform:t?tt(t):[1,0,0,1,0,0],rawScaleX:e.scaleX,rawScaleY:e.scaleY,rawX:e.x,rawY:e.y}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,i){var n=e?this._rawTransform:this.transform;return i=i||[],n?nx(i,t,n):dt(i,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?nx([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,i){var n=rx(e);return n===this?n.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,e,i){var n=rx(e);return n===this?n.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(me);function ax(t,e){var i=[];return t.eachSeriesByType("graph",(function(t){var n=t.get("coordinateSystem");if(!n||"view"===n){var r=t.getData(),o=[],a=[];!function(t,e,i){if(0!==t.length){for(var n=t[0],r=n[0],o=n[0],a=n[1],s=n[1],l=1;l<t.length;l++)n=t[l],r=Kr(r,n[0]),o=Qr(o,n[0]),a=Kr(a,n[1]),s=Qr(s,n[1]);e[0]=r,e[1]=a,i[0]=o,i[1]=s}}(r.mapArray((function(t){var e=r.getItemModel(t);return[+e.get("x"),+e.get("y")]})),o,a),a[0]-o[0]==0&&(a[0]+=1,o[0]-=1),a[1]-o[1]==0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),l=function(t,e,i){return vh(D(t.getBoxLayoutParams(),{aspect:i}),{width:e.getWidth(),height:e.getHeight()})}(t,e,s);isNaN(s)&&(o=[l.x,l.y],a=[l.x+l.width,l.y+l.height]);var u=a[0]-o[0],h=a[1]-o[1],c=l.width,d=l.height,p=t.coordinateSystem=new ox;p.zoomLimit=t.get("scaleLimit"),p.setBoundingRect(o[0],o[1],u,h),p.setViewRect(l.x,l.y,c,d),p.setCenter(t.get("center")),p.setZoom(t.get("zoom")),i.push(p)}})),i}function sx(t,e){this.parent.drift(t,e)}var lx=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.updateData(e,i,n,r),o}return a(e,t),e.prototype._createSymbol=function(t,e,i,n,r){this.removeAll();var o=Sf(t,-1,-1,2,2,null,r);o.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),o.drift=sx,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){qa(this.childAt(0))},e.prototype.downplay=function(){$a(this.childAt(0))},e.prototype.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},e.prototype.updateData=function(t,i,n,r){this.silent=!1;var o=t.getItemVisual(i,"symbol")||"circle",a=t.hostModel,s=e.getSymbolSize(t,i),l=o!==this._symbolType,u=r&&r.disableAnimation;if(l){var h=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(o,t,i,s,h)}else{(d=this.childAt(0)).silent=!1;var c={scaleX:s[0]/2,scaleY:s[1]/2};u?d.attr(c):zl(d,c,a,i)}if(this._updateCommon(t,i,s,n,r),l){var d=this.childAt(0);if(!u){c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Bl(d,c,a,i)}}u&&this.childAt(0).stopAnimation("remove"),this._seriesModel=a},e.prototype._updateCommon=function(t,e,i,n,r){var o,a,s,l,u,h,c,d,p,f=this.childAt(0),g=t.hostModel;if(n&&(o=n.emphasisItemStyle,a=n.blurItemStyle,s=n.selectItemStyle,l=n.focus,u=n.blurScope,h=n.symbolOffset,c=n.labelStatesModels,d=n.hoverScale,p=n.cursorStyle),!n||t.hasItemOption){var m=n&&n.itemModel?n.itemModel:t.getItemModel(e),v=m.getModel("emphasis");o=v.getModel("itemStyle").getItemStyle(),s=m.getModel(["select","itemStyle"]).getItemStyle(),a=m.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),u=v.get("blurScope"),h=m.getShallow("symbolOffset"),c=ru(m),d=v.getShallow("scale"),p=m.getShallow("cursor")}var y=t.getItemVisual(e,"symbolRotate");f.attr("rotation",(y||0)*Math.PI/180||0),h&&(f.x=vn(h[0],i[0]),f.y=vn(h[1],i[1])),p&&f.attr("cursor",p);var _=t.getItemVisual(e,"style"),b=_.fill;if(f instanceof ra){var x=f.style;f.useStyle(D({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},_))}else f.__isEmptyBrush?f.useStyle(D({},_)):f.useStyle(_),f.style.decal=null,f.setColor(b,r&&r.symbolInnerColor),f.style.strokeNoScale=!0;var w=t.getItemVisual(e,"liftZ"),S=this._z2;null!=w?null==S&&(this._z2=f.z2,f.z2+=w):null!=S&&(f.z2=S,this._z2=null);var C=r&&r.useNameLabel;nu(f,c,{labelFetcher:g,labelDataIndex:e,defaultText:function(e){return C?t.getName(e):function(t,e){var i=t.mapDimensionsAll("defaultedLabel"),n=i.length;if(1===n){var r=$c(t,e,i[0]);return null!=r?r+"":null}if(n){for(var o=[],a=0;a<i.length;a++)o.push($c(t,e,i[a]));return o.join(" ")}}(t,e)},inheritColor:b,defaultOpacity:_.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var k=f.ensureState("emphasis");if(k.style=o,f.ensureState("select").style=s,f.ensureState("blur").style=a,d){var T=Math.max(1.1,3/this._sizeY);k.scaleX=this._sizeX*T,k.scaleY=this._sizeY*T}this.setSymbolScale(1),Ja(this,l,u)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e){var i=this.childAt(0),n=this._seriesModel,r=Ca(this).dataIndex,o=e&&e.animation;if(this.silent=i.silent=!0,e&&e.fadeLabel){var a=i.getTextContent();a&&Hl(a,{style:{opacity:0}},n,{dataIndex:r,removeOpt:o,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Hl(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:r,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){var i=t.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]},e}(hn);function ux(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function hx(t){return null==t||Y(t)||(t={isIgnore:t}),t||{}}function cx(t){var e=t.hostModel,i=e.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverScale:i.get("scale"),labelStatesModels:ru(e),cursorStyle:e.get("cursor")}}var dx=function(){function t(t){this.group=new hn,this._SymbolCtor=t||lx}return t.prototype.updateData=function(t,e){e=hx(e);var i=this.group,n=t.hostModel,r=this._data,o=this._SymbolCtor,a=e.disableAnimation,s=cx(t),l={disableAnimation:a},u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};r||i.removeAll(),t.diff(r).add((function(n){var r=u(n);if(ux(t,r,n,e)){var a=new o(t,n,s,l);a.setPosition(r),t.setItemGraphicEl(n,a),i.add(a)}})).update((function(h,c){var d=r.getItemGraphicEl(c),p=u(h);if(ux(t,p,h,e)){if(d){d.updateData(t,h,s,l);var f={x:p[0],y:p[1]};a?d.attr(f):zl(d,f,n)}else(d=new o(t,h)).setPosition(p);i.add(d),t.setItemGraphicEl(h,d)}else i.remove(d)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut((function(){i.remove(e)}))})).execute(),this._getSymbolPoint=u,this._data=t},t.prototype.isPersistent=function(){return!0},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,i){var n=t._getSymbolPoint(i);e.setPosition(n),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=cx(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}i=hx(i);for(var r=t.start;r<t.end;r++){var o=e.getItemLayout(r);if(ux(e,o,r,i)){var a=new this._SymbolCtor(e,r,this._seriesScope);a.traverse(n),a.setPosition(o),this.group.add(a),e.setItemGraphicEl(r,a)}}},t.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()},t}(),px=tl.prototype,fx=ol.prototype,gx=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}a(e,t)}(gx);function mx(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var vx=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-line",i}return a(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gx},e.prototype.buildPath=function(t,e){mx(e)?px.buildPath.call(this,t,e):fx.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return mx(this.shape)?px.pointAt.call(this,t):fx.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,i=mx(e)?[e.x2-e.x1,e.y2-e.y1]:fx.tangentAt.call(this,t);return bt(i,i)},e}(Ko),yx=["fromSymbol","toSymbol"];function _x(t){return"_"+t+"Type"}function bx(t,e,i){var n=e.getItemVisual(i,t);if(n&&"none"!==n){var r=e.getItemVisual(i,t+"Size"),o=e.getItemVisual(i,t+"Rotate"),a=F(r)?r:[r,r],s=Sf(n,-a[0]/2,-a[1]/2,a[0],a[1]);return s.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,s.name=t,s}}function xx(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var i=e[2];i?(t.cpx1=i[0],t.cpy1=i[1]):(t.cpx1=NaN,t.cpy1=NaN)}var Sx=function(t){function e(e,i,n){var r=t.call(this)||this;return r._createLine(e,i,n),r}return a(e,t),e.prototype._createLine=function(t,e,i){var n=t.hostModel,r=function(t){var e=new vx({name:"line",subPixelOptimize:!0});return xx(e.shape,t),e}(t.getItemLayout(e));r.shape.percent=0,Bl(r,{shape:{percent:1}},n,e),this.add(r),L(yx,(function(i){var n=bx(i,t,e);this.add(n),this[_x(i)]=t.getItemVisual(e,i)}),this),this._updateCommonStl(t,e,i)},e.prototype.updateData=function(t,e,i){var n=t.hostModel,r=this.childOfName("line"),o=t.getItemLayout(e),a={shape:{}};xx(a.shape,o),zl(r,a,n,e),L(yx,(function(i){var n=t.getItemVisual(e,i),r=_x(i);if(this[r]!==n){this.remove(this.childOfName(i));var o=bx(i,t,e);this.add(o)}this[r]=n}),this),this._updateCommonStl(t,e,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,i){var n=t.hostModel,r=this.childOfName("line"),o=i&&i.emphasisLineStyle,a=i&&i.blurLineStyle,s=i&&i.selectLineStyle,l=i&&i.labelStatesModels;if(!i||t.hasItemOption){var u=t.getItemModel(e);o=u.getModel(["emphasis","lineStyle"]).getLineStyle(),a=u.getModel(["blur","lineStyle"]).getLineStyle(),s=u.getModel(["select","lineStyle"]).getLineStyle(),l=ru(u)}var h=t.getItemVisual(e,"style"),c=h.stroke;r.useStyle(h),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,r.ensureState("blur").style=a,r.ensureState("select").style=s,L(yx,(function(t){var e=this.childOfName(t);if(e){e.setColor(c),e.style.opacity=h.opacity;for(var i=0;i<Ma.length;i++){var n=Ma[i],o=r.getState(n);if(o){var a=o.style||{},s=e.ensureState(n),l=s.style||(s.style={});null!=a.stroke&&(l[e.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}e.markRedraw()}}),this);var d=n.getRawValue(e);nu(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,i){return n.getFormattedLabel(e,i,t.dataType)}},inheritColor:c||"#000",defaultOpacity:h.opacity,defaultText:(null==d?t.getName(e):isFinite(d)?yn(d):d)+""});var p=this.getTextContent();if(p){var f=l.normal;p.__align=p.style.align,p.__verticalAlign=p.style.verticalAlign,p.__position=f.get("position")||"middle";var g=f.get("distance");F(g)||(g=[g,g]),p.__labelDistance=g}this.setTextConfig({position:null,local:!0,inside:!1}),Ja(this)},e.prototype.highlight=function(){qa(this)},e.prototype.downplay=function(){$a(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");xx(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),i=this.getTextContent();if(t||e||i&&!i.ignore){for(var n=1,r=this.parent;r;)r.scaleX&&(n/=r.scaleX),r=r.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var a=o.shape.percent,s=o.pointAt(0),l=o.pointAt(a),u=mt([],l,s);if(bt(u,u),t&&(t.setPosition(s),w(t,0),t.scaleX=t.scaleY=n*a,t.markRedraw()),e&&(e.setPosition(l),w(e,1),e.scaleX=e.scaleY=n*a,e.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var h=void 0,c=void 0,d=i.__labelDistance,p=d[0]*n,f=d[1]*n,g=a/2,m=o.tangentAt(g),v=[m[1],-m[0]],y=o.pointAt(g);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]);var _=m[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var b=-Math.atan2(m[1],m[0]);l[0]<s[0]&&(b=Math.PI+b),i.rotation=b}var x=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":x=-f,c="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":x=f,c="top";break;default:x=0,c="middle"}switch(i.__position){case"end":i.x=u[0]*p+l[0],i.y=u[1]*f+l[1],h=u[0]>.8?"left":u[0]<-.8?"right":"center",c=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";break;case"start":i.x=-u[0]*p+s[0],i.y=-u[1]*f+s[1],h=u[0]>.8?"right":u[0]<-.8?"left":"center",c=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=p*_+s[0],i.y=s[1]+x,h=m[0]<0?"right":"left",i.originX=-p*_,i.originY=-x;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=y[0],i.y=y[1]+x,h="center",i.originY=-x;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-p*_+l[0],i.y=l[1]+x,h=m[0]>=0?"right":"left",i.originX=p*_,i.originY=-x}i.scaleX=i.scaleY=n,i.setStyle({verticalAlign:i.__verticalAlign||c,align:i.__align||h})}}}function w(t,e){var i=t.__specifiedRotation;if(null==i){var n=o.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))}else t.attr("rotation",i)}},e}(hn);function Cx(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:ru(e)}}function kx(t){return isNaN(t[0])||isNaN(t[1])}function Tx(t){return!kx(t[0])&&!kx(t[1])}var Dx=function(){function t(t){this.group=new hn,this._LineCtor=t||Sx}return t.prototype.isPersistent=function(){return!0},t.prototype.updateData=function(t){var e=this,i=this.group,n=this._lineData;this._lineData=t,n||i.removeAll();var r=Cx(t);t.diff(n).add((function(i){e._doAdd(t,i,r)})).update((function(i,o){e._doUpdate(n,t,o,i,r)})).remove((function(t){i.remove(n.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,i){e.updateLayout(t,i)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Cx(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function i(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var n=t.start;n<t.end;n++){if(Tx(e.getItemLayout(n))){var r=new this._LineCtor(e,n,this._seriesScope);r.traverse(i),this.group.add(r),e.setItemGraphicEl(n,r)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype._doAdd=function(t,e,i){if(Tx(t.getItemLayout(e))){var n=new this._LineCtor(t,e,i);t.setItemGraphicEl(e,n),this.group.add(n)}},t.prototype._doUpdate=function(t,e,i,n,r){var o=t.getItemGraphicEl(i);Tx(e.getItemLayout(n))?(o?o.updateData(e,n,r):o=new this._LineCtor(e,n,r),e.setItemGraphicEl(n,o),this.group.add(o)):this.group.remove(o)},t}();function Mx(t,e,i,n,r){t.pointerChecker&&t.pointerChecker(n,r.originX,r.originY)&&($t(n.event),Ix(t,e,i,n,r))}function Ix(t,e,i,n,r){r.isAvailableBehavior=B(Ax,null,i,n),t.trigger(e,r)}function Ax(t,e,i){var n=i[t];return!t||n&&(!V(n)||e.event[n+"Key"])}var Px=function(t){function e(e){var i=t.call(this)||this;i._zr=e;var n=B(i._mousedownHandler,i),r=B(i._mousemoveHandler,i),o=B(i._mouseupHandler,i),a=B(i._mousewheelHandler,i),s=B(i._pinchHandler,i);return i.enable=function(t,i){this.disable(),this._opt=M(k(i)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",r),e.on("mouseup",o)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",a),e.on("pinch",s))},i.disable=function(){e.off("mousedown",n),e.off("mousemove",r),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},i}return a(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(Yt(t)||t.target&&t.target.draggable)){var e=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,i)&&(this._x=e,this._y=i,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&Ax("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!b_(this._zr,"globalPan")){var e=t.offsetX,i=t.offsetY,n=this._x,r=this._y,o=e-n,a=i-r;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&$t(t.event),Ix(this,"pan","moveOnMouseMove",t,{dx:o,dy:a,oldX:n,oldY:r,newX:e,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){Yt(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=Ax("zoomOnMouseWheel",t,this._opt),i=Ax("moveOnMouseWheel",t,this._opt),n=t.wheelDelta,r=Math.abs(n),o=t.offsetX,a=t.offsetY;if(0!==n&&(e||i)){if(e){var s=r>3?1.4:r>1?1.2:1.1;Mx(this,"zoom","zoomOnMouseWheel",t,{scale:n>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(i){var l=Math.abs(n);Mx(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(n>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){b_(this._zr,"globalPan")||Mx(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(At);var Ox=[],Lx=[],Ex=[],Nx=$r,Rx=St,zx=Math.abs;function Bx(t,e,i){for(var n,r=t[0],o=t[1],a=t[2],s=1/0,l=i*i,u=.1,h=.1;h<=.9;h+=.1){Ox[0]=Nx(r[0],o[0],a[0],h),Ox[1]=Nx(r[1],o[1],a[1],h),(p=zx(Rx(Ox,e)-l))<s&&(s=p,n=h)}for(var c=0;c<32;c++){var d=n+u;Lx[0]=Nx(r[0],o[0],a[0],n),Lx[1]=Nx(r[1],o[1],a[1],n),Ex[0]=Nx(r[0],o[0],a[0],d),Ex[1]=Nx(r[1],o[1],a[1],d);var p=Rx(Lx,e)-l;if(zx(p)<.01)break;var f=Rx(Ex,e)-l;u/=2,p<0?f>=0?n+=u:n-=u:f>=0?n-=u:n+=u}return n}function Hx(t,e){var i=[],n=Gr,r=[[],[],[]],o=[[],[]],a=[];e/=2,t.eachEdge((function(t,s){var l=t.getLayout(),u=t.getVisual("fromSymbol"),h=t.getVisual("toSymbol");l.__original||(l.__original=[pt(l[0]),pt(l[1])],l[2]&&l.__original.push(pt(l[2])));var c=l.__original;if(null!=l[2]){if(dt(r[0],c[0]),dt(r[1],c[2]),dt(r[2],c[1]),u&&"none"!==u){var d=Xb(t.node1),p=Bx(r,c[0],d*e);n(r[0][0],r[1][0],r[2][0],p,i),r[0][0]=i[3],r[1][0]=i[4],n(r[0][1],r[1][1],r[2][1],p,i),r[0][1]=i[3],r[1][1]=i[4]}if(h&&"none"!==h){d=Xb(t.node2),p=Bx(r,c[1],d*e);n(r[0][0],r[1][0],r[2][0],p,i),r[1][0]=i[1],r[2][0]=i[2],n(r[0][1],r[1][1],r[2][1],p,i),r[1][1]=i[1],r[2][1]=i[2]}dt(l[0],r[0]),dt(l[1],r[2]),dt(l[2],r[1])}else{if(dt(o[0],c[0]),dt(o[1],c[1]),mt(a,o[1],o[0]),bt(a,a),u&&"none"!==u){d=Xb(t.node1);gt(o[0],o[0],a,d*e)}if(h&&"none"!==h){d=Xb(t.node2);gt(o[1],o[1],a,-d*e)}dt(l[0],o[0]),dt(l[1],o[1])}}))}function Fx(t){return"view"===t.type}var Wx=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return a(e,t),e.prototype.init=function(t,e){var i=new dx,n=new Dx,r=this.group;this._controller=new Px(e.getZr()),this._controllerHost={target:r},r.add(i.group),r.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},e.prototype.render=function(t,e,i){var n=this,r=t.coordinateSystem;this._model=t;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if(Fx(r)){var l={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?s.attr(l):zl(s,l,t)}Hx(t.getGraph(),Gb(t));var u=t.getData();o.updateData(u);var h=t.getEdgeData();a.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,i),clearTimeout(this._layoutTimeout);var c=t.forceLayout,d=t.get(["force","layoutAnimation"]);c&&this._startForceLayoutIteration(c,d),u.graph.eachNode((function(t){var e=t.dataIndex,i=t.getGraphicEl(),r=t.getModel();i.off("drag").off("dragend");var o=r.get("draggable");o&&i.on("drag",(function(){c&&(c.warmUp(),!n._layouting&&n._startForceLayoutIteration(c,d),c.setFixed(e),u.setItemLayout(e,[i.x,i.y]))})).on("dragend",(function(){c&&c.setUnfixed(e)})),i.setDraggable(o&&!!c),"adjacency"===r.get(["emphasis","focus"])&&(Ca(i).focus=t.getAdjacentDataIndices())})),u.graph.eachEdge((function(t){var e=t.getGraphicEl();"adjacency"===t.getModel().get(["emphasis","focus"])&&(Ca(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var p="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),f=u.getLayout("cx"),g=u.getLayout("cy");u.eachItemGraphicEl((function(t,e){var i=u.getItemModel(e).get(["label","rotate"])||0,n=t.getSymbolPath();if(p){var r=u.getItemLayout(e),o=Math.atan2(r[1]-g,r[0]-f);o<0&&(o=2*Math.PI+o);var a=r[0]<f;a&&(o-=Math.PI);var s=a?"left":"right";n.setTextConfig({rotation:-o,position:s,origin:"center"});var l=n.ensureState("emphasis");D(l.textConfig||(l.textConfig={}),{position:s})}else n.setTextConfig({rotation:i*=Math.PI/180})})),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var i=this;!function n(){t.step((function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())}))}()},e.prototype._updateController=function(t,e,i){var n=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker((function(e,n,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(n,r)&&!lb(e,i,t)})),Fx(t.coordinateSystem)?(r.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(e){!function(t,e,i){var n=t.target;n.x+=e,n.y+=i,n.dirty()}(o,e.dx,e.dy),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){!function(t,e,i,n){var r=t.target,o=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/t.zoom;t.zoom=a,r.x-=(i-r.x)*(u-1),r.y-=(n-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}(o,e.scale,e.originX,e.originY),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),n._updateNodeAndLinkScale(),Hx(t.getGraph(),Gb(t)),n._lineDraw.updateLayout(),i.updateLabelLayout()}))):r.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),i=Gb(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(i)}))},e.prototype.updateLayout=function(t){Hx(t.getGraph(),Gb(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Gd);function Vx(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}var jx,qx,$x,Yx,Ux,Gx,Xx,Zx,Kx,Qx,Jx,tw,ew,iw,nw=function(t){this.otherDims={},null!=t&&D(this,t)},rw=Math.floor,ow=Y,aw=E,sw={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},lw="undefined"==typeof Uint32Array?Array:Uint32Array,uw="undefined"==typeof Int32Array?Array:Int32Array,hw="undefined"==typeof Uint16Array?Array:Uint16Array,cw=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"],dw=["_extent","_approximateExtent","_rawExtent"],pw=function(){function t(t,e){this.type="list",this._count=0,this._rawCount=0,this._storage={},this._storageArr=[],this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawExtent={},this._extent={},this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!0,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"],this.getRawIndex=Ux,t=t||["x","y"];for(var i={},n=[],r={},o=0;o<t.length;o++){var a=t[o],s=V(a)?new nw({name:a}):a instanceof nw?a:new nw(a),l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0);var u=s.otherDims=s.otherDims||{};n.push(l),i[l]=s,s.index=o,s.createInvertedIndices&&(r[l]=[]),0===u.itemName&&(this._nameDimIdx=o,this._nameOrdinalMeta=s.ordinalMeta),0===u.itemId&&(this._idDimIdx=o,this._idOrdinalMeta=s.ordinalMeta)}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this._dimensionsSummary=function(t){var e={},i=e.encode={},n=st(),r=[],o=[],a=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};L(t.dimensions,(function(e){var s,l=t.getDimensionInfo(e),u=l.coordDim;if(u){0;var h=l.coordDimIndex;Vx(i,u)[h]=e,l.isExtraCoord||(n.set(u,1),"ordinal"!==(s=l.type)&&"time"!==s&&(r[0]=e),Vx(a.encode,u)[h]=l.index),l.defaultTooltip&&o.push(e)}Dh.each((function(t,e){var n=Vx(i,e),r=l.otherDims[e];null!=r&&!1!==r&&(n[r]=l.name)}))}));var s=[],l={};n.each((function(t,e){var n=i[e];l[e]=n[0],s=s.concat(n)})),e.dataDimsOnCoord=s,e.encodeFirstDimNotExtra=l;var u=i.label;u&&u.length&&(r=u.slice());var h=i.tooltip;return h&&h.length?o=h.slice():o.length||(o=r.slice()),i.defaultedLabel=r,i.defaultedTooltip=o,e}(this),this._invertedIndicesMap=r,this.userOutput=this._dimensionsSummary.userOutput}return t.prototype.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},t.prototype.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},t.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var i=this._dimensionsSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return n?n[e]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimensionsSummary.encode[t]||[]).slice()},t.prototype.initData=function(t,e,i){var n=Dc(t)||O(t)?new Ec(t,this.dimensions.length):t;this._rawData=n;var r=n.getSource().sourceFormat;this._storage={},this._indices=null,this._dontMakeIdFromName=null!=this._idDimIdx||"typedArray"===r||!!n.fillStorage,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=jx[r],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._dimValueGetterArrayRows=jx.arrayRows,this._rawExtent={},this._initDataFromProvider(0,n.count()),n.pure&&(this.hasItemOption=!1)},t.prototype.getProvider=function(){return this._rawData},t.prototype.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);var n=e.count();e.persistent||(n+=i),this._initDataFromProvider(i,n,!0)},t.prototype.appendValues=function(t,e){for(var i=this._storage,n=this.dimensions,r=n.length,o=this._rawExtent,a=this.count(),s=a+Math.max(t.length,e?e.length:0),l=0;l<r;l++){var u=n[l];o[u]||(o[u]=tw()),Yx(i,this._dimensionInfos[u],s,!0)}for(var h=aw(n,(function(t){return o[t]})),c=this._storageArr=aw(n,(function(t){return i[t]})),d=[],p=a;p<s;p++){for(var f=p-a,g=0;g<r;g++){u=n[g];var m=this._dimValueGetterArrayRows(t[f]||d,u,f,g);c[g][p]=m;var v=h[g];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}e&&(this._nameList[p]=e[f],this._dontMakeIdFromName||Kx(this,p))}this._rawCount=this._count=s,this._extent={},qx(this)},t.prototype._initDataFromProvider=function(t,e,i){if(!(t>=e)){for(var n=this._rawData,r=this._storage,o=this.dimensions,a=o.length,s=this._dimensionInfos,l=this._nameList,u=this._idList,h=this._rawExtent,c="original"===n.getSource().sourceFormat,d=0;d<a;d++){var p=o[d];h[p]||(h[p]=tw()),Yx(r,s[p],e,i)}var f=this._storageArr=aw(o,(function(t){return r[t]})),g=aw(o,(function(t){return h[t]}));if(n.fillStorage)n.fillStorage(t,e,f,g);else for(var m=[],v=t;v<e;v++){m=n.getItem(v,m);for(var y=0;y<a;y++){p=o[y];var _=f[y],b=this._dimValueGetter(m,p,v,y);_[v]=b;var x=g[y];b<x[0]&&(x[0]=b),b>x[1]&&(x[1]=b)}if(c&&!n.pure&&m){var w=m.name;null==l[v]&&null!=w&&(l[v]=zn(w,null));var S=m.id;null==u[v]&&null!=S&&(u[v]=zn(S,null))}this._dontMakeIdFromName||Kx(this,v)}!n.persistent&&n.clean&&n.clean(),this._rawCount=this._count=e,this._extent={},qx(this)}},t.prototype.count=function(){return this._count},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,n=this._count;if(i===Array){t=new i(n);for(var r=0;r<n;r++)t[r]=e[r]}else t=new i(e.buffer,0,n)}else{t=new(i=$x(this))(this.count());for(r=0;r<t.length;r++)t[r]=r}return t},t.prototype.getByDimIdx=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._storageArr[t];return i?i[this.getRawIndex(e)]:NaN},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._storage[t];return i?i[this.getRawIndex(e)]:NaN},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._storage[t];return i?i[e]:NaN},t.prototype.getValues=function(t,e){var i=[];F(t)||(e=t,t=this.dimensions);for(var n=0,r=t.length;n<r;n++)i.push(this.get(t[n],e));return i},t.prototype.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=0,n=e.length;i<n;i++)if(isNaN(this.get(e[i],t)))return!1;return!0},t.prototype.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],i=tw();if(!e)return i;var n,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var o=(n=i)[0],a=n[1],s=0;s<r;s++){var l=e[this.getRawIndex(s)];l<o&&(o=l),l>a&&(a=l)}return n=[o,a],this._extent[t]=n,n},t.prototype.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){ow(t)?D(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getSum=function(t){var e=0;if(this._storage[t])for(var i=0,n=this.count();i<n;i++){var r=this.get(t,i);isNaN(r)||(e+=r)}return e},t.prototype.getMedian=function(t){var e=[];this.each(t,(function(t){isNaN(t)||e.push(t)}));var i=e.sort((function(t,e){return t-e})),n=this.count();return 0===n?0:n%2==1?i[(n-1)/2]:(i[n/2]+i[n/2-1])/2},t.prototype.rawIndexOf=function(t,e){var i=(t&&this._invertedIndicesMap[t])[e];return null==i||isNaN(i)?-1:i},t.prototype.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var n=0,r=this._count-1;n<=r;){var o=(n+r)/2|0;if(e[o]<t)n=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,i){var n=this._storage[t],r=[];if(!n)return r;null==i&&(i=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var h=e-n[this.getRawIndex(l)],c=Math.abs(h);c<=i&&((c<o||c===o&&h>=0&&a<0)&&(o=c,a=h,s=0),h===a&&(r[s++]=l))}return r.length=s,r},t.prototype.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},t.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return null==i&&null!=this._nameDimIdx&&(i=Zx(this,this._nameDimIdx,this._nameOrdinalMeta,e)),null==i&&(i=""),i},t.prototype.getId=function(t){return Xx(this,this.getRawIndex(t))},t.prototype.each=function(t,e,i,n){var r=this;if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]);var o=i||n||this,a=aw(Qx(t),this.getDimension,this);0;for(var s=a.length,l=aw(a,(function(t){return r._dimensionInfos[t].index})),u=this._storageArr,h=0,c=this.count();h<c;h++){var d=this.getRawIndex(h);switch(s){case 0:e.call(o,h);break;case 1:e.call(o,u[l[0]][d],h);break;case 2:e.call(o,u[l[0]][d],u[l[1]][d],h);break;default:for(var p=0,f=[];p<s;p++)f[p]=u[l[p]][d];f[p]=h,e.apply(o,f)}}}},t.prototype.filterSelf=function(t,e,i,n){var r=this;if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]);var o=i||n||this,a=aw(Qx(t),this.getDimension,this);0;for(var s=this.count(),l=new($x(this))(s),u=[],h=a.length,c=0,d=aw(a,(function(t){return r._dimensionInfos[t].index})),p=d[0],f=this._storageArr,g=0;g<s;g++){var m=void 0,v=this.getRawIndex(g);if(0===h)m=e.call(o,g);else if(1===h){var y=f[p][v];m=e.call(o,y,g)}else{for(var _=0;_<h;_++)u[_]=f[d[_]][v];u[_]=g,m=e.apply(o,u)}m&&(l[c++]=v)}return c<s&&(this._indices=l),this._count=c,this._extent={},this.getRawIndex=this._indices?Gx:Ux,this}},t.prototype.selectRange=function(t){var e=this,i=this._count;if(i){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);0;var o=n.length;if(o){var a=this.count(),s=new($x(this))(a),l=0,u=n[0],h=aw(n,(function(t){return e._dimensionInfos[t].index})),c=t[u][0],d=t[u][1],p=this._storageArr,f=!1;if(!this._indices){var g=0;if(1===o){for(var m=p[h[0]],v=0;v<i;v++){((x=m[v])>=c&&x<=d||isNaN(x))&&(s[l++]=g),g++}f=!0}else if(2===o){m=p[h[0]];var y=p[h[1]],_=t[n[1]][0],b=t[n[1]][1];for(v=0;v<i;v++){var x=m[v],w=y[v];(x>=c&&x<=d||isNaN(x))&&(w>=_&&w<=b||isNaN(w))&&(s[l++]=g),g++}f=!0}}if(!f)if(1===o)for(v=0;v<a;v++){var S=this.getRawIndex(v);((x=p[h[0]][S])>=c&&x<=d||isNaN(x))&&(s[l++]=S)}else for(v=0;v<a;v++){for(var C=!0,k=(S=this.getRawIndex(v),0);k<o;k++){var T=n[k];((x=p[h[k]][S])<t[T][0]||x>t[T][1])&&(C=!1)}C&&(s[l++]=this.getRawIndex(v))}return l<a&&(this._indices=s),this._count=l,this._extent={},this.getRawIndex=this._indices?Gx:Ux,this}}},t.prototype.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;var r=[];return this.each(t,(function(){r.push(e&&e.apply(this,arguments))}),i),r},t.prototype.map=function(t,e,i,n){var r=i||n||this,o=aw(Qx(t),this.getDimension,this);var a=Jx(this,o),s=a._storage;a._indices=this._indices,a.getRawIndex=a._indices?Gx:Ux;for(var l=[],u=o.length,h=this.count(),c=[],d=a._rawExtent,p=0;p<h;p++){for(var f=0;f<u;f++)c[f]=this.get(o[f],p);c[u]=p;var g=e&&e.apply(r,c);if(null!=g){"object"!=typeof g&&(l[0]=g,g=l);for(var m=this.getRawIndex(p),v=0;v<g.length;v++){var y=o[v],_=g[v],b=d[y],x=s[y];x&&(x[m]=_),_<b[0]&&(b[0]=_),_>b[1]&&(b[1]=_)}}}return a},t.prototype.downSample=function(t,e,i,n){for(var r=Jx(this,[t]),o=r._storage,a=[],s=rw(1/e),l=o[t],u=this.count(),h=r._rawExtent[t],c=new($x(this))(u),d=0,p=0;p<u;p+=s){s>u-p&&(s=u-p,a.length=s);for(var f=0;f<s;f++){var g=this.getRawIndex(p+f);a[f]=l[g]}var m=i(a),v=this.getRawIndex(Math.min(p+n(a,m)||0,u-1));l[v]=m,m<h[0]&&(h[0]=m),m>h[1]&&(h[1]=m),c[d++]=v}return r._count=d,r._indices=c,r.getRawIndex=Gx,r},t.prototype.lttbDownSample=function(t,e){var i,n,r,o=Jx(this,[]),a=o._storage[t],s=this.count(),l=new($x(this))(s),u=0,h=rw(1/e),c=this.getRawIndex(0);l[u++]=c;for(var d=1;d<s-1;d+=h){for(var p=Math.min(d+h,s-1),f=Math.min(d+2*h,s),g=(f+p)/2,m=0,v=p;v<f;v++){var y=a[S=this.getRawIndex(v)];isNaN(y)||(m+=y)}m/=f-p;var _=d,b=Math.min(d+h,s),x=d-1,w=a[c];i=-1,r=_;for(v=_;v<b;v++){var S;y=a[S=this.getRawIndex(v)];isNaN(y)||(n=Math.abs((x-g)*(y-w)-(x-v)*(m-w)))>i&&(i=n,r=S)}l[u++]=r,c=r}return l[u++]=this.getRawIndex(s-1),o._count=u,o._indices=l,o.getRawIndex=Gx,o},t.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new ku(i,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new Jy(t?t.getIndices():[],this.getIndices(),(function(e){return Xx(t,e)}),(function(t){return Xx(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},ow(t)?D(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t],n=i&&i[e];return null==n?this.getVisual(e):n},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,n=i[t];n||(n=i[t]={});var r=n[e];return null==r&&(F(r=this.getVisual(e))?r=r.slice():ow(r)&&(r=D({},r)),n[e]=r),r},t.prototype.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};this._itemVisuals[t]=n,ow(e)?D(n,e):n[e]=i},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){if(ow(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?D(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var i=this.hostModel;if(e){var n=Ca(e);n.dataIndex=t,n.dataType=this.dataType,n.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(ew,e)}this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){L(this._graphicEls,(function(i,n){i&&t&&t.call(e,i,n)}))},t.prototype.cloneShallow=function(e){e||(e=new t(aw(this.dimensions,this.getDimensionInfo,this),this.hostModel));if(e._storage=this._storage,e._storageArr=this._storageArr,iw(e,this),this._indices){var i=this._indices.constructor;if(i===Array){var n=this._indices.length;e._indices=new i(n);for(var r=0;r<n;r++)e._indices[r]=this._indices[r]}else e._indices=new i(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?Gx:Ux,e},t.prototype.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(tt(arguments)))})},t.internalField=function(){function e(t,e,i,n){return Jc(t[n],this._dimensionInfos[e])}jx={arrayRows:e,objectRows:function(t,e,i,n){return Jc(t[e],this._dimensionInfos[e])},keyedColumns:e,original:function(t,e,i,n){var r=t&&(null==t.value?t:t.value);return!this._rawData.pure&&function(t){return Y(t)&&!(t instanceof Array)}(t)&&(this.hasItemOption=!0),Jc(r instanceof Array?r[n]:r,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}},qx=function(t){var e=t._invertedIndicesMap;L(e,(function(i,n){var r=t._dimensionInfos[n].ordinalMeta;if(r){i=e[n]=new uw(r.categories.length);for(var o=0;o<i.length;o++)i[o]=-1;for(o=0;o<t._count;o++)i[t.get(n,o)]=o}}))},Zx=function(t,e,i,n){var r,o=t._storageArr[e];return o&&(r=o[n],i&&i.categories.length&&(r=i.categories[r])),zn(r,null)},$x=function(t){return t._rawCount>65535?lw:hw},Yx=function(t,e,i,n){var r=sw[e.type],o=e.name;if(n){var a=t[o],s=a&&a.length;if(s!==i){for(var l=new r(i),u=0;u<s;u++)l[u]=a[u];t[o]=l}}else t[o]=new r(i)},Ux=function(t){return t},Gx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},Xx=function(t,e){var i=t._idList[e];return null==i&&null!=t._idDimIdx&&(i=Zx(t,t._idDimIdx,t._idOrdinalMeta,e)),null==i&&(i="e\0\0"+e),i},Qx=function(t){return F(t)||(t=null!=t?[t]:[]),t},function(t,e){for(var i=0;i<e.length;i++)t._dimensionInfos[e[i]]||console.error("Unkown dimension "+e[i])},Jx=function(e,i){var n=e.dimensions,r=new t(aw(n,e.getDimensionInfo,e),e.hostModel);iw(r,e);for(var o,a,s=r._storage={},l=e._storage,u=r._storageArr=[],h=0;h<n.length;h++){var c=n[h];l[c]&&(A(i,c)>=0?(s[c]=(o=l[c],a=void 0,(a=o.constructor)===Array?o.slice():new a(o)),r._rawExtent[c]=tw(),r._extent[c]=null):s[c]=l[c],u.push(s[c]))}return r},tw=function(){return[1/0,-1/0]},ew=function(t){var e=Ca(t),i=Ca(this);e.seriesIndex=i.seriesIndex,e.dataIndex=i.dataIndex,e.dataType=i.dataType},iw=function(t,e){L(cw.concat(e.__wrappedMethods||[]),(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t.__wrappedMethods=e.__wrappedMethods,L(dw,(function(i){t[i]=k(e[i])})),t._calculationInfo=D({},e._calculationInfo)},Kx=function(t,e){var i=t._nameList,n=t._idList,r=t._nameDimIdx,o=t._idDimIdx,a=i[e],s=n[e];if(null==a&&null!=r&&(i[e]=a=Zx(t,r,t._nameOrdinalMeta,e)),null==s&&null!=o&&(n[e]=s=Zx(t,o,t._idOrdinalMeta,e)),null==s&&null!=a){var l=t._nameRepeatCount,u=l[a]=(l[a]||0)+1;s=a,u>1&&(s+="__ec__"+u),n[e]=s}}}(),t}();function fw(t){return"_EC_"+t}var gw=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var i=this._nodesMap;if(!i[fw(t)]){var n=new mw(t,e);return n.hostGraph=this,this.nodes.push(n),i[fw(t)]=n,n}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[fw(t)]},t.prototype.addEdge=function(t,e,i){var n=this._nodesMap,r=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof mw||(t=n[fw(t)]),e instanceof mw||(e=n[fw(e)]),t&&e){var o=t.id+"-"+e.id,a=new vw(t,e,i);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),r[o]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof mw&&(t=t.id),e instanceof mw&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var i=this.nodes,n=i.length,r=0;r<n;r++)i[r].dataIndex>=0&&t.call(e,i[r],r)},t.prototype.eachEdge=function(t,e){for(var i=this.edges,n=i.length,r=0;r<n;r++)i[r].dataIndex>=0&&i[r].node1.dataIndex>=0&&i[r].node2.dataIndex>=0&&t.call(e,i[r],r)},t.prototype.breadthFirstTraverse=function(t,e,i,n){if(e instanceof mw||(e=this._nodesMap[fw(e)]),e){for(var r="out"===i?"outEdges":"in"===i?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(n,e,null))for(var a=[e];a.length;){var s=a.shift(),l=s[r];for(o=0;o<l.length;o++){var u=l[o],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(n,h,s))return;a.push(h),h.__visited=!0}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)i[t.getRawIndex(r)].dataIndex=r;e.filterSelf((function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0}));for(r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)n[e.getRawIndex(r)].dataIndex=r},t.prototype.clone=function(){for(var e=new t(this._directed),i=this.nodes,n=this.edges,r=0;r<i.length;r++)e.addNode(i[r].id,i[r].dataIndex);for(r=0;r<n.length;r++){var o=n[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),mw=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var i=this.edges[e];i.dataIndex<0||(t.edge.push(i.dataIndex),t.node.push(i.node1.dataIndex,i.node2.dataIndex))}return t},t}(),vw=function(){function t(t,e,i){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function yw(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i){return this[t][e].getItemVisual(this.dataIndex,i)},setLayout:function(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}P(mw,yw("hostGraph","data")),P(vw,yw("hostGraph","edgeData"));var _w=gw,bw=Wn();function xw(t,e){if(bw(n=this).mainData===n){var i=D({},bw(this).datas);i[this.dataType]=e,Tw(e,i,t)}else Dw(e,this.dataType,bw(this).mainData,t);var n;return e}function ww(t,e){return t.struct&&t.struct.update(),e}function Sw(t,e){return L(bw(e).datas,(function(i,n){i!==e&&Dw(i.cloneShallow(),n,e,t)})),e}function Cw(t){var e=bw(this).mainData;return null==t||null==e?e:bw(e).datas[t]}function kw(){var t=bw(this).mainData;return null==t?[{data:t}]:E(z(bw(t).datas),(function(e){return{type:e,data:bw(t).datas[e]}}))}function Tw(t,e,i){bw(t).datas={},L(e,(function(e,n){Dw(e,n,t,i)}))}function Dw(t,e,i,n){bw(i).datas[e]=t,bw(t).mainData=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=Cw,t.getLinkedDataAll=kw}var Mw=function(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,Tw(e,i,t),L(i,(function(i){L(e.TRANSFERABLE_METHODS,(function(e){i.wrapMethod(e,H(xw,t))}))})),e.wrapMethod("cloneShallow",H(Sw,t)),L(e.CHANGABLE_METHODS,(function(i){e.wrapMethod(i,H(ww,t))})),it(i[e.dataType]===e)};function Iw(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}var Aw=function(t,e,i){Dc(e)||(e=Ic(e)),i=i||{},t=(t||[]).slice();for(var n=(i.dimsDef||[]).slice(),r=st(),o=st(),a=[],s=function(t,e,i,n){var r=Math.max(t.dimensionsDetectedCount||1,e.length,i.length,n||0);return L(e,(function(t){var e;Y(t)&&(e=t.dimsDef)&&(r=Math.max(r,e.length))})),r}(e,t,n,i.dimCount),l=0;l<s;l++){var u=n[l],h=n[l]=D({},Y(u)?u:{name:u}),c=h.name,d=a[l]=new nw;null!=c&&null==r.get(c)&&(d.name=d.displayName=c,r.set(c,l)),null!=h.type&&(d.type=h.type),null!=h.displayName&&(d.displayName=h.displayName)}var p=i.encodeDef;!p&&i.encodeDefaulter&&(p=i.encodeDefaulter(e,s));var f=st(p);f.each((function(t,e){var i=An(t).slice();if(1===i.length&&!V(i[0])&&i[0]<0)f.set(e,!1);else{var n=f.set(e,[]);L(i,(function(t,i){var o=V(t)?r.get(t):t;null!=o&&o<s&&(n[i]=o,m(a[o],e,i))}))}}));var g=0;function m(t,e,i){null!=Dh.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,o.set(e,!0))}L(t,(function(t){var e,i,n,r;if(V(t))e=t,r={};else{e=(r=t).name;var o=r.ordinalMeta;r.ordinalMeta=null,(r=k(r)).ordinalMeta=o,i=r.dimsDef,n=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var s=f.get(e);if(!1!==s){if(!(s=An(s)).length)for(var l=0;l<(i&&i.length||1);l++){for(;g<a.length&&null!=a[g].coordDim;)g++;g<a.length&&s.push(g++)}L(s,(function(t,o){var s=a[t];if(m(M(s,r),e,o),null==s.name&&i){var l=i[o];!Y(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}n&&M(s.otherDims,n)}))}}));var v=i.generateCoord,y=i.generateCoordCount,_=null!=y;y=v?y||1:0;for(var b=v||"value",x=0;x<s;x++){null==(d=a[x]=a[x]||new nw).coordDim&&(d.coordDim=Iw(b,o,_),d.coordDimIndex=0,(!v||y<=0)&&(d.isExtraCoord=!0),y--),null==d.name&&(d.name=Iw(d.coordDim,r,!1)),null!=d.type||Eh(e,x)!==Mh&&(!d.isExtraCoord||null==d.otherDims.itemName&&null==d.otherDims.seriesName)||(d.type="ordinal")}return a};function Pw(t,e){return Aw((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}var Ow=function(t){this.coordSysDims=[],this.axisMap=st(),this.categoryAxisMap=st(),this.coordSysName=t};var Lw={cartesian2d:function(t,e,i,n){var r=t.getReferringComponents("xAxis",qn).models[0],o=t.getReferringComponents("yAxis",qn).models[0];e.coordSysDims=["x","y"],i.set("x",r),i.set("y",o),Ew(r)&&(n.set("x",r),e.firstCategoryDimIndex=0),Ew(o)&&(n.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,i,n){var r=t.getReferringComponents("singleAxis",qn).models[0];e.coordSysDims=["single"],i.set("single",r),Ew(r)&&(n.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var r=t.getReferringComponents("polar",qn).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",o),i.set("angle",a),Ew(o)&&(n.set("radius",o),e.firstCategoryDimIndex=0),Ew(a)&&(n.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,i,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,i,n){var r=t.ecModel,o=r.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();L(o.parallelAxisIndex,(function(t,o){var s=r.getComponent("parallelAxis",t),l=a[o];i.set(l,s),Ew(s)&&(n.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=o))}))}};function Ew(t){return"category"===t.get("type")}var Nw=function(t,e,i){i=i||{},Dc(t)||(t=Ic(t));var n,r=e.get("coordinateSystem"),o=Kh.get(r),a=function(t){var e=t.get("coordinateSystem"),i=new Ow(e),n=Lw[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}(e);a&&a.coordSysDims&&(n=E(a.coordSysDims,(function(t){var e={name:t},i=a.axisMap.get(t);if(i){var n=i.get("type");e.type=function(t){return"category"===t?"ordinal":"time"===t?"time":"float"}(n)}return e}))),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]);var s,l,u=i.useEncodeDefaulter,h=Pw(t,{coordDimensions:n,generateCoord:i.generateCoord,encodeDefaulter:W(u)?u:u?H(Oh,n,e):null});a&&L(h,(function(t,e){var n=t.coordDim,r=a.categoryAxisMap.get(n);r&&(null==s&&(s=e),t.ordinalMeta=r.getOrdinalMeta(),i.createInvertedIndices&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(l=!0)})),l||null==s||(h[s].otherDims.itemName=0);var c=function(t,e,i){var n,r,o,a,s=(i=i||{}).byIndex,l=i.stackedCoordDimension,u=!(!t||!t.get("stack"));if(L(e,(function(t,i){V(t)&&(e[i]=t={name:t}),u&&!t.isExtraCoord&&(s||n||!t.ordinalMeta||(n=t),r||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(r=t))})),!r||s||n||(s=!0),r){o="__\0ecstackresult",a="__\0ecstackedover",n&&(n.createInvertedIndices=!0);var h=r.coordDim,c=r.type,d=0;L(e,(function(t){t.coordDim===h&&d++})),e.push({name:o,coordDim:h,coordDimIndex:d,type:c,isExtraCoord:!0,isCalculationCoord:!0}),d++,e.push({name:a,coordDim:a,coordDimIndex:d,type:c,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:r&&r.name,stackedByDimension:n&&n.name,isStackedByIndex:s,stackedOverDimension:a,stackResultDimension:o}}(e,h),d=new pw(h,e);d.setCalculationInfo(c);var p=null!=s&&function(t){if("original"===t.sourceFormat){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!F(Ln(e))}}(t)?function(t,e,i,n){return n===s?i:this.defaultDimValueGetter(t,e,i,n)}:null;return d.hasItemOption=!1,d.initData(t,null,p),d};var Rw=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),zw=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return a(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var i=this;function n(){return i._categoriesData}this.legendVisualProvider=new Rw(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Pn(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var i,n=t.edges||t.links||[],r=t.data||t.nodes||[],o=this;if(r&&n){Hb(i=this)&&(i.__curvenessList=[],i.__edgeMap={},Fb(i));var a=function(t,e,i,n,r){for(var o=new _w(n),a=0;a<t.length;a++)o.addNode(K(t[a].id,t[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<e.length;a++){var h=e[a],c=h.source,d=h.target;o.addEdge(c,d,u)&&(l.push(h),s.push(K(zn(h.id,null),c+" > "+d)),u++)}var p,f=i.get("coordinateSystem");if("cartesian2d"===f||"polar"===f)p=Nw(t,i);else{var g=Kh.get(f),m=g&&g.dimensions||[];A(m,"value")<0&&m.concat(["value"]);var v=Pw(t,{coordDimensions:m});(p=new pw(v,i)).initData(t)}var y=new pw(["value"],i);return y.initData(l,s),r&&r(p,y),Mw({mainData:p,struct:o,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}(r,n,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var i=ku.prototype.getModel;function n(t,e){var n=i.call(this,t,e);return n.resolveParentPath=r,n}function r(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=r,t.getModel=n,t}))}));return L(a.edges,(function(t){!function(t,e,i,n){if(Hb(i)){var r=Wb(t,e,i),o=i.__edgeMap,a=o[Vb(r)];o[r]&&!a?o[r].isForward=!0:a&&o[r]&&(a.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(n)}}(t.node1,t.node2,this,t.dataIndex)}),this),a.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,i){if("edge"===i){var n=this.getData(),r=this.getDataParams(t,i),o=n.graph.getEdgeByIndex(t),a=n.getName(o.node1.dataIndex),s=n.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),md("nameValue",{name:l.join(" > "),value:r.value,noValue:null==r.value})}return kd({series:this,dataIndex:t,multipleSeries:e})},e.prototype._updateCategoriesData=function(){var t=E(this.option.categories||[],(function(t){return null!=t.value?t:D({value:0},t)})),e=new pw(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Rd);var Bw={type:"graphRoam",event:"graphRoam",update:"none"};function Hw(){return!1}function Fw(t,e,i){var n=I(),r=e.getWidth(),o=e.getHeight(),a=n.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",n.setAttribute("data-zr-dom-id",t)),n.width=r*i,n.height=o*i,n}var Ww=function(t){function e(e,i,n){var r,o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,n=n||xi,"string"==typeof e?r=Fw(e,i,n):Y(e)&&(e=(r=e).id),o.id=e,o.dom=r;var a=r.style;return a&&(r.onselectstart=Hw,a.webkitUserSelect="none",a.userSelect="none",a.webkitTapHighlightColor="rgba(0,0,0,0)",a["-webkit-touch-callout"]="none",a.padding="0",a.margin="0",a.borderWidth="0"),o.domBack=null,o.ctxBack=null,o.painter=i,o.config=null,o.dpr=n,o}return a(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Fw("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],a=this.maxRepaintRectCount,s=!1,l=new ui(0,0,0,0);function u(t){if(t.isFinite()&&!t.isZero())if(0===o.length){(e=new ui(0,0,0,0)).copy(t),o.push(e)}else{for(var e,i=!1,n=1/0,r=0,u=0;u<o.length;++u){var h=o[u];if(h.intersect(t)){var c=new ui(0,0,0,0);c.copy(h),c.union(t),o[u]=c,i=!0;break}if(s){l.copy(t),l.union(h);var d=t.width*t.height,p=h.width*h.height,f=l.width*l.height-d-p;f<n&&(n=f,r=u)}}if(s&&(o[r].union(t),i=!0),!i)(e=new ui(0,0,0,0)).copy(t),o.push(e);s||(s=o.length>=a)}}for(var h=this.__startIndex;h<this.__endIndex;++h){if(p=t[h]){var c=p.shouldBePainted(i,n,!0,!0);(f=p.__isRendered&&(p.__dirty&Ai.REDARAW_BIT||!c)?p.getPrevPaintRect():null)&&u(f);var d=c&&(p.__dirty&Ai.REDARAW_BIT||!p.__isRendered)?p.getPaintRect():null;d&&u(d)}}for(h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var p,f;c=(p=e[h]).shouldBePainted(i,n,!0,!0);if(p&&(!c||!p.__zr)&&p.__isRendered)(f=p.getPrevPaintRect())&&u(f)}do{r=!1;for(h=0;h<o.length;)if(o[h].isZero())o.splice(h,1);else{for(var g=h+1;g<o.length;)o[h].intersect(o[g])?(r=!0,o[h].union(o[g]),o.splice(g,1)):g++;h++}}while(r);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var i=this.dpr,n=this.dom,r=n.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),n.width=t*i,n.height=e*i,o&&(o.width=t*i,o.height=e*i,1!==i&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,e,i){var n=this.dom,r=this.ctx,o=n.width,a=n.height;e=e||this.clearColor;var s=this.motionBlur&&!t,l=this.lastFrameAlpha,u=this.dpr,h=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,o/u,a/u));var c=this.domBack;function d(t,i,n,o){if(r.clearRect(t,i,n,o),e&&"transparent"!==e){var a=void 0;null!=e.colorStops?(a=e.__canvasGradient||Cf(r,e,{x:0,y:0,width:n,height:o}),e.__canvasGradient=a):function(t){return null!=t.image}(e)&&(a=Pf(r,e,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}})),r.save(),r.fillStyle=a||e,r.fillRect(t,i,n,o),r.restore()}s&&(r.save(),r.globalAlpha=l,r.drawImage(c,t,i,n,o),r.restore())}!i||s?d(0,0,o,a):i.length&&L(i,(function(t){d(t.x*u,t.y*u,t.width*u,t.height*u)}))},e}(At);function Vw(t){return parseInt(t,10)}var jw=function(){function t(t,e,i,n){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=D({},i||{}),this.dpr=i.devicePixelRatio||xi,this._singleCanvas=r,this.root=t;var o=t.style;o&&(o.webkitTapHighlightColor="transparent",o.webkitUserSelect="none",o.userSelect="none",o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(r){var l=t,u=l.width,h=l.height;null!=i.width&&(u=i.width),null!=i.height&&(h=i.height),this.dpr=i.devicePixelRatio||1,l.width=u*this.dpr,l.height=h*this.dpr,this._width=u,this._height=h;var c=new Ww(l,this,this.dpr);c.__builtin__=!0,c.initContext(),s[314159]=c,c.zlevel=314159,a.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=function(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}(this._width,this._height);t.appendChild(d)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var r=0;r<n.length;r++){var o=n[r],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===r?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){for(var n,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),n||(n=i.ctx).save(),Ff(n,a,r,o===e-1))}n&&n.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(1e5)},t.prototype.paintOne=function(t,e){Hf(t,e)},t.prototype._paintList=function(t,e,i,n){if(this._redrawId===n){i=i||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e,i),o=r.finished,a=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;ji((function(){s._paintList(t,e,i,n)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer((function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)}))},t.prototype._doPaintList=function(t,e,i){for(var n=this,r=[],o=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a],l=this._layers[s];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||i)&&r.push(l)}for(var u=!0,c=!1,d=function(a){var s=r[a],l=s.ctx,h=o&&s.createRepaintRects(t,e,p._width,p._height);l.save();var d,f=i?s.__startIndex:s.__drawIndex,g=!i&&s.incremental&&Date.now,m=g&&Date.now(),v=s.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,v,h);else if(f===s.__startIndex){var y=t[f];y.incremental&&y.notClear&&!i||s.clear(!1,v,h)}-1===f&&(console.error("For some unknown reason. drawIndex is -1"),f=s.__startIndex);var _=function(e){var i={inHover:!1,allClipped:!1,prevEl:null,viewWidth:n._width,viewHeight:n._height};for(d=f;d<s.__endIndex;d++){var r=t[d];if(r.__inHover&&(c=!0),n._doPaintEl(r,s,o,e,i,d===s.__endIndex-1),g)if(Date.now()-m>15)break}i.prevElClipPaths&&l.restore()};if(h)if(0===h.length)d=s.__endIndex;else for(var b=p.dpr,x=0;x<h.length;++x){var w=h[x];l.save(),l.beginPath(),l.rect(w.x*b,w.y*b,w.width*b,w.height*b),l.clip(),_(w),l.restore()}else l.save(),_(),l.restore();s.__drawIndex=d,s.__drawIndex<s.__endIndex&&(u=!1)},p=this,f=0;f<r.length;f++)d(f);return h.wxa&&L(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:u,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,i,n,r,o){var a=e.ctx;if(i){var s=t.getPaintRect();(!n||s&&s.intersect(n))&&(Ff(a,t,r,o),t.setPrevPaintRect(s))}else Ff(a,t,r,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var i=this._layers[t];return i||((i=new Ww("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]?T(i,this._layerConfig[t],!0):this._layerConfig[t-.01]&&T(i,this._layerConfig[t-.01],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},t.prototype.insertLayer=function(t,e){var i=this._layers,n=this._zlevelList,r=n.length,o=this._domRoot,a=null,s=-1;if(i[t])C("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(r>0&&t>n[0]){for(s=0;s<r-1&&!(n[s]<t&&n[s+1]>t);s++);a=i[n[s]]}if(n.splice(s+1,0,t),i[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}else C("Layer of zlevel "+t+" is not valid")},t.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var r=i[n];t.call(e,this._layers[r],r)}},t.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var r=i[n],o=this._layers[r];o.__builtin__&&t.call(e,o,r)}},t.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var r=i[n],o=this._layers[r];o.__builtin__||t.call(e,o,r)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var i=1;i<t.length;i++){if((s=t[i]).zlevel!==t[i-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var n,r,o=null,a=0;for(r=0;r<t.length;r++){var s,l=(s=t[r]).zlevel,u=void 0;n!==l&&(n=l,a=0),s.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(l+(a>0?.01:0),this._needsManuallyCompositing),u.__builtin__||C("ZLevel "+l+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==r&&(u.__dirty=!0),u.__startIndex=r,u.incremental?u.__drawIndex=-1:u.__drawIndex=r,e(r),o=u),s.__dirty&Ai.REDARAW_BIT&&!s.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=r))}e(r),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,L(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?T(i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var r=this._zlevelList[n];if(r===t||r===t+.01)T(this._layers[r],i[t],!0)}}},t.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(A(i,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var r in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new Ww("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height;this.eachLayer((function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(i.save(),t.renderToCanvas(i),i.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,l=a.length;s<l;s++){var u=a[s];Ff(i,u,o,s===l-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||Vw(s[i])||Vw(a.style[i]))-(Vw(s[r])||0)-(Vw(s[o])||0)|0},t.prototype.pathToImage=function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),r=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,u=t.hasStroke()?o.lineWidth:0,h=Math.max(u/2,-s+a),c=Math.max(u/2,s+a),d=Math.max(u/2,-l+a),p=Math.max(u/2,l+a),f=r.width+h+c,g=r.height+d+p;i.width=f*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,f,g),n.dpr=e;var m={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=h-r.x,t.y=d-r.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Ff(n,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var v=new ra({style:{x:0,y:0,image:i}});return D(t,m),v},t}();var qw=n(2),$w=n.n(qw),Yw=n(5),Uw={insert:"head",singleton:!1},Gw=($w()(Yw.a,Uw),Yw.a.locals,n(0)),Xw=n.n(Gw),Zw={},Kw={nodes:[],all_nodes:[],links:[],category:[],all_category:[]},Qw=[],Jw=[],tS=[],eS=0;function iS(t,e,i="solid",n="gray",r=0){if(0===t.idf)var o=1;else o=t.idf;if(userColors.hasOwnProperty(t.gp))var a=userColors[t.gp];else{a=nS();userColors[t.gp]=a}Kw.nodes.push({name:e,gp:t.gp,idf:t.idf,symbolSize:30*Math.sqrt(Math.sqrt(o,3)/.8),originalSymbolSize:30*Math.sqrt(Math.sqrt(o,3)/.8),value:t.idf,symbol:"circle",itemStyle:{opacity:.9,borderType:i,borderColor:n,borderWidth:r,color:a}})}function nS(){var t=tS.length,e=[];e[0]=Math.floor(360*Math.random()),tS.length>36?(e[1]=80,e[2]=70):(e[1]=70,e[2]=50);for(var i=0;i<t;i++)i>0&&Math.abs(e[0]-tS[i][0])<8&&(e[0]=Math.floor(360*Math.random()),i=0);return e=e.map((function(t){return parseFloat(t.toFixed(2))})),tS.push(e[0]),function(t,e,i){let n,r,o;if(t/=360,i/=100,0===(e/=100))n=r=o=i;else{const a=(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t),s=i<.5?i*(1+e):i+e-i*e,l=2*i-s;n=a(l,s,t+1/3),r=a(l,s,t),o=a(l,s,t-1/3)}const a=t=>{const e=Math.round(255*t).toString(16);return 1===e.length?"0"+e:e};return`#${a(n)}${a(r)}${a(o)}`}(e[0],e[1],e[2])}!function(t){Xw.a.ajax({url:t,method:"GET",async:!1,dataType:"JSON"}).done((function(t){console.log(jdata);var e=Object.assign(jdata,t);console.log(e),jdata=t})).fail((function(t,e,i){console.log("åºç¾é¯èª¤ï¼ç¡æ³å®æ!"),console.log("Error: "+i),console.log("Status: "+e),console.dir("xhr:"+t)}))}(url),console.log(jdata);const rS=function(t){const e=new Set;t.forEach(t=>{if(Zw.hasOwnProperty(t.gp))var e=Zw[t.gp];else{e=nS();Zw[t.gp]=e}Jw.push(t.idf),0===t.idf?iS(t,t.k1,"solid","#ffb61e",3):iS(t,t.k1);var i=t.kg2[0].v;if(t.kg2.forEach(t=>{t.v>i&&(i=t.v)}),i>4096)var n=4;else if(i>256)n=3;else if(i>16)n=2;else n=1;t.kg2.forEach(i=>{if(Zw.hasOwnProperty(i.type[0]))var r=Zw[i.type[0]];else{r=nS();Zw[i.type[0]]=r}if(1===dataType&&(r="#1A75CF"),Zw.hasOwnProperty(i.gp)?e=Zw[i.gp]:(e=nS(),Zw[i.gp]=e),Jw.push(i.idf),0==i.idf?iS(i,i.k2,"solid","#ffb61e",3):iS(i,i.k2),Qw.push(i.v),0==i.v)var o="dashed";else o="solid";if("æªå®ç¾©"==i.type[0]||""==i.type[0]){if(1!==dataType){i.type[0]="æªå®ç¾©",r="black";var a=10}}else a=0;if(0===i.v)var s=1;else if(2===dataType)s=5;else s=i.v;Kw.all_category.push({id:eS++,name:i.type[0],target:t.k1,source:i.k2,value:i.v,show:!0,force:{edgeLength:1e7*Math.sqrt(s,n)},lineStyle:{opacity:1,color:r,curveness:.4,width:Math.sqrt(s,n),originalWidth:Math.sqrt(s,n),type:o,shadowColor:"orange",shadowBlur:a},label:{show:!0,color:r}}),Kw.links=Kw.all_category})}),Kw.all_category.sort((function(t,e){return t.id<e.id?-1:t.id>e.id?1:0})),console.log(Kw.all_category),Kw.nodes=Kw.nodes.filter(t=>!e.has(t.name)&&e.add(t.name)),e.clear(),Kw.nodes.forEach(t=>{Kw.all_nodes.push(t.name)}),Kw.all_category=Kw.all_category.sort((t,e)=>t.name>e.name?1:-1);const i=[.4,-.6,.2,-.4,.6,-.2,.8,-.8,1,-1,.1,-.1,.3,-.3,.5,-.5,.7,-.7,.9,-.9],n=[];return Kw.all_category.forEach(t=>{const e=n.filter(e=>e.source===t.source&&e.target===t.target);t.lineStyle.curveness=i[e.length]||Math.random(),n.push(t)}),Kw.category=Kw.all_category,Kw}(jdata);var oS=Math.max(...Qw),aS=Math.min(...Qw),sS=Math.max(...Jw),lS=Math.min(...Jw),uS={title:{show:!0,text:bookName,subtext:bookId,textStyle:{fontSize:32,fontWeight:"bolder",color:"#595759"},subtextStyle:{fontSize:15,fontWeight:"bolder"},top:"bottom",left:"right",triggerEvent:!0},tooltip:{show:!0,formatter:function(t){return"node"==t.dataType?t.name+"(<b>"+t.value+"</b>)":"edge"==t.dataType?t.data.source+" -- <b>"+t.data.name+"("+t.value+"</b>) --\x3e   "+t.data.target:void 0}},toolbox:{left:"right",show:!0,feature:{magicType:{show:!0,type:["force","chord"]},saveAsImage:{show:!0,title:"å­æåç",type:"png"},restore:{show:!0,title:"restore"}}},series:[{type:"graph",layout:"force",categories:rS.category,nodes:rS.nodes,links:rS.links,itemStyle:{color:"pink"},label:{fontFamily:"sans-serif",show:!0,fontSize:17,fontWeight:"bold",formatter:function(t){return t.name+"("+t.data.idf+")"},color:"#1212128F"},draggable:!0,roam:!0,nodeScaleRatio:.1,force:{repulsion:300,edgeLength:[250,400],gravity:.01,layoutAnimation:!0},edgeSymbol:["circle","arrow"],edgeSymbolSize:[10,arrowSize],emphasis:{focus:"adjacency",scale:!0},autoCurveness:!0,edgeLabel:{fontFamily:"sans-serif",overflow:"break",verticalAlign:"bottom",show:!0,fontSize:18,fontWeight:"bold",formatter:function(t){return t.data.name+"("+t.data.value+")"},position:"middle",align:"center",ellipsis:"...",rotate:0},lineStyle:{opacity:1},zoom:1}]},hS=[{object:"relation_strength",min:0,max:100,step:1,value:0,disable:!1,range:"min"},{object:"group_label_distance",min:0,max:100,step:1,value:0,disable:!1,range:"min"},{object:"node_distance",min:1,max:100,step:1,value:uS.series[0].force.repulsion/100,disable:!1,range:"min"},{object:"relation_link_width",min:.5,max:5,step:.5,value:1,disable:!1,range:"min"},{object:"main_screen_room",min:.1,max:2,step:.1,value:uS.series[0].zoom,disable:!1,range:"min"},{object:"relation_font_size",min:5,max:100,step:1,value:uS.series[0].edgeLabel.fontSize,disable:!1,range:"min"},{object:"subject_font_size",min:5,max:100,step:1,value:uS.series[0].label.fontSize,disable:!1,range:"min"},{object:"node_size",min:.2,max:5,step:.2,value:1,disable:!1,range:"min"},{object:"common_show_value",min:aS-1,max:oS,step:1,value:aS,disable:!1,range:"min"},{object:"word_strength",min:lS-1,max:sS,step:1,value:lS,disable:!1,range:"min"},{object:"relation_distance",min:50,max:1e3,step:25,values:[uS.series[0].force.edgeLength[0]/5,uS.series[0].force.edgeLength[1]/5],disable:!1,range:!0}],cS=0,dS=0,pS=[],fS=[],gS=[],mS=[],vS=[];function yS(){dS=0,cS=0,pS=[],fS=[],gS=[],mS.forEach(t=>{"not"===t.type?t.keywordNot():"line"===t.model?t.lineAppend():t.keywordCleanUp()}),vS=[];for(let t of pS)for(const e of t.nodeName)vS.push(e);return 0===fS.length&&0===gS||function(t,e){rS.all_category=rS.all_category.filter(t=>(t.show=!0,t)),0!==t.length&&t.forEach(t=>{let e=[];if(Array.isArray(t)){rS.all_category.filter(i=>{t.includes(i.name)&&e.push(i.target,i.source)});for(let i=1;i<t.length;i++)e=e.filter((function(t,e,i){return i.indexOf(t)!==e}));rS.all_category=rS.all_category.filter(i=>(t.includes(i.name)&&e.includes(i.target)&&e.includes(i.source)&&(i.show=!1),i))}else rS.all_category="ç¡å±ç¾"===t?rS.all_category.filter(t=>(0===t.value&&(t.show=!1),t)):rS.all_category.filter(e=>(t===e.name&&(e.show=!1),e))});console.log(e.length),0!==e.length&&(rS.all_category=rS.all_category.filter(t=>((e.includes(t.target)||e.includes(t.source))&&(t.show=!1),t)))}(fS,gS),pS}function _S(t,e,i){this.nodeName=t,this.lineName=e,this.lineName2=i}class bS{constructor(t,e,i){this.name=e,this.type=t,this.model=i}keywordCleanUp(){let t=[];if("and"===this.type)if(this.name.includes("|")){if(t=this.name.split("|"),0===cS){for(var e=0;e<t.length;e++)pS.push(new _S([],[],[]));cS=1}else for(var i=1;i<t.length;i++)for(e=dS;e<dS+cS;e++)pS.push(new _S(pS[e].nodeName,pS[e].lineName,pS[e].lineName2));t.forEach((function(t,e,i){t=(t=t.trim()).includes("&")?this.name.split("&"):Array(t);for(var n=dS+e*cS;n<dS+(e+1)*cS;n++)for(var r=0,o=t.length;r<o;r++)pS[n].nodeName.push(t[r])})),cS*=t.length}else{t=this.name.includes("&")?this.name.split("&"):Array(this.name),0===cS&&(pS.push(new _S([],[],[])),cS++);for(e=dS;e<dS+cS;e++)for(var n=0,r=t.length;n<r;n++)pS[e].nodeName.push(t[n])}else dS=pS.length-1,cS=0,this.name.includes("|")?(t=this.name.split("|"),cS+=t.length,t.forEach((function(t,e,i){t=t.includes("&")?this.name.split("&"):Array(t),pS.push(new _S(t,[],[]))}))):(t=this.name.includes("&")?this.name.split("&"):Array(this.name),cS++,pS.push(new _S(t,[],[])));console.log(pS),console.log(cS),console.log(dS)}lineAppend(){let t=this.name;if(0===pS.length||"or"===this.type){if(cS=1,t.includes("|")){t=t.split("|");let e=[];t.forEach(t=>{t=t.includes("&")?t.split("&"):new Array(t),e.push(t)}),t=e}else t=t.includes("&")?t.split("&"):Array(t),t=[t];pS.push(new _S([],t,[])),dS=pS.length-1}else{var e=pS[dS].lineName.length;if(t.includes("|")){t=t.split("|");for(let i=1;i<t.length;i++)for(let t=0;t<e;t++)pS[dS].lineName.push(JSON.parse(JSON.stringify(pS[dS].lineName[t])));for(let n=0;n<t.length;n++)if(t[n].includes("&"))for(t[n]=t[n].split("&"),i=e*n;i<e*(n+1);i++)t[n].forEach(t=>{pS[dS].lineName[i].push(t)});else if(0==e)t[n]=[t[n]],pS[dS].lineName.push(t[n]);else for(i=e*n;i<e*(n+1);i++)pS[dS].lineName[i].push(t[n])}else if(t.includes("&"))t=t.split("&"),0==e&&pS[dS].lineName.push([]),pS[dS].lineName.forEach(e=>{t.forEach(t=>{e.push(t)})});else if(0==e)t=[t],pS[dS].lineName.push(t);else for(let i=0;i<e;i++)pS[dS].lineName[i].push(t);for(let t=dS+1;t<dS+cS;t++)pS[t].lineName=JSON.parse(JSON.stringify(pS[dS].lineName))}console.log(pS[dS].lineName)}keywordNot(){if("line"===this.model){let t=[];this.name.includes("|")?(t=this.name.split("|"),t.forEach(t=>{t.includes("&")&&(t=t.split("&")),fS.push(t)})):this.name.includes("&")?fS.push(this.name.split("&")):fS.push(this.name)}else this.name.includes("|")?gS.push(this.name.split("|")):gS.push(this.name)}}function xS(t,e,i){if(mS.includes(t))return alert("Error :  same keyword can not search more than twice"),$("#keyword_search_field").val(""),1;mS.push(new bS(e,t,i)),i="line"===i?"ç·":"é»";let n=t.replace("&"," and ");return n=n.replace("|"," or "),$("#keyword_search_field").val(""),1===mS.length?$(".keyword").append(`<div class="keyword_item" data-item="${t}">\n\t\t<p class="keyword_name" >${i}:<font color="red">${n}</font></p>\n\t\t<button class="keyword_delete" data-name='${t}'>åªé¤</button>\n\t</div>`):$(".keyword").append(`<div class="keyword_item" data-item="${t}">\n\t\t<p class="keyword_name" >${e} ${i}:<font color="red">${n}</font></p>\n\t\t<button class="keyword_delete" data-name='${t}'>åªé¤</button>\n\t</div>`),$(".keyword_delete").off("click").click(t=>{var e=t.currentTarget.dataset.name;console.log(e);let i=mS.map((function(t,e,i){return t.name})).indexOf(e);mS.splice(i,1),$(`div[data-item="${e}"]`).remove(),$(".max_level").hide(),aC()}),$(".keyword").scrollTop((function(){return this.scrollHeight})),0}var wS={nodes:[],links:[],category:[],routeHash:[],route:[]};function SS(t,e){return wS.links=[],wS.category=[],wS.nodes=[],wS.route=[],wS.routeHash=[],t.forEach(t=>{0===t.nodeName.length?DS(t):1===t.nodeName.length?TS(t,e):function(t,e){let i=[],n=[];t.nodeName.forEach(e=>{let n=[];n.push(e);let r=[];for(g=0;;){rS.category.filter(t=>{if(n.includes(t.target)||n.includes(t.source))return r.push(t.target,t.source),t}),r=Array.from(new Set(r)),n=r.filter(t=>!t.includes(e)),g++;var o=0;if(t.nodeName.forEach(t=>{n.includes(t)&&o++}),o===t.nodeName.length-1)break}i.push(g)}),i.sort((function(t,e){return e-t})),console.log(i);let r=new Array,o=new Array,a=new Array;o.push(new Array(t.nodeName[0])),o.push(new Array),o[1].push(0),a.push(t.nodeName[0]);let s=t.nodeName[1],l=[],u=0,h=[];for(;;){u++,l=[];let t=[];if(rS.category.filter(e=>{(a.includes(e.target)||a.includes(e.source))&&!0===e.show&&(e.target===s||e.source===s?r.push(u):o[0].includes(e.target)?o[0].includes(e.source)||(t.push(e.source),o[0].push(e.source),o[1].push(u)):(t.push(e.target),o[0].push(e.target),o[1].push(u)))}),t=Array.from(new Set(t)),a=t.filter(t=>{if(t!==s)return t}),0===a.length)break}console.log("YA!!!!!"),console.log(o),r=Array.from(new Set(r)),console.log(r),r.sort((function(t,e){return e-t}));let c=r[0];o[1].forEach((function(t,e,i){t>=c&&(o[1].splice(e,1),o[0].splice(e,1))})),o[0].push(s),o[1].push(c),l=rS.category.filter(t=>{if(o[0].includes(t.target)&&o[0].includes(t.source))return t});for(;;){o[0].forEach((function(t,e,i){if(t!==s){0===l.filter(i=>{if(i.target===t){if(o[1][o[0].indexOf(i.source)]>o[1][e])return i}else if(i.source===t&&o[1][o[0].indexOf(i.target)]>o[1][e])return i}).length&&(o[1].splice(e,1),o[0].splice(e,1))}}));let t=l.length;if(l=l.filter(t=>{if(o[0].includes(t.target)&&o[0].includes(t.source))return t}),l.length===t)break}for(let e=1;e<t.nodeName.length;e++){let i,r=new Array,o=new Array,a=new Array,s=!0,u=t.nodeName[0],c=-1,g=t.nodeName[e];for(;;){a=[],i=[],r.push(u);let e=[];0!==t.lineName.length?t.lineName.forEach(t=>{let i=[];if(l.filter(n=>{u!==n.target&&u!==n.source||t.includes(n.name)&&(t.length>1?i.push(n.target,n.source):(h.push(n.target,n.source),e.push(n)))}),t.length>1){for(let e=1;e<t.length;e++)i=i.filter((function(t,e,i){return i.indexOf(t)!==e}));dataSet=l.filter(t=>{if(u===t.target||u===t.source)return t}),e=kS(t,i,l,dataSet),e.forEach(t=>{collect.push(t.target,t.source)})}}):e=l.filter(t=>{if(u===t.target||u===t.source)return t}),e.filter(t=>{i.push(t.target,t.source)}),i=Array.from(new Set(i));for(let t=0,e=i.length;t<e;t++)r.includes(i[t])||a.push(i[t]);if(o.push(a),c++,r[r.length-1]==g){n.push(Array.from(r)),console.log(r);for(var d=0,p=o.length;d<p;d++)if(0!=o[d].length){s=!1;break}if(1==s)break;s=!1}if(0==r.length&&0==n.length)return f=t.nodeName,void alert("Error2 : æå°ä¸å°è·¯å¾ : "+f);do{for(;0==o[c].length&&0!=c;)r.pop(),o.pop(),c--;u=o[c].pop()}while(r.includes(u));if(null==u)break}}var f;console.log("YA!!!!!"),console.log(n.length),console.log(n);for(d=0;d<n.length;d++){var g=0;t.nodeName.forEach(t=>{n[d].includes(t)&&g++}),g!=t.nodeName.length&&(n.splice(d,1),d--)}n.forEach(t=>{e.push(t)}),console.log("finish")}(t,wS.route)}),0!==wS.route.length&&(wS.route.forEach(t=>{wS.routeHash.includes(t.length-1)||wS.routeHash.push(t.length-1)}),wS.routeHash.sort((function(t,e){return t-e})),MS(wS.route,e)),wS}function CS(t,e){return wS.links=[],wS.category=[],wS.nodes=[],t.forEach(t=>{0===t.nodeName.length?DS(t):1===t.nodeName.length&&TS(t,e)}),0!==wS.route.length&&MS(wS.route,e),wS}function kS(t,e,i,n=rS.category){let r=[];for(let i=1;i<t.length;i++)e=e.filter((function(t,e,i){return i.indexOf(t)!==e}));return n.filter(i=>{!0===i.show&&t.includes(i.name)&&e.includes(i.target)&&e.includes(i.source)&&r.push(i)}),r.forEach(e=>{r.filter(t=>{if(e.target===t.target&&e.source===t.source){if(e.name===t.name&&e.id===t.id)return t;if(e.name!==t.name)return t}else if(e.target===t.source&&e.source===t.target&&e.name!=t.name)return t}).length===t.length&&i.push(e)}),i}function TS(t,e){if("All"===e)var i=200;else i=e;var n,r,o=[];let a=JSON.parse(JSON.stringify(t.nodeName)),s=[];var l=0;for(let e=0;e<i;e++){if(0!==t.lineName.length?t.lineName.forEach(t=>{let e=[];if(rS.category.filter(i=>{(a.includes(i.target)||a.includes(i.source))&&!0===i.show&&t.includes(i.name)&&(t.length>1?e.push(i.target,i.source):(s.push(i.target,i.source),o.push(i)))}),t.length>1){var i=rS.category.filter(t=>{if(a.includes(t.target)||a.includes(t.source))return t});(o=kS(t,e,o,i)).forEach(t=>{s.push(t.target,t.source)})}}):o=rS.category.filter(t=>{if((a.includes(t.target)||a.includes(t.source))&&!0===t.show)return s.push(t.target,t.source),t}),a=s.filter(e=>!e.includes(t.nodeName)),a=Array.from(new Set(a)),o.length===l){let t=e;for(var u=1;u<=t;u++)wS.routeHash.includes(u)||wS.routeHash.push(u);wS.routeHash.sort((function(t,e){return t-e}));break}l=o.length}s=[],n=o.filter(t=>{if(1==t.show)return s.push(t.source,t.target),t}),s=Array.from(new Set(s)),r=rS.nodes.filter(t=>s.includes(t.name)),IS(o,n,r)}function DS(t){let e,i,n=[],r=[];0!==t.lineName.length&&t.lineName.forEach(t=>{let e=[];rS.category.filter(i=>{!0===i.show&&t.includes(i.name)&&(t.length>1?e.push(i.target,i.source):(console.log(i.name),r.push(i.target,i.source),n.push(i)))}),t.length>1&&(n=kS(t,e,n,dataSet),n.forEach(t=>{r.push(t.target,t.source)}))}),e=n,r=Array.from(new Set(r)),i=rS.nodes.filter(t=>r.includes(t.name)),IS(n,e,i)}function MS(t,e){var i,n=[],r=[],o=[];if("All"===e)var a=0;else for(var s=0,l=t.length;s<l;s++)if(t[s].length-1===e){a=s;break}for(;a<t.length;a++){s=0;for(var u=t[a].length;s<u-1;s++)r=r.concat(rS.category.filter(e=>{if(t[a][s].includes(e.target)&&t[a][s+1].includes(e.source)){if(!0===e.show)return e}else if(t[a][s+1].includes(e.target)&&t[a][s].includes(e.source)&&!0===e.show)return e}));let i=n.map((function(t,e,i){return t.id}));if(r=r.filter(t=>!i.includes(t.id)),o=o.concat(t[a]),o=Array.from(new Set(o)),n=n.concat(r),a+1===t.length)break;if("All"!==e&&t[a].length!==t[a+1].length)break}i=n.filter(t=>{if(1==t.show)return t}),IS(n,i,rS.nodes.filter(t=>o.includes(t.name)))}function IS(t,e,i){let n=wS.category.map((function(t,e,i){return t.id}));t=t.filter(t=>!n.includes(t.id)),wS.category=wS.category.concat(t),n=wS.links.map((function(t,e,i){return t.id})),e=e.filter(t=>!n.includes(t.id)),wS.links=wS.links.concat(e),n=wS.nodes.map((function(t,e,i){return t.name})),i=i.filter(t=>!n.includes(t.name)),wS.nodes=wS.nodes.concat(i)}n(12);function AS(t,e){var i,n=[],r=Object.create(null),o=Object.create(null);return t.forEachNode((function(t){o[t.id]=0})),t.forEachNode((function(a){(function(i){t.forEachNode((function(t){var e=t.id;r[e]=-1})),r[i]=0,n.push(i);for(;n.length;){var o=n.shift();t.forEachLinkedNode(o,a,e)}function a(t){var e=t.id;-1===r[e]&&(r[e]=r[o]+1,n.push(e))}})(i=a.id),s=Object.keys(r).map((function(t){return r[t]})).filter((function(t){return-1!==t})),l=s.length,u=s.reduce((function(t,e){return t+e})),o[i]=u>0?(l-1)/u:0;var s,l,u})),o}function PS(t,e){var i,n=[],r=Object.create(null),o=Object.create(null);return t.forEachNode((function(t){o[t.id]=0})),t.forEachNode((function(a){(function(i){t.forEachNode((function(t){var e=t.id;r[e]=-1})),r[i]=0,n.push(i);for(;n.length;){var o=n.shift();t.forEachLinkedNode(o,a,e)}function a(t){var e=t.id;-1===r[e]&&(r[e]=r[o]+1,n.push(e))}})(i=a.id),s=0,Object.keys(r).forEach((function(t){var e=r[t];s<e&&(s=e)})),o[i]=s;var s})),o}function OS(t,e){var i=0;if(!t)return i;for(var n=0;n<t.length;n+=1)i+=t[n].toId===e?1:0;return i}function LS(t,e){var i=0;if(!t)return i;for(var n=0;n<t.length;n+=1)i+=t[n].fromId===e?1:0;return i}function ES(t){return t?t.length:0}function NS(t,e){var i,n=[],r=[],o=Object.create(null),a=Object.create(null),s=Object.create(null),l=Object.create(null),u=Object.create(null);return t.forEachNode((function(t){u[t.id]=0})),t.forEachNode((function(c){(function(i){t.forEachNode((function(t){var e=t.id;o[e]=[],a[e]=-1,s[e]=0})),a[i]=0,s[i]=1,n.push(i);for(;n.length;){var l=n.shift();r.push(l),t.forEachLinkedNode(l,u,e)}function u(t){!function(t){-1===a[t]&&(a[t]=a[l]+1,n.push(t));a[t]===a[l]+1&&(s[t]+=s[l],o[t].push(l))}(t.id)}})(i=c.id),function(){t.forEachNode(h);for(;r.length;){for(var e=r.pop(),n=(1+l[e])/s[e],a=o[e],c=0;c<a.length;++c){var d=a[c];l[d]+=s[d]*n}e!==i&&(u[e]+=l[e])}}()})),e||Object.keys(u).forEach((function(t){u[t]/=2})),u;function h(t){l[t.id]=0}}var RS,zS=n(9),BS=n.n(zS),HS=(n(13),[]),FS=[0,0,0];let WS=[];function VS(){document.querySelector(".centralitySelecter").onchange=function(t){!function(t){$S();var e=[];uS.series[0].categories.forEach(t=>{e.push(t.target,t.source)}),e=Array.from(new Set(e)),uS.series[0].nodes=rS.nodes.filter(t=>e.includes(t.name)),"betweenness"===t?function(){let t=NS(RS);HS=[],uS.series[0].nodes.forEach(e=>{HS.push([e.name,t[e.name]])})}():"closeness"===t?function(){let t=AS(RS);console.log(t),HS=[],uS.series[0].nodes.forEach(e=>{HS.push([e.name,t[e.name]])})}():"eccentricity"===t?function(){let t=PS(RS);HS=[],uS.series[0].nodes.forEach(e=>{HS.push([e.name,t[e.name]])})}():"degree"===t&&function(){let t=function(t,e){var i,n=Object.create(null);if("both"===(e=(e||"both").toLowerCase())||"inout"===e)i=ES;else if("in"===e)i=OS;else{if("out"!==e)throw new Error("Expected centrality degree kind is: in, out or both");i=LS}return t.forEachNode((function(e){var r=t.getLinks(e.id);n[e.id]=i(r,e.id)})),n}(RS);HS=[],uS.series[0].nodes.forEach(e=>{HS.push([e.name,t[e.name]])})}();(function(){if(HS.sort((function(t,e){return t[1]>e[1]?1:t[1]<e[1]?-1:0})),HS[HS.length-1][1]<=1)var t=5;else if(HS[HS.length-1][1]<=10)t=3;else if(HS[HS.length-1][1]<=100)t=2;else t=0;WS=[],HS.forEach(e=>{e[1]=function(t,e){return Math.round(Math.round(t*Math.pow(10,(e||0)+1))/10)/Math.pow(10,e||0)}(e[1],t),WS.push(e[1])}),WS=Array.from(new Set(WS)),console.log(WS),$(".slider_item > #centrality").slider({min:0,max:WS.length-1,step:1,value:0,disable:!1,range:"min"}),$(".slider_item > input[id=centrality]").val(WS[0]),$(".centrality").show()})(),$(".centrality").show(),qS("centrality",0)}(t.target.value)},document.querySelector(".switch-input").onclick=function(t){!function(){"circular"===uS.series[0].layout?uS.series[0].layout="force":uS.series[0].layout="circular";lC()}()},$(".centrality").hide();for(let t of hS)$(".slider_item > #"+t.object).slider({disabled:t.disable,range:t.range,min:t.min,max:t.max,step:t.step,value:t.value}),"word_strength"===t.object||"common_show_value"===t.object?$(`.slider_item > input[id=${t.object}]`).val("â¥ "+t.value):"relation_distance"===t.object?$(`.slider_item > input[id=${t.object}]`).val(t.values):$(`.slider_item > input[id=${t.object}]`).val(t.value)}function jS(t,e){if("All"===t)qS("All",1);else switch("common_show_value"==t.target.id||"word_strength"==t.target.id?-1==e.value?$("input[id="+t.target.id+"]").val("= 0"):$("input[id="+t.target.id+"]").val("â¥ "+e.value):"relation_distance"==t.target.id?$("input[id="+t.target.id+"]").val(e.values):$("input[id="+t.target.id+"]").val(e.value),t.target.id){case"relation_strength":case"group_label_distance":break;case"relation_distance":uS.series[0].force.edgeLength=e.values,uS.series[0].force.edgeLength[0]*=5,uS.series[0].force.edgeLength[1]*=5;break;case"node_distance":uS.series[0].force.repulsion=100*e.value;break;case"relation_link_width":rS.links.forEach(t=>{t.lineStyle.width=t.lineStyle.originalWidth*e.value});break;case"main_screen_room":uS.series[0].zoom=e.value;break;case"relation_font_size":uS.series[0].edgeLabel.fontSize=e.value;break;case"subject_font_size":uS.series[0].label.fontSize=e.value;break;case"node_size":rS.nodes.forEach(t=>{t.symbolSize=t.originalSymbolSize*e.value});break;case"word_strength":qS("word",e.value);break;case"common_show_value":qS("common",e.value);break;case"centrality":qS("centrality",e.value);break;case"arrowSize":uS.series[0].edgeSymbolSize=e.value}}function qS(t,e){uS.series[0].links=JSON.parse(JSON.stringify(uS.series[0].categories)),"common"===t?FS[0]=e:"word"===t?FS[1]=e:"centrality"===t&&(FS[2]=e),function(t){var e=[];uS.series[0].links=uS.series[0].links.filter(i=>{if(-1==t){if(0==i.value)return e.push(i.target,i.source),i}else if(i.value>=t)return e.push(i.target,i.source),i}),e=Array.from(new Set(e)),uS.series[0].nodes=rS.nodes.filter(t=>e.includes(t.name))}(FS[0]),function(t){var e=[],i=[];uS.series[0].nodes=uS.series[0].nodes.filter(i=>{if(i.idf>=t)return e.push(i.name),i}),uS.series[0].links=uS.series[0].links.filter(t=>{if(e.includes(t.target)&&e.includes(t.source))return i.push(t.target,t.source),t}),!1===$(".alone").is(":checked")&&(uS.series[0].nodes=rS.nodes.filter(t=>i.includes(t.name)))}(FS[1]),function(t){if(0===WS.length)return;$(".slider_item > input[id=centrality]").val(WS[t]);let e=[];HS.forEach(i=>{i[1]<WS[t]&&e.push(i[0])}),uS.series[0].links.forEach((function(t,i,n){(e.includes(t.target)||e.includes(t.source))&&(t.lineStyle.opacity=.1,t.label.show=!1)})),uS.series[0].nodes.forEach(t=>{t.itemStyle.opacity=1,e.includes(t.name)&&(t.itemStyle.opacity=.1)})}(FS[2])}function $S(){RS=BS()(),uS.series[0].nodes.forEach(t=>{RS.addNode(t.name)}),console.log(RS),uS.series[0].categories.forEach(t=>{RS.addLink(t.target,t.source)})}var YS=n(6),US={insert:"head",singleton:!1},GS=($w()(YS.a,US),YS.a.locals,n(10)),XS=n.n(GS);let ZS=null;function KS(t,e){!function(t,e){$(".current_node").html(`é¡¯ç¤ºçé» : (${t.length})`),$(".nodeSelected").children().remove();var i=0;for(const o of groupName){const a=document.createElement("details");var n=document.createElement("summary");n.appendChild(document.createTextNode(o));var r=document.createElement("button");r.className="color-lump",r.role="button",r.name=i,r.value=r.style.backgroundColor=userColors[i],r.id="node",n.appendChild(r),a.appendChild(n),a.className="nodeList"+i,$(".nodeSelected").append(a),t.forEach(t=>{if(t.gp===i){var n=t.name,r="";if(void 0!==e&&0!==e.length){var o=0;e.forEach(e=>{e.includes(t.name)&&o++}),e.length===o&&(n=t.name+" (å¿è¦)")}vS.includes(t.name)&&(r='disabled="disabled"'),$(".nodeList"+i).append(`<div class="nodeSelected_item" value="${t.name}">\n             <label><font color="${t.itemStyle.color}"><input type="checkbox" id="${t.name}" name="node_list" value="${t.name}" ${r}  checked >${n}</front></label>\n             <div class="color-lump" style="background-color:${t.itemStyle.color}"></div></div>`)}}),i++}$(".nodeSelected").scrollTop((function(){return this.scrollHeight})),document.querySelector(".nodeSelected").onchange=function(t){!function(t){console.log(t.target.value),xS(t.target.value,"not","node"),aC()}(t)}}(t.series[0].nodes,e),function(t,e){let i=[];$(".current_relation").html(`é¡¯ç¤ºçç· : (${t.length})`),$(".lineSelected").children().remove();let n=[];if(void 0!==e&&0!==e.length)for(let t=1;t<e.length;t++)i=i.filter((function(t,e,i){return i.indexOf(t)!==e}));t.forEach(t=>{0===t.value&&(n.includes("ç¡å±ç¾")||(n.push("ç¡å±ç¾"),$(".lineSelected").append('<div class="lineSelected_item" data-item="ç¡å±ç¾">\n            <label><font color="gray"><input type="checkbox" name="node_list" value="ç¡å±ç¾" checked>ç¡å±ç¾(0)</front></label></div><div class="color-lump" style="background-color:"gray"></div>')))}),t.forEach(t=>{if(!n.includes(t.name)){n.push(t.name);var e=t.name;i.includes(t.name)&&(e=t.name+" (å¿è¦)"),$(".lineSelected").append(`<div class="lineSelected_item" value="${t.name}">\n            <label><font color="${t.lineStyle.color}"><input type="checkbox" name="lineList" value="${t.name}" checked>${e}</front></label></div><div classs="${t.name}"><button id='line' class="color-lump" role="button"  name="${t.name}" value="${t.lineStyle.color}" style="background-color: ${t.lineStyle.color}"></button></div>`)}}),$(".lineSelected").scrollTop((function(){return this.scrollHeight})),document.querySelector(".lineSelected").onchange=function(t){!function(t){console.log(t.target.value),xS(t.target.value,"not","line"),aC()}(t)},$("button.color-lump").off("click").click(t=>{var e,i,n;console.log(t.currentTarget.name),console.log(t.currentTarget.value),console.log(t.currentTarget.id),e=t.currentTarget.name,i=t.currentTarget.value,n=t.currentTarget.id,ZS&&ZS.destroyAndRemove(),ZS=new XS.a(Object.assign({el:".color-lump",theme:"nano",default:i,defaultRepresentation:"HEX",useAsButton:!0,autoReposition:!0,position:"bottom-middle",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!0}}})),ZS.show(),ZS.on("init",t=>{}).on("hide",t=>{}).on("show",(t,e)=>{console.log('Event: "show"',t,e)}).on("save",(t,i)=>{console.log(t.toHEXA().toString()),uC(e,t.toHEXA().toString(),n),ZS.hide()}).on("change",(t,e,i)=>{}).on("changestop",(t,e)=>{console.log('Event: "changestop"',t,e)}).on("cancel",t=>{console.log('Event: "cancel"',t)}).on("swatchselect",(t,e)=>{console.log('Event: "swatchselect"',t,e)})})}(t.series[0].categories,e)}em([function(t){t.registerComponentModel(im),t.registerComponentView(nm)},function(t){em(Wv),t.registerComponentModel(Vv),t.registerComponentView(oy),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))},function(t){em(by),em(Dy)},function(t){t.registerChartView(Wx),t.registerSeriesModel(zw),t.registerProcessor(Nb),t.registerVisual(Rb),t.registerVisual(Bb),t.registerLayout(Ub),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,tx),t.registerLayout(ix),t.registerCoordinateSystem("graphView",{dimensions:ox.dimensions,create:ax}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},(function(){})),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},(function(){})),t.registerAction(Bw,(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){var i=function(t,e,i){var n=t.getZoom(),r=t.getCenter(),o=e.zoom,a=t.dataToPoint(r);if(null!=e.dx&&null!=e.dy&&(a[0]-=e.dx,a[1]-=e.dy,t.setCenter(t.pointToData(a))),null!=o){if(i){var s=i.min||0,l=i.max||1/0;o=Math.max(Math.min(n*o,l),s)/n}t.scaleX*=o,t.scaleY*=o;var u=(e.originX-t.x)*(o-1),h=(e.originY-t.y)*(o-1);t.x-=u,t.y-=h,t.updateTransform(),t.setCenter(t.pointToData(a)),t.setZoom(o*n)}return{center:t.getCenter(),zoom:t.getZoom()}}(e.coordinateSystem,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))},function(t){t.registerPainter("canvas",jw)},function(t){t.registerComponentModel(Zy),t.registerComponentView(t_),Gy("saveAsImage",i_),Gy("magicType",a_),Gy("dataView",p_),Gy("dataZoom",Eb),Gy("restore",y_),em($y)}]),window.jQuery=window.$=Xw.a,Xw()(".sidebar").hide();const QS=function(t,e,i){var n=jg(t);if(n)return n;var r=new Tg(t,e,i);return r.id="ec_"+Wg++,Hg[r.id]=r,Un(t,Vg,r.id),bg(r),Uf(Eg,(function(t){t(r)})),r}(document.getElementById("main"),null,{renderer:"canvas"});QS.showLoading("default");var JS=(new Date).getTime();console.log("data:"),console.log(rS),QS.hideLoading(),Xw()(".sidebar").show();var tC=(new Date).getTime();console.log(tC-JS+"ms");1===dataType?(uS.series[0].edgeLabel.show=!1,uS.series[0].edgeSymbol=[],uS.series[0].edgeLabel.formatter=function(t){return t.data.value},Xw()(".lineSelected").hide(),Xw()("#kModel").hide(),Xw()(".current_relation").hide()):2===dataType&&(uS.series[0].edgeLabel.formatter=function(t){return t.data.name},uS.series[0].itemStyle.label.formatter=function(t){return t.name},Xw()(".common_show_value").hide(),Xw()(".word_strength").hide());var eC=[[],[]];uS.series[0].categories.forEach(t=>{eC[0].includes(t.id)||eC[1].includes(t.id)||uS.series[0].categories.forEach(e=>{e.target===t.source&&e.source===t.target&&e.name===t.name&&(eC[0].includes(t.id)||eC[1].includes(t.id)||(eC[0].push(t.id),eC[1].push(e.id)))})});var iC,nC="All",rC=[];function oC(t){if(13===t.which||"click"===t.type){let t=Xw()("#keyword_search_field").val();t=t.toLowerCase(),t=t.replace(" and ","&"),t=t.replace(" or ","|");var e=Xw()("#kClass").val();if(1===dataType)var i="node";else i=Xw()("#kModel").val();let n=[],r=[];t.includes("|")?n=t.split("|"):n.push(t);for(let t of n)t.includes("&")?(t=t.split("&"),t.forEach(t=>{r.push(t)})):r.push(t);if("node"===i){for(const e of r)if(!rS.all_nodes.includes(e))throw alert("Error1 : æ¾ä¸å°ééµå­:"+t)}else for(const e of r)if(!allLine.includes(e))throw alert("Error1 : æ¾ä¸å°ééµå­:"+t);0===xS(t,e,i)&&aC()}}function aC(){if(rC=yS(),console.log(rC),0===rC.length)!function(){let t=[];uS.series[0].categories=rS.all_category.filter(e=>{if(1==e.show)return t.push(e.source,e.target),e}),uS.series[0].links=uS.series[0].categories,t=Array.from(new Set(t)),uS.series[0].nodes=rS.nodes.filter(e=>(e.itemStyle.color=userColors[e.gp],t.includes(e.name))),lC(!0)}();else{if(iC=SS(rC,"All"),"All"!=nC&&iC.routeHash.includes(nC)?iC=CS(rC,nC):iC.routeHash.includes(nC)||(nC="All"),"All"!=nC)var t=nC;else t=iC.routeHash.length;sC(),Xw()(".slider_item > #max_level").slider({min:0,max:iC.routeHash.length,step:1,value:t,disable:!1,range:"min"}),Xw()(".slider_item > input[id=max_level]").val(nC),Xw()(".max_level").show()}}function sC(){uS.series[0].categories=iC.category,uS.series[0].links=iC.links,console.log(vS),uS.series[0].nodes=iC.nodes.filter(t=>(vS.includes(t.name)?t.itemStyle.color="red":t.itemStyle.color=userColors[t.gp],t)),lC()}function lC(t=!0){KS(uS,null==iC?void 0:iC.route),""!==Xw()("#Cselecter").val()&&jS("All"),uS.series[0].links.forEach((function(t,e,i){eC[1].includes(t.id)&&uS.series[0].links.splice(e,1),eC[0].includes(t.id)&&(t.symbol="arrow")})),QS.setOption(uS,t)}function uC(t,e,i){if("node"===i){var n=parseInt(t);userColors[n]=e,rS.nodes.forEach(t=>{t.gp===n&&(t.itemStyle.color=e)}),uS.series[0].nodes.forEach(t=>{t.gp===n&&(t.itemStyle.color=e)})}else rS.category.forEach(i=>{i.name===t&&(i.lineStyle.color=e)}),uS.series[0].categories.forEach(i=>{i.name===t&&(i.lineStyle.color=e)}),uS.series[0].links.forEach(i=>{i.name===t&&(i.lineStyle.color=e)});lC(!1)}window.onresize=()=>{QS.resize()},Xw()("#keyword_search_field").keyup(t=>{oC(t)}),Xw()("#keyword_search_button").on("click",oC),Xw()(()=>{Xw()(".max_level").hide(),VS(),document.querySelector(".alone").onclick=function(t){jS("All"),lC()},Xw()(".slider_slider").slider({slide:function(t,e){var i;"max_level"===t.target.id?(i=e.value,nC=i===iC.routeHash.length?"All":iC.routeHash[i],Xw()(".slider_item > input[id=max_level]").val(nC),iC=CS(rC,nC),sC()):jS(t,e),lC(!1)}}),lC(),tC=(new Date).getTime(),console.log(tC-JS+"ms")}),QS.on("click",t=>{var e,i,n;-1==bookId.indexOf("_")&&"title"!==t.componentType&&(console.log(bookId,t.data.source,t.data.target,t.data.name),null==t.data.source&&null==t.data.target?(e=bookId,i=t.data.name,n='"'+i+'"',Xw.a.get(window.location.origin+"/member/text/segementDetails.jsp",{only_show_authority:Xw()("#only_show_authority").val(),show_info:Xw()("#show_info").val(),pageNums:Xw()("#pageNums").val(),bookID:e,bid:e,searchKey:n,ckDic:Xw()("#DicCK").prop("checked"),pages:1,isStart:"1"},(function(t){var e=window.open("about:blank",i,"width=800,height=600");e.document.write(t),e.document.close()}))):function(t,e,i,n){var r='"'+e+'" AND "'+i+'"';Xw.a.get(window.location.origin+"/member/text/segementRelationDetails.jsp",{bid:t,searchKey:r,pages:1,isStart:"1",relation:n},(function(t){var n=window.open("about:blank",e+i,"width=800,height=600");n.document.write(t),n.document.close()}))}(bookId,t.data.source,t.data.target,t.data.name))}),QS.on("dblclick",t=>{if("title"===t.componentType){let t=prompt("è«å¡«å¥æ¨é¡åç¨±");null!==t&&(uS.title.text=t),lC(!1)}})}]);